class TimedSwitch {
	constructor(swicthLifespan){
		this.swicthLifespan = swicthLifespan
		this.switches = {}
	}

	flip(key) {
		if(key in this.switches ) {
			clearTimeout( this.switches[key])
		}
		this.switches[key] = setTimeout(this.swicthLifespan, ()=> this.flop(key))
	}
	peek(key){
		return  key in this.switches
	}
	flop(key) {
		let have = key in this.switches

		if(have){
			clearTimeout( this.switches[key])
			delete this.switches[key]
		}

		return have
	}
}
export default TimedSwitch