{"map":"{\"version\":3,\"sources\":[\"webpack/bootstrap\",\"/Users/fullname/Documents/mandatinternational/docker-symfony4-udggui/symfony/public/bundles/map/node_modules/componentBase/src lazy groupOptions: {} namespace object\",\"/Users/fullname/Documents/mandatinternational/docker-symfony4-udggui/symfony/public/bundles/map/node_modules/map-component/src lazy groupOptions: {} namespace object\",\"/Users/fullname/Documents/mandatinternational/docker-symfony4-udggui/symfony/public/bundles/map/node_modules/componentBase/src/CSVToArray.js\",\"/Users/fullname/Documents/mandatinternational/docker-symfony4-udggui/symfony/public/bundles/map/node_modules/componentBase/src/Serializer.js\",\"/Users/fullname/Documents/mandatinternational/docker-symfony4-udggui/symfony/public/bundles/map/node_modules/componentBase/src/handlers.js\",\"/Users/fullname/Documents/mandatinternational/docker-symfony4-udggui/symfony/public/bundles/map/node_modules/componentBase/src/nearley.mjs\",\"/Users/fullname/Documents/mandatinternational/docker-symfony4-udggui/symfony/public/bundles/map/node_modules/componentBase/src/HandlerParser.js\",\"/Users/fullname/Documents/mandatinternational/docker-symfony4-udggui/symfony/public/bundles/map/node_modules/componentBase/src/EventHandler.js\",\"/Users/fullname/Documents/mandatinternational/docker-symfony4-udggui/symfony/public/bundles/map/node_modules/componentBase/src/ModuleHandler.js\",\"/Users/fullname/Documents/mandatinternational/docker-symfony4-udggui/symfony/public/bundles/map/node_modules/componentBase/src/Coercer.js\",\"/Users/fullname/Documents/mandatinternational/docker-symfony4-udggui/symfony/public/bundles/map/node_modules/componentBase/src/ComponentBase.js\",\"/Users/fullname/Documents/mandatinternational/docker-symfony4-udggui/symfony/public/bundles/map/node_modules/map-component/src/MapAdapter.js\",\"/Users/fullname/Documents/mandatinternational/docker-symfony4-udggui/symfony/public/bundles/map/node_modules/map-component/src/GoogleMapAdapter.js\",\"/Users/fullname/Documents/mandatinternational/docker-symfony4-udggui/symfony/public/bundles/map/node_modules/map-component/src/LeafletAdapter.js\",\"/Users/fullname/Documents/mandatinternational/docker-symfony4-udggui/symfony/public/bundles/map/node_modules/map-component/src/MapComponent.js\",\"/Users/fullname/Documents/mandatinternational/docker-symfony4-udggui/symfony/public/bundles/map/node_modules/map-component/src/MapElement.js\",\"/Users/fullname/Documents/mandatinternational/docker-symfony4-udggui/symfony/public/bundles/map/node_modules/map-component/index.js\"],\"names\":[\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"modules\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"webpackEmptyAsyncContext\",\"req\",\"Promise\",\"resolve\",\"then\",\"e\",\"Error\",\"code\",\"keys\",\"id\",\"CSVtoArray\",\"text\",\"test\",\"a\",\"replace\",\"m0\",\"m1\",\"m2\",\"m3\",\"undefined\",\"push\",\"arrayToCSV\",\"map\",\"escapeForCSV\",\"join\",\"toString\",\"includes\",\"Serializers\",\"boolean\",\"read\",\"b\",\"write\",\"number\",\"date\",\"buffered\",\"str\",\"dstr\",\"Date\",\"obj\",\"json\",\"JSONSerialize\",\"string\",\"template\",\"oldValue\",\"oldString\",\"parseTemplateString\",\"array\",\"typeBuilder\",\"bufferedArray\",\"stringToArray\",\"array_csv\",\"array_lsv\",\"LSVtoArray\",\"arrayToLSV\",\"this\",\"domelement\",\"element\",\"oldSelector\",\"isConnected\",\"document\",\"querySelector\",\"elem\",\"selector\",\"tagName\",\"\",\"v\",\"toArr\",\"innerTypeBuilder\",\"type\",\"doBuffer\",\"doRead\",\"doWrite\",\"stringify\",\"arr\",\"assemble\",\"length\",\"adjustArray\",\"parse\",\"split\",\"prefix\",\"postfix\",\"JSON\",\"slice\",\"indent\",\"lsvString\",\"trim\",\"match\",\"args\",\"Set\",\"argExp\",\"exec\",\"add\",\"spread\",\"Array\",\"from\",\"Function\",\"expectedLength\",\"fillFunc\",\"result\",\"isNaN\",\"Serializer\",\"createBufferedParser\",\"owner\",\"baseType\",\"genericArg\",\"parseType\",\"f\",\"message\",\"wite\",\"x\",\"handlers\",\"Lexer\",\"ParserRules\",\"symbols\",\"postprocess\",\"concat\",\"pair\",\"literal\",\"event\",\"pointer\",\"snippet\",\"path\",\"query\",\"location\",\"reject\",\"q\",\"triple\",\"parseFloat\",\"ParserStart\",\"Rule\",\"highestId\",\"State\",\"rule\",\"dot\",\"reference\",\"wantedBy\",\"data\",\"isComplete\",\"Column\",\"grammar\",\"index\",\"states\",\"wants\",\"scannable\",\"completed\",\"Grammar\",\"rules\",\"start\",\"byName\",\"forEach\",\"StreamLexer\",\"reset\",\"Parser\",\"options\",\"fromCompiled\",\"keepHistory\",\"lexer\",\"lexerState\",\"column\",\"table\",\"predict\",\"process\",\"current\",\"withCursorAt\",\"stringifySymbolSequence\",\"symbolSequence\",\"nextState\",\"child\",\"state\",\"left\",\"right\",\"build\",\"children\",\"node\",\"reverse\",\"finish\",\"fail\",\"nextColumn\",\"w\",\"complete\",\"exp\",\"nulls\",\"copy\",\"g\",\"buffer\",\"line\",\"lastLineBreak\",\"col\",\"next\",\"ch\",\"save\",\"formatError\",\"token\",\"nextLineBreak\",\"indexOf\",\"substring\",\"feed\",\"chunk\",\"constructor\",\"expect\",\"isToken\",\"err\",\"offset\",\"results\",\"restore\",\"splice\",\"rewind\",\"considerations\",\"HandlerParser\",\"initTarget\",\"Handler\",\"[object Object]\",\"evt\",\"invoke\",\"snippets\",\"select\",\"signature\",\"lines\",\"makeSnippet\",\"parsedPointer\",\"querySelectorAll\",\"window\",\"updateSignature\",\"enable\",\"callback\",\"handlerCallback\",\"addEventListener\",\"removeEventListener\",\"selected\",\"pointed\",\"console\",\"error\",\"fromString\",\"methode\",\"parameters\",\"parsedSnippet\",\"makeSnippetArg\",\"parsedArg\",\"pointerSignature\",\"onEvent\",\"_\",\"paramExtractor\",\"dispatchOne\",\"target\",\"scope\",\"apply\",\"detail\",\"WeakMap\",\"priv\",\"set\",\"src_EventHandler\",\"evtType\",\"destroy\",\"strCode\",\"parser\",\"parsedHandlers\",\"setHandlers\",\"h\",\"pushHanlder\",\"parsedHandler\",\"sig\",\"handler\",\"find\",\"setPointer\",\"clear\",\"ModuleHandler\",\"defaults\",\"externalsOwner\",\"cardinality\",\"externalName\",\"charAt\",\"toUpperCase\",\"initExternal\",\"Proxy\",\"externals\",\"addExternalModule\",\"oldModuleString\",\"ModuleHandler_\",\"moduleString\",\"updateKey\",\"Math\",\"random\",\"now\",\"splitted\",\"splitRule\",\"filter\",\"checkCardinality\",\"loadModule\",\"all\",\"ModuleHandler_priv\",\"async\",\"moduleName\",\"isPath\",\"haveExeternal\",\"waitForExternal\",\"promise\",\"res\",\"ExternalLoadCanceled\",\"isCancelation\",\"String\",\"Coercer_String\",\"Number\",\"Coercer_Number\",\"Boolean\",\"Coercer_int\",\"floor\",\"func\",\"ComponentBase\",\"HTMLElement\",\"super\",\"ComponentBase_priv\",\"ComponentBase_\",\"isNew\",\"destroyed\",\"attributesReaction\",\"uid\",\"makeUID\",\"shmod\",\"getChildShadowMode\",\"shadow\",\"attachShadow\",\"appendTemplate\",\"appendStyles\",\"initStaticEventHandler\",\"rect\",\"ready\",\"resetBox\",\"getBox\",\"getBoundingClientRect\",\"constructed\",\"attribs\",\"serializedAttributes\",\"reactiveAttributes\",\"exposed\",\"exposedAttributes\",\"writable\",\"dispatchEvent\",\"CustomEvent\",\"newValue\",\"observedAttributes\",\"setTimeout\",\"arguments\",\"styleStr\",\"opt_id\",\"useID\",\"clearStyles\",\"setStyle\",\"shadowMode\",\"payload\",\"shadowTemplate\",\"serialize\",\"expose\",\"addStaticCss\",\"slices\",\"addStaticTemplate\",\"getPrototypeOf\",\"childrenOwnInits\",\"isArray\",\"attr\",\"reactiveAttribute\",\"toLowerCase\",\"attributeBuild\",\"typeString\",\"moduleAttribute\",\"serializable\",\"addSerializedAcessors\",\"addUnserializedAcessors\",\"setDefaultValue\",\"setupChangeReaction\",\"bindParseFunction\",\"provideWrite\",\"setAttribute\",\"provideRead\",\"getAttribute\",\"useCoertion\",\"coertion\",\"Coercer_namespaceObject\",\"setBody\",\"onChange\",\"scopedArgsName\",\"scopedArgs\",\"scopingBody\",\"scopingFunction\",\"oldValueExist\",\"initValue\",\"isSerialized\",\"init\",\"oldDeserial\",\"old\",\"newv\",\"funcName\",\"serializer\",\"upper_0\",\"reactionName\",\"readName\",\"writeName\",\"hasAttribute\",\"useTypeObject\",\"v0\",\"oldModulesS\",\"newModulesS\",\"oldModules\",\"newModules\",\"update\",\"touchInheritableObj\",\"buildInheritableObj\",\"serial\",\"serz\",\"prot\",\"attributes\",\"assign\",\"hCode\",\"setCode\",\"innerHTML\",\"shadowStyles\",\"rmSelector\",\"toRemove\",\"remove\",\"isFileRef\",\"styleElem\",\"createElement\",\"appendChild\",\"parseTemplate\",\"cssSlices\",\"round\",\"values\",\"instance\",\"evalv\",\"src_ComponentBase\",\"noImpl\",\"base\",\"meth\",\"src_MapAdapter\",\"mapComponent\",\"latLngCenter\",\"z\",\"eventStandardName\",\"latLng\",\"px\",\"mapObject\",\"createAdapter\",\"featureModules\",\"GoogleMapAdapter_GoogleAdapter\",\"createMap\",\"adapter\",\"loadAPI\",\"mapDiv\",\"shadowRoot\",\"append\",\"initMap\",\"projectionReady\",\"google\",\"maps\",\"addListenerOnce\",\"GoogleMapAdapter_\",\"enabling\",\"GoogleMapAdapter_priv\",\"eventHandles\",\"olds\",\"toLatLng\",\"toNan\",\"latitude\",\"longitude\",\"fromNan\",\"setCenter\",\"panTo\",\"getCenter\",\"lat\",\"lng\",\"notUserZoom\",\"setZoom\",\"getZoom\",\"eventGoogleName\",\"eventTranslation\",\"baseCB\",\"that\",\"handle\",\"addListener\",\"removeListener\",\"opt_centerref\",\"opt_zoomref\",\"position\",\"scale\",\"proj\",\"getProjection\",\"bounds\",\"getBounds\",\"ref\",\"fromLatLngToPoint\",\"LatLng\",\"getNorthEast\",\"getSouthWest\",\"point\",\"y\",\"box\",\"width\",\"height\",\"Point\",\"pow\",\"nw\",\"fromPointToLatLng\",\"map_drag\",\"map_dragend\",\"map_dragstart\",\"map_idle\",\"map_zoom\",\"map_user_zoom\",\"lib\",\"callBackName\",\"done\",\"lang\",\"url\",\"component\",\"div\",\"fullscreenControl\",\"zoom\",\"center\",\"mapTypeId\",\"MapTypeId\",\"ROADMAP\",\"Map\",\"componentLocation\",\"LeafletAdapter_createAdapter\",\"LeafletAdapter\",\"LeafletAdapter_createMap\",\"loadStyle\",\"loadLib\",\"LeafletAdapter_initMap\",\"LeafletAdapter_enabling\",\"LeafletAdapter_priv\",\"LeafletAdapter_\",\"LeafletAdapter_toLatLng\",\"canBeUser\",\"opt\",\"noMoveStart\",\"animate\",\"isAutoZoom\",\"userEvent\",\"has\",\"on\",\"eventTranslationTable\",\"leafletName\",\"off\",\"latlng\",\"latLngToContainerPoint\",\"project\",\"L\",\"getNorth\",\"getWest\",\"containerPointToLatLng\",\"styleLink\",\"DEFAULT_STYLE_URL\",\"style\",\"styleChecksum\",\"DEFAULT_STYLE_CHECK\",\"script\",\"scriptChecksum\",\"DEFAULT_LIB_CHECK\",\"src\",\"DEFAULT_LIB_URL\",\"head\",\"whenReady\",\"tileLayer\",\"DEFAULT_TILE_URL\",\"attribution\",\"DEFAULT_TILE_ATTRIBUTION\",\"addTo\",\"p0\",\"discardEvent\",\"setView\",\"setupIsUserCheck\",\"mapObj\",\"tryInit\",\"MapComponent_\",\"engine\",\"poweredby\",\"add_ons\",\"addons\",\"catch\",\"selectAdapter\",\"addonsPromises\",\"nameSpace\",\"enabledAddons\",\"_dispatch\",\"mapReady\",\"engineName\",\"features\",\"defaultAdapters\",\"bridgedEvents\",\"bridgeEvent\",\"syncBackMapAttributes\",\"evtName\",\"bridge\",\"createEventBridge\",\"addMapEvent\",\"eventBidges\",\"bridgeEventHandler\",\"eventTarget\",\"eventType\",\"cp\",\"handleMapZoom\",\"handleMapDrag\",\"mapBaseStyle\",\"defaultMapContainerStyle\",\"GoogleMapAdapter_namespaceObject\",\"leaflet\",\"LeafletAdapter_namespaceObject\",\"MapComponent_priv\",\"src_MapComponent\",\"connectedCallback\",\"shadowMod\",\"newadon\",\"newpow\",\"oldL\",\"newL\",\"oldZ\",\"newZ\",\"removeMapEvent\",\"customElements\",\"define\"],\"mappings\":\"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\",\"sourcesContent\":[\" \\t// The module cache\\n \\tvar installedModules = {};\\n\\n \\t// The require function\\n \\tfunction __webpack_require__(moduleId) {\\n\\n \\t\\t// Check if module is in cache\\n \\t\\tif(installedModules[moduleId]) {\\n \\t\\t\\treturn installedModules[moduleId].exports;\\n \\t\\t}\\n \\t\\t// Create a new module (and put it into the cache)\\n \\t\\tvar module = installedModules[moduleId] = {\\n \\t\\t\\ti: moduleId,\\n \\t\\t\\tl: false,\\n \\t\\t\\texports: {}\\n \\t\\t};\\n\\n \\t\\t// Execute the module function\\n \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n\\n \\t\\t// Flag the module as loaded\\n \\t\\tmodule.l = true;\\n\\n \\t\\t// Return the exports of the module\\n \\t\\treturn module.exports;\\n \\t}\\n\\n\\n \\t// expose the modules object (__webpack_modules__)\\n \\t__webpack_require__.m = modules;\\n\\n \\t// expose the module cache\\n \\t__webpack_require__.c = installedModules;\\n\\n \\t// define getter function for harmony exports\\n \\t__webpack_require__.d = function(exports, name, getter) {\\n \\t\\tif(!__webpack_require__.o(exports, name)) {\\n \\t\\t\\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\\n \\t\\t}\\n \\t};\\n\\n \\t// define __esModule on exports\\n \\t__webpack_require__.r = function(exports) {\\n \\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n \\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n \\t\\t}\\n \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n \\t};\\n\\n \\t// create a fake namespace object\\n \\t// mode & 1: value is a module id, require it\\n \\t// mode & 2: merge all properties of value into the ns\\n \\t// mode & 4: return value when already ns object\\n \\t// mode & 8|1: behave like require\\n \\t__webpack_require__.t = function(value, mode) {\\n \\t\\tif(mode & 1) value = __webpack_require__(value);\\n \\t\\tif(mode & 8) return value;\\n \\t\\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\\n \\t\\tvar ns = Object.create(null);\\n \\t\\t__webpack_require__.r(ns);\\n \\t\\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\\n \\t\\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\\n \\t\\treturn ns;\\n \\t};\\n\\n \\t// getDefaultExport function for compatibility with non-harmony modules\\n \\t__webpack_require__.n = function(module) {\\n \\t\\tvar getter = module && module.__esModule ?\\n \\t\\t\\tfunction getDefault() { return module['default']; } :\\n \\t\\t\\tfunction getModuleExports() { return module; };\\n \\t\\t__webpack_require__.d(getter, 'a', getter);\\n \\t\\treturn getter;\\n \\t};\\n\\n \\t// Object.prototype.hasOwnProperty.call\\n \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n\\n \\t// __webpack_public_path__\\n \\t__webpack_require__.p = \\\"\\\";\\n\\n\\n \\t// Load entry module and return exports\\n \\treturn __webpack_require__(__webpack_require__.s = 2);\\n\",\"function webpackEmptyAsyncContext(req) {\\n\\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\\n\\t// uncaught exception popping up in devtools\\n\\treturn Promise.resolve().then(function() {\\n\\t\\tvar e = new Error(\\\"Cannot find module '\\\" + req + \\\"'\\\");\\n\\t\\te.code = 'MODULE_NOT_FOUND';\\n\\t\\tthrow e;\\n\\t});\\n}\\nwebpackEmptyAsyncContext.keys = function() { return []; };\\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\\nmodule.exports = webpackEmptyAsyncContext;\\nwebpackEmptyAsyncContext.id = 0;\",\"function webpackEmptyAsyncContext(req) {\\n\\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\\n\\t// uncaught exception popping up in devtools\\n\\treturn Promise.resolve().then(function() {\\n\\t\\tvar e = new Error(\\\"Cannot find module '\\\" + req + \\\"'\\\");\\n\\t\\te.code = 'MODULE_NOT_FOUND';\\n\\t\\tthrow e;\\n\\t});\\n}\\nwebpackEmptyAsyncContext.keys = function() { return []; };\\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\\nmodule.exports = webpackEmptyAsyncContext;\\nwebpackEmptyAsyncContext.id = 1;\",\"/*\\n \\n From user idgerunner on stackoverflow (https://stackoverflow.com/questions/8493195/how-can-i-parse-a-csv-string-with-javascript-which-contains-comma-in-data)\\n\\n */\\n\\n\\n// Return array of string values, or NULL if CSV string not well formed.\\nfunction CSVtoArray(text) {\\n\\t\\n\\tif(!text)\\n\\t\\treturn []\\n\\n    var re_valid = /^\\\\s*(?:'[^'\\\\\\\\]*(?:\\\\\\\\[\\\\S\\\\s][^'\\\\\\\\]*)*'|\\\"[^\\\"\\\\\\\\]*(?:\\\\\\\\[\\\\S\\\\s][^\\\"\\\\\\\\]*)*\\\"|[^,'\\\"\\\\s\\\\\\\\]*(?:\\\\s+[^,'\\\"\\\\s\\\\\\\\]+)*)\\\\s*(?:,\\\\s*(?:'[^'\\\\\\\\]*(?:\\\\\\\\[\\\\S\\\\s][^'\\\\\\\\]*)*'|\\\"[^\\\"\\\\\\\\]*(?:\\\\\\\\[\\\\S\\\\s][^\\\"\\\\\\\\]*)*\\\"|[^,'\\\"\\\\s\\\\\\\\]*(?:\\\\s+[^,'\\\"\\\\s\\\\\\\\]+)*)\\\\s*)*$/;\\n    var re_value = /(?!\\\\s*$)\\\\s*(?:'([^'\\\\\\\\]*(?:\\\\\\\\[\\\\S\\\\s][^'\\\\\\\\]*)*)'|\\\"([^\\\"\\\\\\\\]*(?:\\\\\\\\[\\\\S\\\\s][^\\\"\\\\\\\\]*)*)\\\"|([^,'\\\"\\\\s\\\\\\\\]*(?:\\\\s+[^,'\\\"\\\\s\\\\\\\\]+)*))\\\\s*(?:,|$)/g;\\n    // Return NULL if input string is not well formed CSV string.\\n    if (!re_valid.test(text)) return null;\\n    var a = [];                     // Initialize array to receive values.\\n    text.replace(re_value, // \\\"Walk\\\" the string using replace with callback.\\n        function(m0, m1, m2, m3) {\\n            // Remove backslash from \\\\' in single quoted values.\\n            if      (m1 !== undefined) a.push(m1.replace(/\\\\\\\\'/g, \\\"'\\\"));\\n            // Remove backslash from \\\\\\\" in double quoted values.\\n            else if (m2 !== undefined) a.push(m2.replace(/\\\\\\\\\\\"/g, '\\\"'));\\n            else if (m3 !== undefined) a.push(m3);\\n            return ''; // Return empty string.\\n        });\\n    // Handle special case of empty last value.\\n    if (/,\\\\s*$/.test(text)) a.push('');\\n    return a;\\n};\\n\\n\\nfunction arrayToCSV(a) {\\n\\treturn a.map(escapeForCSV).join(\\\", \\\")\\n}\\n\\nfunction escapeForCSV(s){\\n\\tif(!s)\\n\\t\\treturn \\\"\\\"\\n\\t\\n\\ts = s.toString()\\n\\n\\tlet escaped = s.toString().replace(/([\\\\\\\\'\\\"])/g,\\\"\\\\\\\\$1\\\")\\n\\n\\tif(s.includes(\\\" \\\"))\\n\\t\\treturn '\\\"'+s+'\\\"'\\n\\treturn s\\n\\n}\\n\\nexport {arrayToCSV, CSVtoArray}\",\"\\nimport {arrayToCSV, CSVtoArray} from \\\"./CSVToArray.js\\\"\\n\\n/**\\n * @name Serializers\\n *\\n * @type       {Object}\\n */\\nconst Serializers = {\\n\\n\\tboolean : ()=>({\\n\\t\\tread : b => b && b !== \\\"false\\\" , \\n\\t\\twrite : b => !!b\\n\\t}),\\n\\n\\tnumber : ()=>({\\n\\t\\tread : n=> +n,\\n\\t\\twrite : b => +b\\n\\t}),\\n\\n\\tdate : buffered.bind(null,\\n\\t\\tstr => {\\n\\t\\t\\tlet dstr = new Date(str)\\n\\t\\t\\tif(!+dstr){\\n\\t\\t\\t\\treturn new Date(+str)\\n\\t\\t\\t}\\n\\t\\t\\treturn dstr\\n\\t\\t},\\n\\t\\tobj => new Date(obj)\\n\\t\\t),\\n\\n\\tjson : JSONSerialize,\\n\\n\\tstring : ()=>({\\n\\t\\tread : s => s || \\\"\\\",\\n\\t\\twrite : s => s || \\\"\\\"\\n\\t}),\\n\\n\\ttemplate : ()=> {\\n\\t\\tlet oldString,oldValue\\n\\t\\treturn {\\n\\t\\t\\tread : function read(str){\\n\\t\\t\\t\\tif(str === oldString)\\n\\t\\t\\t\\t\\treturn oldValue\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t\\n\\t\\t\\t\\toldValue =  parseTemplateString(str)\\n\\t\\t\\t\\treturn oldValue\\n\\n\\t\\t\\t},\\n\\t\\t\\twrite : function write(str) {\\n\\t\\t\\t\\tif(typeof str !== \\\"string\\\") {\\n\\t\\t\\t\\t\\tthrow new Error(\\\"template attribute are asymmetrical and can only be set to a string\\\")\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif(str === oldString)\\n\\t\\t\\t\\t\\treturn oldValue\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t\\n\\t\\t\\t\\toldValue =  parseTemplateString(str)\\n\\t\\t\\t\\treturn oldValue\\n\\t\\t\\t},\\n\\t\\t\\tbuffered  :true\\n\\t\\t}\\n\\t},\\n\\tarray : (typeBuilder) => bufferedArray( stringToArray,arrayToCSV,typeBuilder),\\n\\tarray_csv : (typeBuilder) => bufferedArray( CSVtoArray,arrayToCSV,typeBuilder),\\n\\tarray_lsv : (typeBuilder) => bufferedArray( LSVtoArray,arrayToLSV,typeBuilder),\\n\\n\\tmap : function(){return JSONSerialize.call(this,\\\"{\\\",\\\"}\\\")},\\n\\n\\tdomelement : ()=> {\\n\\t\\tlet element\\n\\t\\tlet oldSelector\\n\\t\\treturn {\\n\\t\\t\\tread : str => {\\n\\t\\t\\t\\t// Will query element each time on browser that do not provide isConnected\\n\\t\\t\\t\\tif(!str)\\n\\t\\t\\t\\t\\treturn null\\n\\t\\t\\t\\tif(!(element && str === oldSelector && element.isConnected ))\\n\\t\\t\\t\\t\\telement = document.querySelector(str)\\n\\t\\t\\t\\toldSelector = str\\n\\t\\t\\t\\treturn element\\n\\t\\t\\t},\\n\\t\\t\\twrite : elem => {\\n\\t\\t\\t\\tif(!elem)\\n\\t\\t\\t\\t\\treturn \\\"\\\"\\n\\n\\t\\t\\t\\tvar selector = typeof elem === \\\"string\\\" ? elem : \\\"#\\\"+elem.id\\n\\t\\t\\t\\tif(!selector)\\n\\t\\t\\t\\t\\tthrow new Error(\\\"Cannot link \\\"+elem+\\\" to \\\"+this.tagName+ \\\" the provided element have no defined id.\\\")\\n\\t\\t\\t\\toldSelector = selector\\n\\t\\t\\t\\treturn selector\\n\\t\\t\\t},\\n\\t\\t\\tbuffered  :true\\n\\t\\t}\\n\\t},\\n\\t\\\"\\\" : ()=>Serializers.string()\\n}\\n\\nfunction buffered (read,write) {\\n\\tlet value, oldString\\n\\treturn {\\n\\t\\t\\tread : v => {\\n\\t\\t\\t\\tif(v === oldString)\\n\\t\\t\\t\\t\\treturn value\\n\\t\\t\\t\\toldString = v\\n\\t\\t\\t\\treturn value = read(v)\\n\\t\\t\\t},\\n\\t\\t\\twrite : obj => {\\n\\t\\t\\t\\t\\n\\t\\t\\t\\toldString = write(obj)\\n\\t\\t\\t\\tvalue = obj\\n\\t\\t\\t\\t\\n\\t\\t\\t\\treturn oldString || \\\"\\\" // Buffer the actual value but return empty string for any falsy serialized value.\\n\\t\\t\\t},\\n\\t\\t\\tbuffered : true\\n\\t\\t}\\n}\\n\\nfunction bufferedArray(toArr,toString,innerTypeBuilder) {\\n\\tlet type = innerTypeBuilder()\\n\\tlet doBuffer = type.buffered\\n\\tlet doRead = !!type.read\\n\\tlet doWrite = !!type.write\\n\\n\\tif(doBuffer)\\n\\t\\ttype = []\\n\\n\\tlet stringify = (arr)=>toString(arr)\\n\\tif(doWrite) {\\n\\n\\t\\tlet assemble = stringify\\n\\t\\tif(!doBuffer){\\n\\t\\t\\tstringify = (arr) => assemble(arr.map(e => type.write(e)))\\n\\t\\t}else {\\n\\t\\t\\tstringify = (arr) => {\\n\\t\\t\\t\\tif(arr.length !== type.length){\\n\\t\\t\\t\\t\\ttype = adjustArray(type,arr.length,innerTypeBuilder)\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn assemble(arr.map((e,i) => type[i].write(e)))\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\tlet parse = (str)=>toArr(str)\\n\\tif(doRead){\\n\\t\\tlet split = parse\\n\\t\\tif(!doBuffer){\\n\\t\\t\\tparse = (str) => split(str).map(e=>type.read(e))\\n\\t\\t}else {\\n\\t\\t\\tparse = (str) => {\\n\\t\\t\\t\\tlet arr = split(str)\\n\\t\\t\\t\\tif(arr.length !== type.length){\\n\\t\\t\\t\\t\\ttype = adjustArray(type,arr.length,innerTypeBuilder)\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn arr.map((e,i) => type[i].read(e))\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\treturn buffered(parse,stringify)\\n}\\n\\nfunction JSONSerialize (prefix,postfix) {\\n\\n\\tif(!(prefix || postfix))\\n\\t\\treturn buffered(JSON.parse,JSON.stringify)\\n\\n\\tprefix = prefix || \\\"\\\"\\n\\tpostfix = postfix || \\\"\\\"\\n\\n\\treturn buffered(\\n\\t\\t\\tv => {\\n\\t\\t\\t\\tif(!v)\\n\\t\\t\\t\\t\\treturn {}\\n\\t\\t\\t\\treturn JSON.parse(prefix+v+postfix)\\n\\t\\t\\t},\\n\\t\\t\\te => {\\n\\t\\t\\t\\t\\n\\t\\t\\t\\tif(!e)\\n\\t\\t\\t\\t\\treturn \\\"\\\"\\n\\n\\t\\t\\t\\tlet str = JSON.stringify(e)\\n\\t\\t\\t\\treturn str.slice(prefix.length,str.length - postfix.length)\\n\\t\\t\\t}\\n\\t\\t)\\n}\\n\\nfunction parseType(type) {\\n\\t\\n\\t// genereicArg Target a substring starting with the first occurrence of < and ending with a > being the last non-whitespace character of the string. \\n\\tlet regex = /^\\\\s*([^<\\\\s]+)\\\\s*(?:<\\\\s*([^\\\\s]*)\\\\s*>)?\\\\s*$/g\\n\\n\\tlet match = regex.exec(type)\\n\\n\\tif(!match)\\n\\t\\tthrow new Error(\\\"could not parse type \\\"+type)\\n\\n\\tlet baseType = match[1]\\n\\tlet genericArg = match[2]\\n\\n\\n\\treturn {baseType,genericArg}\\n\\n}\\n\\n/**\\n * Creates a new parser. May buffer the value to avoid desalinizing more than necessary. Better use on parser per attributes.\\n *\\n * @param      {string}  type    The type\\n * \\n * @return     {Serializer~Parser.<Type>} a parser for the given type.\\n * \\n */\\nfunction createBufferedParser(type,owner,name){\\n\\tif(!type)\\n\\t\\treturn null\\n\\tif(typeof type === \\\"function\\\")\\n\\t\\treturn type\\n\\tif(typeof type === \\\"string\\\"){\\n\\t\\tlet {baseType,genericArg} = parseType(type)\\n\\t\\tlet f = Serializers[baseType]\\n\\t\\t\\n\\t\\tif(!f)\\n\\t\\t\\treturn \\n\\n\\t\\tif(genericArg){\\n\\t\\t\\ttry{\\n\\t\\t\\t\\tlet typeBuilder = createBufferedParser.bind(null,genericArg,owner,name)\\n\\t\\t\\t\\tf = f.bind(null, typeBuilder)\\n\\n\\t\\t\\t}catch(e){\\n\\t\\t\\t\\tthrow new Error(\\\"Could not parse \\\"+type+\\\" : \\\\n\\\"+(e.message || e))\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\tif(f.length > 1){\\n\\t\\t\\tthrow new Error(\\\"Missing generic \\\"+f.length+\\\" arguments for type \\\"+type)\\n\\t\\t}\\n\\n\\t\\treturn f.call(owner,name)\\n\\n\\t}\\n\\n\\treturn ()=>({read:type.read, write : type.wite})\\n\\n}\\n\\nfunction stringToArray(str) {\\n\\tif(!str)\\n\\t\\treturn []\\n\\tif(str.includes(\\\"\\\\n\\\"))\\n\\t\\treturn LSVtoArray(str)\\n\\treturn CSVtoArray(str)\\n}\\n\\nfunction arrayToLSV(arr,indent){\\n\\t\\n\\tif(!arr || !arr.length)\\n\\t\\treturn \\\"\\\"\\n\\n\\tindent = indent || \\\"\\\"\\n\\treturn arr.join(\\\"\\\\n\\\"+indent)\\n}\\n\\nfunction LSVtoArray(lsvString){\\n\\tif(!lsvString)\\n\\t\\treturn []\\n\\n\\treturn lsvString.trim().split(/\\\\n\\\\r?\\\\s*/)\\n}\\n\\nfunction parseTemplateString(str){\\n\\tlet args = new Set()\\n\\tlet argExp = /\\\\${\\\\s*([^}]+)}/g\\n\\tlet match\\n\\tstr = str.replace(/`/g,\\\"\\\")\\n\\t\\n\\twhile(match = argExp.exec(str)){\\n\\t\\targs.add(match[1])\\n\\t}\\n\\n\\tlet spread = `let { ${Array.from(args).join(\\\",\\\")} } = arg`\\n\\tlet retur = `return \\\\`${str}\\\\``\\n\\t\\n\\treturn new Function('arg',`${spread}\\\\n${retur}`)\\n}\\n\\nfunction adjustArray(array,expectedLength,fillFunc){\\n\\tlet result = array.slice(0,expectedLength)\\n\\n\\tif(isNaN(expectedLength))\\n\\t\\tthrow  new Error(\\\"Array cannot be adjusted to a length of \\\"+expectedLength)\\n\\n\\twhile(result.length < expectedLength){\\n\\t\\tresult.push(fillFunc())\\n\\t}\\n\\n\\treturn result\\n}\\n/**\\n * @typedef Serializer~Parser.<ParsedType> \\n * @prop {function(string):ParsedType} read deserialize an attribute.\\n * @prop {function(ParsedType):string} write serialize an attribute.\\n */\\n\\n\\n /**\\n  * \\n  */\\nexport default createBufferedParser\",\"// Generated automatically by nearley, version 2.16.0\\n// http://github.com/Hardmath123/nearley\\nfunction id(x) { return x[0]; }\\nlet Lexer = undefined;\\nlet ParserRules = [\\n    {\\\"name\\\": \\\"main\\\", \\\"symbols\\\": [\\\"ws\\\", \\\"eventhandlers\\\", \\\"ws\\\"], \\\"postprocess\\\": function(d){ return d[1] }},\\n    {\\\"name\\\": \\\"eventhandlers$ebnf$1\\\", \\\"symbols\\\": [\\\"eventhanlderstail\\\"], \\\"postprocess\\\": id},\\n    {\\\"name\\\": \\\"eventhandlers$ebnf$1\\\", \\\"symbols\\\": [], \\\"postprocess\\\": function(d) {return null;}},\\n    {\\\"name\\\": \\\"eventhandlers\\\", \\\"symbols\\\": [\\\"eventhandler\\\", \\\"eventhandlers$ebnf$1\\\"], \\\"postprocess\\\": function(d){ return d[1] ? [d[0]].concat(d[1]) : [d[0]] }},\\n    {\\\"name\\\": \\\"eventhanlderstail$ebnf$1$subexpression$1\\\", \\\"symbols\\\": [\\\"sep\\\", \\\"eventhandler\\\"]},\\n    {\\\"name\\\": \\\"eventhanlderstail$ebnf$1\\\", \\\"symbols\\\": [\\\"eventhanlderstail$ebnf$1$subexpression$1\\\"]},\\n    {\\\"name\\\": \\\"eventhanlderstail$ebnf$1$subexpression$2\\\", \\\"symbols\\\": [\\\"sep\\\", \\\"eventhandler\\\"]},\\n    {\\\"name\\\": \\\"eventhanlderstail$ebnf$1\\\", \\\"symbols\\\": [\\\"eventhanlderstail$ebnf$1\\\", \\\"eventhanlderstail$ebnf$1$subexpression$2\\\"], \\\"postprocess\\\": function arrpush(d) {return d[0].concat([d[1]]);}},\\n    {\\\"name\\\": \\\"eventhanlderstail\\\", \\\"symbols\\\": [\\\"eventhanlderstail$ebnf$1\\\"], \\\"postprocess\\\": function(d){ return d[0].map(pair => pair[1]) }},\\n    {\\\"name\\\": \\\"eventhandler\\\", \\\"symbols\\\": [\\\"name\\\", \\\"_\\\", {\\\"literal\\\":\\\":\\\"}, \\\"_\\\", \\\"handler\\\"], \\\"postprocess\\\": function(d){ d[4].event = d[0]; return d[4] }},\\n    {\\\"name\\\": \\\"handler$string$1\\\", \\\"symbols\\\": [{\\\"literal\\\":\\\"-\\\"}, {\\\"literal\\\":\\\">\\\"}], \\\"postprocess\\\": function joiner(d) {return d.join('');}},\\n    {\\\"name\\\": \\\"handler\\\", \\\"symbols\\\": [\\\"pointer\\\", \\\"_\\\", \\\"handler$string$1\\\", \\\"_\\\", \\\"snippet\\\"], \\\"postprocess\\\": function(d){ return{pointer:d[0][0], snippet:d[4][0]} }},\\n    {\\\"name\\\": \\\"snippet$subexpression$1\\\", \\\"symbols\\\": [\\\"assignsnippet\\\"]},\\n    {\\\"name\\\": \\\"snippet$subexpression$1\\\", \\\"symbols\\\": [\\\"callsnippet\\\"]},\\n    {\\\"name\\\": \\\"snippet\\\", \\\"symbols\\\": [\\\"snippet$subexpression$1\\\"], \\\"postprocess\\\": function(d){ return d[0] }},\\n    {\\\"name\\\": \\\"assignsnippet\\\", \\\"symbols\\\": [\\\"simplepath\\\", \\\"_\\\", {\\\"literal\\\":\\\"=\\\"}, \\\"_\\\", \\\"onearg\\\"], \\\"postprocess\\\": function(d){ return{type:\\\"assign\\\", path:d[0], args:d[4]} }},\\n    {\\\"name\\\": \\\"callsnippet$ebnf$1\\\", \\\"symbols\\\": [\\\"args\\\"], \\\"postprocess\\\": id},\\n    {\\\"name\\\": \\\"callsnippet$ebnf$1\\\", \\\"symbols\\\": [], \\\"postprocess\\\": function(d) {return null;}},\\n    {\\\"name\\\": \\\"callsnippet\\\", \\\"symbols\\\": [\\\"simplepath\\\", \\\"_\\\", {\\\"literal\\\":\\\"(\\\"}, \\\"_\\\", \\\"callsnippet$ebnf$1\\\", \\\"_\\\", {\\\"literal\\\":\\\")\\\"}], \\\"postprocess\\\": function(d){ return{type:\\\"call\\\", path:d[0], args:d[4] || []} }},\\n    {\\\"name\\\": \\\"pointer\\\", \\\"symbols\\\": [\\\"thisselector\\\"]},\\n    {\\\"name\\\": \\\"pointer\\\", \\\"symbols\\\": [\\\"windowselector\\\"]},\\n    {\\\"name\\\": \\\"pointer\\\", \\\"symbols\\\": [\\\"query\\\"]},\\n    {\\\"name\\\": \\\"thisselector$ebnf$1$subexpression$1\\\", \\\"symbols\\\": [\\\"thissubselector\\\"]},\\n    {\\\"name\\\": \\\"thisselector$ebnf$1\\\", \\\"symbols\\\": [\\\"thisselector$ebnf$1$subexpression$1\\\"], \\\"postprocess\\\": id},\\n    {\\\"name\\\": \\\"thisselector$ebnf$1\\\", \\\"symbols\\\": [], \\\"postprocess\\\": function(d) {return null;}},\\n    {\\\"name\\\": \\\"thisselector\\\", \\\"symbols\\\": [\\\"this\\\", \\\"thisselector$ebnf$1\\\"], \\\"postprocess\\\": function(d){ return {type : \\\"this\\\",query:d[1] && d[1][0]} }},\\n    {\\\"name\\\": \\\"windowselector$string$1\\\", \\\"symbols\\\": [{\\\"literal\\\":\\\"w\\\"}, {\\\"literal\\\":\\\"i\\\"}, {\\\"literal\\\":\\\"n\\\"}, {\\\"literal\\\":\\\"d\\\"}, {\\\"literal\\\":\\\"o\\\"}, {\\\"literal\\\":\\\"w\\\"}], \\\"postprocess\\\": function joiner(d) {return d.join('');}},\\n    {\\\"name\\\": \\\"windowselector\\\", \\\"symbols\\\": [\\\"windowselector$string$1\\\"], \\\"postprocess\\\": function(d){ return {type : \\\"window\\\"} }},\\n    {\\\"name\\\": \\\"thissubselector\\\", \\\"symbols\\\": [{\\\"literal\\\":\\\"(\\\"}, \\\"_\\\", \\\"query\\\", \\\"_\\\", {\\\"literal\\\":\\\")\\\"}], \\\"postprocess\\\": function(d){ return d[2].query }},\\n    {\\\"name\\\": \\\"this$string$1\\\", \\\"symbols\\\": [{\\\"literal\\\":\\\"t\\\"}, {\\\"literal\\\":\\\"h\\\"}, {\\\"literal\\\":\\\"i\\\"}, {\\\"literal\\\":\\\"s\\\"}], \\\"postprocess\\\": function joiner(d) {return d.join('');}},\\n    {\\\"name\\\": \\\"this\\\", \\\"symbols\\\": [\\\"this$string$1\\\"], \\\"postprocess\\\": function(d){ return {type : \\\"this\\\"} }},\\n    {\\\"name\\\": \\\"query$ebnf$1\\\", \\\"symbols\\\": []},\\n    {\\\"name\\\": \\\"query$ebnf$1\\\", \\\"symbols\\\": [\\\"query$ebnf$1\\\", /[^>]/], \\\"postprocess\\\": function arrpush(d) {return d[0].concat([d[1]]);}},\\n    {\\\"name\\\": \\\"query\\\", \\\"symbols\\\": [/[^\\\\s]/, \\\"query$ebnf$1\\\"], \\\"postprocess\\\":  function(d, location, reject){\\n        \\n            var q = d[0]+d[1].join(\\\"\\\")\\n            \\n            if(q === \\\"this\\\" || q === \\\"window\\\")\\n                return reject\\n        \\n            return {type : \\\"query\\\", query: d[0]+d[1].join(\\\"\\\")} \\n        } },\\n    {\\\"name\\\": \\\"args$ebnf$1$subexpression$1\\\", \\\"symbols\\\": [\\\"argtail\\\"]},\\n    {\\\"name\\\": \\\"args$ebnf$1\\\", \\\"symbols\\\": [\\\"args$ebnf$1$subexpression$1\\\"], \\\"postprocess\\\": id},\\n    {\\\"name\\\": \\\"args$ebnf$1\\\", \\\"symbols\\\": [], \\\"postprocess\\\": function(d) {return null;}},\\n    {\\\"name\\\": \\\"args\\\", \\\"symbols\\\": [\\\"onearg\\\", \\\"_\\\", \\\"args$ebnf$1\\\"], \\\"postprocess\\\": function(d){return d[2] ? [d[0]].concat(d[2][0]) : [d[0]]}},\\n    {\\\"name\\\": \\\"argtail$ebnf$1$subexpression$1\\\", \\\"symbols\\\": [{\\\"literal\\\":\\\",\\\"}, \\\"_\\\", \\\"onearg\\\"]},\\n    {\\\"name\\\": \\\"argtail$ebnf$1\\\", \\\"symbols\\\": [\\\"argtail$ebnf$1$subexpression$1\\\"]},\\n    {\\\"name\\\": \\\"argtail$ebnf$1$subexpression$2\\\", \\\"symbols\\\": [{\\\"literal\\\":\\\",\\\"}, \\\"_\\\", \\\"onearg\\\"]},\\n    {\\\"name\\\": \\\"argtail$ebnf$1\\\", \\\"symbols\\\": [\\\"argtail$ebnf$1\\\", \\\"argtail$ebnf$1$subexpression$2\\\"], \\\"postprocess\\\": function arrpush(d) {return d[0].concat([d[1]]);}},\\n    {\\\"name\\\": \\\"argtail\\\", \\\"symbols\\\": [\\\"argtail$ebnf$1\\\"], \\\"postprocess\\\": function(d){return d[0].map(triple=> triple[2])}},\\n    {\\\"name\\\": \\\"onearg$subexpression$1\\\", \\\"symbols\\\": [\\\"thispath\\\"]},\\n    {\\\"name\\\": \\\"onearg$subexpression$1\\\", \\\"symbols\\\": [\\\"pointedpath\\\"]},\\n    {\\\"name\\\": \\\"onearg$subexpression$1\\\", \\\"symbols\\\": [\\\"detailpath\\\"]},\\n    {\\\"name\\\": \\\"onearg$subexpression$1\\\", \\\"symbols\\\": [\\\"staticvalue\\\"]},\\n    {\\\"name\\\": \\\"onearg$subexpression$1\\\", \\\"symbols\\\": [\\\"eventpath\\\"]},\\n    {\\\"name\\\": \\\"onearg\\\", \\\"symbols\\\": [\\\"onearg$subexpression$1\\\"], \\\"postprocess\\\": function(d){ return d[0][0] }},\\n    {\\\"name\\\": \\\"thispath$ebnf$1\\\", \\\"symbols\\\": [\\\"pathtrail\\\"], \\\"postprocess\\\": id},\\n    {\\\"name\\\": \\\"thispath$ebnf$1\\\", \\\"symbols\\\": [], \\\"postprocess\\\": function(d) {return null;}},\\n    {\\\"name\\\": \\\"thispath\\\", \\\"symbols\\\": [\\\"this\\\", \\\"thispath$ebnf$1\\\"], \\\"postprocess\\\": function(d){ return {owner: \\\"this\\\", path:d[1] || \\\"\\\"} }},\\n    {\\\"name\\\": \\\"pointedpath$string$1\\\", \\\"symbols\\\": [{\\\"literal\\\":\\\"p\\\"}, {\\\"literal\\\":\\\"o\\\"}, {\\\"literal\\\":\\\"i\\\"}, {\\\"literal\\\":\\\"n\\\"}, {\\\"literal\\\":\\\"t\\\"}, {\\\"literal\\\":\\\"e\\\"}, {\\\"literal\\\":\\\"d\\\"}], \\\"postprocess\\\": function joiner(d) {return d.join('');}},\\n    {\\\"name\\\": \\\"pointedpath$ebnf$1\\\", \\\"symbols\\\": [\\\"pathtrail\\\"], \\\"postprocess\\\": id},\\n    {\\\"name\\\": \\\"pointedpath$ebnf$1\\\", \\\"symbols\\\": [], \\\"postprocess\\\": function(d) {return null;}},\\n    {\\\"name\\\": \\\"pointedpath\\\", \\\"symbols\\\": [\\\"pointedpath$string$1\\\", \\\"pointedpath$ebnf$1\\\"], \\\"postprocess\\\": function(d){ return {owner: \\\"pointed\\\", path:d[1] || \\\"\\\"} }},\\n    {\\\"name\\\": \\\"eventpath$string$1\\\", \\\"symbols\\\": [{\\\"literal\\\":\\\"e\\\"}, {\\\"literal\\\":\\\"v\\\"}, {\\\"literal\\\":\\\"e\\\"}, {\\\"literal\\\":\\\"n\\\"}, {\\\"literal\\\":\\\"t\\\"}], \\\"postprocess\\\": function joiner(d) {return d.join('');}},\\n    {\\\"name\\\": \\\"eventpath$ebnf$1\\\", \\\"symbols\\\": [\\\"pathtrail\\\"], \\\"postprocess\\\": id},\\n    {\\\"name\\\": \\\"eventpath$ebnf$1\\\", \\\"symbols\\\": [], \\\"postprocess\\\": function(d) {return null;}},\\n    {\\\"name\\\": \\\"eventpath\\\", \\\"symbols\\\": [\\\"eventpath$string$1\\\", \\\"eventpath$ebnf$1\\\"], \\\"postprocess\\\": function(d){ return {owner: \\\"event\\\",path:d[1] || \\\"\\\" }}},\\n    {\\\"name\\\": \\\"detailpath$ebnf$1\\\", \\\"symbols\\\": [\\\"pathtrail\\\"], \\\"postprocess\\\": id},\\n    {\\\"name\\\": \\\"detailpath$ebnf$1\\\", \\\"symbols\\\": [], \\\"postprocess\\\": function(d) {return null;}},\\n    {\\\"name\\\": \\\"detailpath\\\", \\\"symbols\\\": [\\\"name\\\", \\\"detailpath$ebnf$1\\\"], \\\"postprocess\\\":  function(d, location, reject){ \\n        if(d[0] === \\\"event\\\" || d[0] === \\\"this\\\")\\n        \\treturn reject\\n        return {owner: \\\"event.detail.\\\", path:d[0]+(d[1]||\\\"\\\")} } \\n        },\\n    {\\\"name\\\": \\\"pathtrail$ebnf$1\\\", \\\"symbols\\\": []},\\n    {\\\"name\\\": \\\"pathtrail$ebnf$1\\\", \\\"symbols\\\": [\\\"pathtrail$ebnf$1\\\", /[^\\\\n\\\\r+\\\\-*^,;&|=><:\\\\(\\\\)\\\\{\\\\}]/], \\\"postprocess\\\": function arrpush(d) {return d[0].concat([d[1]]);}},\\n    {\\\"name\\\": \\\"pathtrail\\\", \\\"symbols\\\": [/[.\\\\[]/, \\\"pathtrail$ebnf$1\\\"], \\\"postprocess\\\": function(d){ return d[0]+d[1].join(\\\"\\\") }},\\n    {\\\"name\\\": \\\"staticvalue$subexpression$1\\\", \\\"symbols\\\": [\\\"jsonfloat\\\"]},\\n    {\\\"name\\\": \\\"staticvalue$subexpression$1\\\", \\\"symbols\\\": [\\\"jsonstring\\\"]},\\n    {\\\"name\\\": \\\"staticvalue\\\", \\\"symbols\\\": [\\\"staticvalue$subexpression$1\\\"], \\\"postprocess\\\": function(d){ return {owner: \\\"\\\", path:d[0]} }},\\n    {\\\"name\\\": \\\"simplepath$ebnf$1\\\", \\\"symbols\\\": [\\\"pathtrail\\\"], \\\"postprocess\\\": id},\\n    {\\\"name\\\": \\\"simplepath$ebnf$1\\\", \\\"symbols\\\": [], \\\"postprocess\\\": function(d) {return null;}},\\n    {\\\"name\\\": \\\"simplepath\\\", \\\"symbols\\\": [\\\"name\\\", \\\"simplepath$ebnf$1\\\"], \\\"postprocess\\\": function(d){ return d[1] ? d[0]+d[1] : d[0]}},\\n    {\\\"name\\\": \\\"name$ebnf$1\\\", \\\"symbols\\\": []},\\n    {\\\"name\\\": \\\"name$ebnf$1\\\", \\\"symbols\\\": [\\\"name$ebnf$1\\\", /[^\\\\s.,;+\\\\-*^&|=><:\\\\(\\\\)\\\\[\\\\]\\\\{\\\\}]/], \\\"postprocess\\\": function arrpush(d) {return d[0].concat([d[1]]);}},\\n    {\\\"name\\\": \\\"name\\\", \\\"symbols\\\": [/[a-zA-Z\\\\$_\\\\\\\\]/, \\\"name$ebnf$1\\\"], \\\"postprocess\\\": function(d){return d[0]+d[1].join(\\\"\\\")}},\\n    {\\\"name\\\": \\\"jsonfloat$ebnf$1\\\", \\\"symbols\\\": [{\\\"literal\\\":\\\"-\\\"}], \\\"postprocess\\\": id},\\n    {\\\"name\\\": \\\"jsonfloat$ebnf$1\\\", \\\"symbols\\\": [], \\\"postprocess\\\": function(d) {return null;}},\\n    {\\\"name\\\": \\\"jsonfloat$ebnf$2\\\", \\\"symbols\\\": [/[0-9]/]},\\n    {\\\"name\\\": \\\"jsonfloat$ebnf$2\\\", \\\"symbols\\\": [\\\"jsonfloat$ebnf$2\\\", /[0-9]/], \\\"postprocess\\\": function arrpush(d) {return d[0].concat([d[1]]);}},\\n    {\\\"name\\\": \\\"jsonfloat$ebnf$3$subexpression$1$ebnf$1\\\", \\\"symbols\\\": [/[0-9]/]},\\n    {\\\"name\\\": \\\"jsonfloat$ebnf$3$subexpression$1$ebnf$1\\\", \\\"symbols\\\": [\\\"jsonfloat$ebnf$3$subexpression$1$ebnf$1\\\", /[0-9]/], \\\"postprocess\\\": function arrpush(d) {return d[0].concat([d[1]]);}},\\n    {\\\"name\\\": \\\"jsonfloat$ebnf$3$subexpression$1\\\", \\\"symbols\\\": [{\\\"literal\\\":\\\".\\\"}, \\\"jsonfloat$ebnf$3$subexpression$1$ebnf$1\\\"]},\\n    {\\\"name\\\": \\\"jsonfloat$ebnf$3\\\", \\\"symbols\\\": [\\\"jsonfloat$ebnf$3$subexpression$1\\\"], \\\"postprocess\\\": id},\\n    {\\\"name\\\": \\\"jsonfloat$ebnf$3\\\", \\\"symbols\\\": [], \\\"postprocess\\\": function(d) {return null;}},\\n    {\\\"name\\\": \\\"jsonfloat$ebnf$4$subexpression$1$ebnf$1\\\", \\\"symbols\\\": [/[+-]/], \\\"postprocess\\\": id},\\n    {\\\"name\\\": \\\"jsonfloat$ebnf$4$subexpression$1$ebnf$1\\\", \\\"symbols\\\": [], \\\"postprocess\\\": function(d) {return null;}},\\n    {\\\"name\\\": \\\"jsonfloat$ebnf$4$subexpression$1$ebnf$2\\\", \\\"symbols\\\": [/[0-9]/]},\\n    {\\\"name\\\": \\\"jsonfloat$ebnf$4$subexpression$1$ebnf$2\\\", \\\"symbols\\\": [\\\"jsonfloat$ebnf$4$subexpression$1$ebnf$2\\\", /[0-9]/], \\\"postprocess\\\": function arrpush(d) {return d[0].concat([d[1]]);}},\\n    {\\\"name\\\": \\\"jsonfloat$ebnf$4$subexpression$1\\\", \\\"symbols\\\": [/[eE]/, \\\"jsonfloat$ebnf$4$subexpression$1$ebnf$1\\\", \\\"jsonfloat$ebnf$4$subexpression$1$ebnf$2\\\"]},\\n    {\\\"name\\\": \\\"jsonfloat$ebnf$4\\\", \\\"symbols\\\": [\\\"jsonfloat$ebnf$4$subexpression$1\\\"], \\\"postprocess\\\": id},\\n    {\\\"name\\\": \\\"jsonfloat$ebnf$4\\\", \\\"symbols\\\": [], \\\"postprocess\\\": function(d) {return null;}},\\n    {\\\"name\\\": \\\"jsonfloat\\\", \\\"symbols\\\": [\\\"jsonfloat$ebnf$1\\\", \\\"jsonfloat$ebnf$2\\\", \\\"jsonfloat$ebnf$3\\\", \\\"jsonfloat$ebnf$4\\\"], \\\"postprocess\\\": \\n        function(d) {\\n            return parseFloat(\\n                (d[0] || \\\"\\\") +\\n                d[1].join(\\\"\\\") +\\n                (d[2] ? \\\".\\\"+d[2][1].join(\\\"\\\") : \\\"\\\") +\\n                (d[3] ? \\\"e\\\" + (d[3][1] || \\\"+\\\") + d[3][2].join(\\\"\\\") : \\\"\\\")\\n            );\\n        }\\n        },\\n    {\\\"name\\\": \\\"jsonstring$ebnf$1\\\", \\\"symbols\\\": []},\\n    {\\\"name\\\": \\\"jsonstring$ebnf$1$subexpression$1\\\", \\\"symbols\\\": [{\\\"literal\\\":\\\"\\\\\\\\\\\"}, /['bfnrt\\\\/\\\\\\\\]/]},\\n    {\\\"name\\\": \\\"jsonstring$ebnf$1$subexpression$1$string$1\\\", \\\"symbols\\\": [{\\\"literal\\\":\\\"\\\\\\\\\\\"}, {\\\"literal\\\":\\\"u\\\"}], \\\"postprocess\\\": function joiner(d) {return d.join('');}},\\n    {\\\"name\\\": \\\"jsonstring$ebnf$1$subexpression$1\\\", \\\"symbols\\\": [\\\"jsonstring$ebnf$1$subexpression$1$string$1\\\", \\\"hex4\\\"]},\\n    {\\\"name\\\": \\\"jsonstring$ebnf$1$subexpression$1\\\", \\\"symbols\\\": [/[^'\\\\\\\\]/]},\\n    {\\\"name\\\": \\\"jsonstring$ebnf$1\\\", \\\"symbols\\\": [\\\"jsonstring$ebnf$1\\\", \\\"jsonstring$ebnf$1$subexpression$1\\\"], \\\"postprocess\\\": function arrpush(d) {return d[0].concat([d[1]]);}},\\n    {\\\"name\\\": \\\"jsonstring\\\", \\\"symbols\\\": [{\\\"literal\\\":\\\"'\\\"}, \\\"jsonstring$ebnf$1\\\", {\\\"literal\\\":\\\"'\\\"}], \\\"postprocess\\\": function(d){return '\\\"'+d[1].join(\\\"\\\")+'\\\"'}},\\n    {\\\"name\\\": \\\"hex4\\\", \\\"symbols\\\": [\\\"hex1\\\", \\\"hex1\\\", \\\"hex1\\\", \\\"hex1\\\"], \\\"postprocess\\\": function(d){return d.join(\\\"\\\")}},\\n    {\\\"name\\\": \\\"hex1\\\", \\\"symbols\\\": [/[a-fA-F0-9]/], \\\"postprocess\\\": function(d){return d[0]}},\\n    {\\\"name\\\": \\\"_$ebnf$1\\\", \\\"symbols\\\": []},\\n    {\\\"name\\\": \\\"_$ebnf$1\\\", \\\"symbols\\\": [\\\"_$ebnf$1\\\", /[ \\\\t]/], \\\"postprocess\\\": function arrpush(d) {return d[0].concat([d[1]]);}},\\n    {\\\"name\\\": \\\"_\\\", \\\"symbols\\\": [\\\"_$ebnf$1\\\"]},\\n    {\\\"name\\\": \\\"sep$ebnf$1\\\", \\\"symbols\\\": [/[\\\\n;]/]},\\n    {\\\"name\\\": \\\"sep$ebnf$1\\\", \\\"symbols\\\": [\\\"sep$ebnf$1\\\", /[\\\\n;]/], \\\"postprocess\\\": function arrpush(d) {return d[0].concat([d[1]]);}},\\n    {\\\"name\\\": \\\"sep\\\", \\\"symbols\\\": [\\\"_\\\", \\\"sep$ebnf$1\\\", \\\"_\\\"]},\\n    {\\\"name\\\": \\\"ws$ebnf$1\\\", \\\"symbols\\\": []},\\n    {\\\"name\\\": \\\"ws$ebnf$1\\\", \\\"symbols\\\": [\\\"ws$ebnf$1\\\", /[\\\\s]/], \\\"postprocess\\\": function arrpush(d) {return d[0].concat([d[1]]);}},\\n    {\\\"name\\\": \\\"ws\\\", \\\"symbols\\\": [\\\"ws$ebnf$1\\\"]}\\n];\\nlet ParserStart = \\\"main\\\";\\nexport default { Lexer, ParserRules, ParserStart };\\n\",\" function Rule(name, symbols, postprocess) {\\n        this.id = ++Rule.highestId;\\n        this.name = name;\\n        this.symbols = symbols;        // a list of literal | regex class | nonterminal\\n        this.postprocess = postprocess;\\n        return this;\\n    }\\n    Rule.highestId = 0;\\n\\n    Rule.prototype.toString = function(withCursorAt) {\\n        function stringifySymbolSequence (e) {\\n            return e.literal ? JSON.stringify(e.literal) :\\n                   e.type ? '%' + e.type : e.toString();\\n        }\\n        var symbolSequence = (typeof withCursorAt === \\\"undefined\\\")\\n                             ? this.symbols.map(stringifySymbolSequence).join(' ')\\n                             : (   this.symbols.slice(0, withCursorAt).map(stringifySymbolSequence).join(' ')\\n                                 + \\\" ● \\\"\\n                                 + this.symbols.slice(withCursorAt).map(stringifySymbolSequence).join(' ')     );\\n        return this.name + \\\" → \\\" + symbolSequence;\\n    }\\n\\n\\n    // a State is a rule at a position from a given starting point in the input stream (reference)\\n    function State(rule, dot, reference, wantedBy) {\\n        this.rule = rule;\\n        this.dot = dot;\\n        this.reference = reference;\\n        this.data = [];\\n        this.wantedBy = wantedBy;\\n        this.isComplete = this.dot === rule.symbols.length;\\n    }\\n\\n    State.prototype.toString = function() {\\n        return \\\"{\\\" + this.rule.toString(this.dot) + \\\"}, from: \\\" + (this.reference || 0);\\n    };\\n\\n    State.prototype.nextState = function(child) {\\n        var state = new State(this.rule, this.dot + 1, this.reference, this.wantedBy);\\n        state.left = this;\\n        state.right = child;\\n        if (state.isComplete) {\\n            state.data = state.build();\\n        }\\n        return state;\\n    };\\n\\n    State.prototype.build = function() {\\n        var children = [];\\n        var node = this;\\n        do {\\n            children.push(node.right.data);\\n            node = node.left;\\n        } while (node.left);\\n        children.reverse();\\n        return children;\\n    };\\n\\n    State.prototype.finish = function() {\\n        if (this.rule.postprocess) {\\n            this.data = this.rule.postprocess(this.data, this.reference, Parser.fail);\\n        }\\n    };\\n\\n\\n    function Column(grammar, index) {\\n        this.grammar = grammar;\\n        this.index = index;\\n        this.states = [];\\n        this.wants = {}; // states indexed by the non-terminal they expect\\n        this.scannable = []; // list of states that expect a token\\n        this.completed = {}; // states that are nullable\\n    }\\n\\n\\n    Column.prototype.process = function(nextColumn) {\\n        var states = this.states;\\n        var wants = this.wants;\\n        var completed = this.completed;\\n\\n        for (var w = 0; w < states.length; w++) { // nb. we push() during iteration\\n            var state = states[w];\\n\\n            if (state.isComplete) {\\n                state.finish();\\n                if (state.data !== Parser.fail) {\\n                    // complete\\n                    var wantedBy = state.wantedBy;\\n                    for (var i = wantedBy.length; i--; ) { // this line is hot\\n                        var left = wantedBy[i];\\n                        this.complete(left, state);\\n                    }\\n\\n                    // special-case nullables\\n                    if (state.reference === this.index) {\\n                        // make sure future predictors of this rule get completed.\\n                        var exp = state.rule.name;\\n                        (this.completed[exp] = this.completed[exp] || []).push(state);\\n                    }\\n                }\\n\\n            } else {\\n                // queue scannable states\\n                var exp = state.rule.symbols[state.dot];\\n                if (typeof exp !== 'string') {\\n                    this.scannable.push(state);\\n                    continue;\\n                }\\n\\n                // predict\\n                if (wants[exp]) {\\n                    wants[exp].push(state);\\n\\n                    if (completed.hasOwnProperty(exp)) {\\n                        var nulls = completed[exp];\\n                        for (var i = 0; i < nulls.length; i++) {\\n                            var right = nulls[i];\\n                            this.complete(state, right);\\n                        }\\n                    }\\n                } else {\\n                    wants[exp] = [state];\\n                    this.predict(exp);\\n                }\\n            }\\n        }\\n    }\\n\\n    Column.prototype.predict = function(exp) {\\n        var rules = this.grammar.byName[exp] || [];\\n\\n        for (var i = 0; i < rules.length; i++) {\\n            var r = rules[i];\\n            var wantedBy = this.wants[exp];\\n            var s = new State(r, 0, this.index, wantedBy);\\n            this.states.push(s);\\n        }\\n    }\\n\\n    Column.prototype.complete = function(left, right) {\\n        var copy = left.nextState(right);\\n        this.states.push(copy);\\n    }\\n\\n\\n    function Grammar(rules, start) {\\n        this.rules = rules;\\n        this.start = start || this.rules[0].name;\\n        var byName = this.byName = {};\\n        this.rules.forEach(function(rule) {\\n            if (!byName.hasOwnProperty(rule.name)) {\\n                byName[rule.name] = [];\\n            }\\n            byName[rule.name].push(rule);\\n        });\\n    }\\n\\n    // So we can allow passing (rules, start) directly to Parser for backwards compatibility\\n    Grammar.fromCompiled = function(rules, start) {\\n        var lexer = rules.Lexer;\\n        if (rules.ParserStart) {\\n          start = rules.ParserStart;\\n          rules = rules.ParserRules;\\n        }\\n        var rules = rules.map(function (r) { return (new Rule(r.name, r.symbols, r.postprocess)); });\\n        var g = new Grammar(rules, start);\\n        g.lexer = lexer; // nb. storing lexer on Grammar is iffy, but unavoidable\\n        return g;\\n    }\\n\\n\\n    function StreamLexer() {\\n      this.reset(\\\"\\\");\\n    }\\n\\n    StreamLexer.prototype.reset = function(data, state) {\\n        this.buffer = data;\\n        this.index = 0;\\n        this.line = state ? state.line : 1;\\n        this.lastLineBreak = state ? -state.col : 0;\\n    }\\n\\n    StreamLexer.prototype.next = function() {\\n        if (this.index < this.buffer.length) {\\n            var ch = this.buffer[this.index++];\\n            if (ch === '\\\\n') {\\n              this.line += 1;\\n              this.lastLineBreak = this.index;\\n            }\\n            return {value: ch};\\n        }\\n    }\\n\\n    StreamLexer.prototype.save = function() {\\n      return {\\n        line: this.line,\\n        col: this.index - this.lastLineBreak,\\n      }\\n    }\\n\\n    StreamLexer.prototype.formatError = function(token, message) {\\n        // nb. this gets called after consuming the offending token,\\n        // so the culprit is index-1\\n        var buffer = this.buffer;\\n        if (typeof buffer === 'string') {\\n            var nextLineBreak = buffer.indexOf('\\\\n', this.index);\\n            if (nextLineBreak === -1) nextLineBreak = buffer.length;\\n            var line = buffer.substring(this.lastLineBreak, nextLineBreak)\\n            var col = this.index - this.lastLineBreak;\\n            message += \\\" at line \\\" + this.line + \\\" col \\\" + col + \\\":\\\\n\\\\n\\\";\\n            message += \\\"  \\\" + line + \\\"\\\\n\\\"\\n            message += \\\"  \\\" + Array(col).join(\\\" \\\") + \\\"^\\\"\\n            return message;\\n        } else {\\n            return message + \\\" at index \\\" + (this.index - 1);\\n        }\\n    }\\n\\n\\n    function Parser(rules, start, options) {\\n        if (rules instanceof Grammar) {\\n            var grammar = rules;\\n            var options = start;\\n        } else {\\n            var grammar = Grammar.fromCompiled(rules, start);\\n        }\\n        this.grammar = grammar;\\n\\n        // Read options\\n        this.options = {\\n            keepHistory: false,\\n            lexer: grammar.lexer || new StreamLexer,\\n        };\\n        for (var key in (options || {})) {\\n            this.options[key] = options[key];\\n        }\\n\\n        // Setup lexer\\n        this.lexer = this.options.lexer;\\n        this.lexerState = undefined;\\n\\n        // Setup a table\\n        var column = new Column(grammar, 0);\\n        var table = this.table = [column];\\n\\n        // I could be expecting anything.\\n        column.wants[grammar.start] = [];\\n        column.predict(grammar.start);\\n        // TODO what if start rule is nullable?\\n        column.process();\\n        this.current = 0; // token index\\n    }\\n\\n    // create a reserved token for indicating a parse fail\\n    Parser.fail = {};\\n\\n    Parser.prototype.feed = function(chunk) {\\n        var lexer = this.lexer;\\n        lexer.reset(chunk, this.lexerState);\\n\\n        var token;\\n        while (token = lexer.next()) {\\n            // We add new states to table[current+1]\\n            var column = this.table[this.current];\\n\\n            // GC unused states\\n            if (!this.options.keepHistory) {\\n                delete this.table[this.current - 1];\\n            }\\n\\n            var n = this.current + 1;\\n            var nextColumn = new Column(this.grammar, n);\\n            this.table.push(nextColumn);\\n\\n            // Advance all tokens that expect the symbol\\n            var literal = token.text !== undefined ? token.text : token.value;\\n            var value = lexer.constructor === StreamLexer ? token.value : token;\\n            var scannable = column.scannable;\\n            for (var w = scannable.length; w--; ) {\\n                var state = scannable[w];\\n                var expect = state.rule.symbols[state.dot];\\n                // Try to consume the token\\n                // either regex or literal\\n                if (expect.test ? expect.test(value) :\\n                    expect.type ? expect.type === token.type\\n                                : expect.literal === literal) {\\n                    // Add it\\n                    var next = state.nextState({data: value, token: token, isToken: true, reference: n - 1});\\n                    nextColumn.states.push(next);\\n                }\\n            }\\n\\n            // Next, for each of the rules, we either\\n            // (a) complete it, and try to see if the reference row expected that\\n            //     rule\\n            // (b) predict the next nonterminal it expects by adding that\\n            //     nonterminal's start state\\n            // To prevent duplication, we also keep track of rules we have already\\n            // added\\n\\n            nextColumn.process();\\n\\n            // If needed, throw an error:\\n            if (nextColumn.states.length === 0) {\\n                // No states at all! This is not good.\\n                var message = this.lexer.formatError(token, \\\"invalid syntax\\\") + \\\"\\\\n\\\";\\n                message += \\\"Unexpected \\\" + (token.type ? token.type + \\\" token: \\\" : \\\"\\\");\\n                message += JSON.stringify(token.value !== undefined ? token.value : token) + \\\"\\\\n\\\";\\n                var err = new Error(message);\\n                err.offset = this.current;\\n                err.token = token;\\n                throw err;\\n            }\\n\\n            // maybe save lexer state\\n            if (this.options.keepHistory) {\\n              column.lexerState = lexer.save()\\n            }\\n\\n            this.current++;\\n        }\\n        if (column) {\\n          this.lexerState = lexer.save()\\n        }\\n\\n        // Incrementally keep track of results\\n        this.results = this.finish();\\n\\n        // Allow chaining, for whatever it's worth\\n        return this;\\n    };\\n\\n    Parser.prototype.save = function() {\\n        var column = this.table[this.current];\\n        column.lexerState = this.lexerState;\\n        return column;\\n    };\\n\\n    Parser.prototype.restore = function(column) {\\n        var index = column.index;\\n        this.current = index;\\n        this.table[index] = column;\\n        this.table.splice(index + 1);\\n        this.lexerState = column.lexerState;\\n\\n        // Incrementally keep track of results\\n        this.results = this.finish();\\n    };\\n\\n    // nb. deprecated: use save/restore instead!\\n    Parser.prototype.rewind = function(index) {\\n        if (!this.options.keepHistory) {\\n            throw new Error('set option `keepHistory` to enable rewinding')\\n        }\\n        // nb. recall column (table) indicies fall between token indicies.\\n        //        col 0   --   token 0   --   col 1\\n        this.restore(this.table[index]);\\n    };\\n\\n    Parser.prototype.finish = function() {\\n        // Return the possible parsings\\n        var considerations = [];\\n        var start = this.grammar.start;\\n        var column = this.table[this.table.length - 1]\\n        column.states.forEach(function (t) {\\n            if (t.rule.name === start\\n                    && t.dot === t.rule.symbols.length\\n                    && t.reference === 0\\n                    && t.data !== Parser.fail) {\\n                considerations.push(t);\\n            }\\n        });\\n        return considerations.map(function(c) {return c.data; });\\n    };\\n\\n    export {\\n        Parser,\\n        Grammar,\\n        Rule\\n    }\\n\",\"import handlerGrammar from \\\"./handlers.js\\\"\\nimport {Parser,Grammar} from \\\"./nearley.mjs\\\"\\n\\nconst p = Parser.bind(null,Grammar.fromCompiled(handlerGrammar))\\n\\nexport default p\",\"import HandlerParser from \\\"./HandlerParser.js\\\"\\n\\n\\nclass EventHandler {\\n\\tconstructor(owner){\\n\\t\\t\\n\\t\\tpriv(this)\\n\\t\\t\\n\\t\\t_(this).onEvent = onEvent.bind(this)\\n\\t\\t_(this).handlers = []\\n\\t\\t_(this).owner =  owner\\n\\n\\t\\tthis.scope = document\\n\\n\\t\\t\\n\\t}\\n\\n\\tclear(){\\n\\t\\t\\n\\n\\t\\tlet {handlers} = _(this)\\n\\n\\t\\tfor(let evtType of handlers){\\n\\t\\t\\thandlers.destroy()\\n\\t\\t}\\n\\n\\t\\t_(this).handlers = []\\n\\t}\\n\\t\\n\\tsetCode(strCode){\\n\\t\\t\\n\\t\\tlet parser = new HandlerParser()\\n\\n\\t\\tparser.feed(strCode)\\n\\n\\t\\tlet parsedHandlers = parser.finish()\\n\\t\\t\\n\\t\\tthis.setHandlers(parsedHandlers[0])\\n\\t}\\n\\n\\tsetHandlers(parsedHandlers){\\n\\t\\tparsedHandlers.forEach(h => this.pushHanlder(h))\\n\\t}\\n\\n\\tpushHanlder(parsedHandler) {\\n\\t\\tlet {pointer, snippet, event } = parsedHandler \\n\\t\\tlet sig = signature(event,pointer)\\n\\t\\tlet handlers = _(this).handlers\\n\\t\\tlet handler = handlers.find(h=>h.signature === sig)\\n\\n\\t\\tif(!handler){\\n\\t\\t\\thandler = new Handler(_(this).owner,event)\\n\\t\\t\\thandler.setPointer(pointer)\\n\\t\\t}\\n\\n\\t\\thandler.snippets.push(snippet)\\n\\t\\thandler.build()\\n\\t\\thandlers.push(handler)\\n\\n\\t}\\n\\n\\ttoString(){\\n\\t\\tif(!_(this).handlers)\\n\\t\\t\\treturn \\\"\\\"\\n\\n\\t\\treturn _(this).handlers.join(\\\"; \\\")\\n\\t}\\n\\n\\t\\n\\n\\tdestroy(){\\n\\t\\tthis.clear()\\n\\t}\\n}\\n\\n\\n\\n// ****************************************************************************\\n// *                              Private Static                              *\\n// ****************************************************************************\\n\\nconst initTarget = \\\"var target = event.target\\\"\\n \\nclass Handler{\\n\\tconstructor(owner, evt){\\n\\n\\t\\tthis.invoke = ()=>{}\\n\\t\\tthis.snippets = []\\n\\t\\tthis.select = ()=>null\\n\\t\\tthis.evt = evt\\n\\t\\tthis.owner = owner\\n\\t\\t\\n\\n\\t}\\n\\n\\tupdateSignature(pointer){\\n\\t\\tthis.signature = signature(this.evt,pointer)\\n\\t}\\n\\t\\n\\tbuild(){\\n\\t\\t\\n\\t\\tlet owner = this.owner\\n\\n\\t\\tlet lines = ['\\\"use strict\\\"',initTarget].concat(this.snippets.map(makeSnippet))\\n\\t\\tthis.invoke = new Function(\\\"event\\\",\\\"pointed\\\", lines.join(\\\";\\\\n\\\")).bind(owner)\\n\\n\\t\\t\\n\\t}\\n\\n\\tsetPointer( parsedPointer){\\n\\t\\t\\n\\t\\tlet owner = this.owner\\n\\t\\tlet {type , query} = parsedPointer\\n\\n\\t\\tif(type === \\\"this\\\"){\\n\\t\\t\\tthis.select = query\\n\\t\\t\\t\\t? ()=> owner.querySelectorAll(query)\\n\\t\\t\\t\\t: ()=> [owner]\\n\\t\\t}\\n\\t\\telse if(type === \\\"query\\\") {\\n\\t\\t\\tthis.select = ()=> document.querySelectorAll(query)\\n\\t\\t}\\n\\t\\telse if(type === \\\"window\\\") {\\n\\t\\t\\tthis.select = ()=> [window]\\n\\t\\t}\\n\\t\\telse {\\n\\t\\t\\tthrow new Error(\\\"Unknown pointer type \\\"+type+\\\" (this is probably an issue withe the grammar definition) \\\")\\n\\t\\t}\\n\\t\\tthis.updateSignature(parsedPointer)\\n\\t\\tthis.enable()\\n\\t}\\n\\n\\tenable(){\\n\\t\\tif(this.callback)\\n\\t\\t\\treturn\\n\\n\\t\\tthis.callback = handlerCallback.bind(this)\\n\\n\\t\\tthis.owner.addEventListener(this.evt,this.callback)\\n\\t}\\n\\tdestroy(){\\n\\t\\tthis.owner.removeEventListener(this.evt,this.callback)\\n\\t}\\n\\ttoString(){\\n\\t\\treturn this.selector+\\\"-> \\\"+this.signature\\n\\t}\\n}\\n\\nvar handlerCallback = function(evt) {\\n\\n\\tlet selected = this.select()\\n\\n\\tfor(let pointed of selected){\\n\\t\\ttry{\\n\\t\\t\\tthis.invoke(evt,pointed)\\n\\t\\t}catch(e){\\n\\t\\t\\tconsole.error(e)\\n\\t\\t}\\n\\t\\t\\n\\t}\\n\\n\\n}\\n\\nHandler.fromString = function(str) {\\n\\n\\tlet [\\n\\t\\tmatch ,\\n\\t\\tselector ,\\n\\t\\tmethode ,\\n\\t\\tparameters\\n\\t] = /(.+)->([^\\\\(]+)\\\\(([^\\\\)]*)\\\\)/g.exec(str)\\n\\n\\tif(!match || !selector || !methode){\\n\\t\\tthrow new Error(\\\"could not parse \\\"+str+\\\" to a targeted event.\\\")\\n\\t}\\n\\t\\t\\n\\n\\treturn new Handler(selector,methode,parameters)\\n}\\n\\nvar pointerSignature = function(pointer){\\n\\tlet {type , query} = pointer\\n\\t\\tif(type === \\\"this\\\"){\\n\\t\\t\\treturn \\\"this\\\"\\n\\t\\t}\\n\\t\\telse if(type === \\\"query\\\") {\\n\\t\\t\\treturn pointer.query.trim().replace(/\\\\s+/g,\\\" \\\")\\n\\t\\t}\\n}\\n\\nvar makeSnippet = function (parsedSnippet) {\\n\\n\\tlet {type, path, args} = parsedSnippet\\n\\n\\tif(type ===\\\"call\\\")\\n\\t\\treturn `pointed.${path}(${args.map(makeSnippetArg).join(\\\",\\\")})`\\n\\telse \\n\\t\\treturn `pointed.${path}=${args.owner+args.path}`\\n\\n}\\n\\nvar toHandlerSiganture = function(pointer,snippet) {\\n\\t\\n\\treturn pointer.trim()+\\\"->\\\"+snippet.trim()\\n\\n}\\nvar makeSnippetArg = function(parsedArg){\\n\\t\\n\\tlet {owner, path} = parsedArg\\n\\n\\treturn owner+path\\n}\\n\\nvar signature = function(evt,pointer) {\\n\\n\\treturn evt.trim()+\\\":\\\"+ pointerSignature(pointer)\\n}\\n\\n\\n// ****************************************************************************\\n// *                                  Private                                 *\\n// ****************************************************************************\\n\\nvar onEvent = function(evt) {\\n\\n\\tlet {handlers} = _(this)\\n\\t\\n\\tfor(let i = 0;i < handlers.length; i++){\\n\\n\\t\\tlet {selector, methode, paramExtractor} = handlers[i]\\n\\n\\t\\tdispatchOne.call(this, evt, selector, methode, paramExtractor)\\n\\t}\\n}\\n\\n\\nvar dispatchOne = function(event,selector,methode,paramExtractor ) {\\n\\n\\t\\n\\tfor(let target of this.scope.querySelectorAll(selector)){\\n\\t\\ttry{\\n\\t\\t\\ttarget[methode].apply(target,paramExtractor.call(target,event,event.detail))\\n\\t\\t}catch(e){\\n\\t\\t\\tconsole.error(e)\\n\\t\\t}\\n\\t}\\n\\t\\n}\\n\\n// Private values. Weakmap key and value can be GCed if they are not stored anywhere else.\\n{\\n\\tlet map = new WeakMap()\\n\\n\\tvar priv = function(key) {\\n\\t\\tmap.set(key,{})\\n\\t}\\n\\n\\tvar _ = function(key) {\\n\\t\\treturn map.get(key)\\n\\t}\\n}\\n\\nexport default EventHandler\",\"export default class ModuleHandler {\\n\\tconstructor(name,options) {\\n\\n\\t\\tlet {defaults, externalsOwner,cardinality,externalName} = options\\n\\t\\t\\n\\t\\tthis.defaults = defaults\\n\\n\\t\\tthis.externalsOwner = externalsOwner\\n\\t\\t\\n\\t\\tthis.externalName = externalName || \\\"external\\\"+name.charAt(0).toUpperCase()+name.slice(1)\\n\\n\\t\\tinitExternal(externalsOwner,externalName)\\n\\n\\t\\texternalsOwner[this.externalName] = new Proxy(this.externals,{set : addExternalModule})\\n\\n\\t\\tthis.cardinality = cardinality || \\\"one\\\"\\n\\t\\tthis.oldModuleString = \\\"\\\"\\n\\t\\tthis.modules = null\\n\\t\\tthis.name = name\\n\\n\\n\\t}\\n\\tget externals(){\\n\\t\\treturn _(this.externalsOwner)\\n\\t}\\n\\tasync update(moduleString){\\n\\t\\t\\n\\t\\tthis.updateKey = Math.random()+\\\"\\\"+Date.now()\\n\\n\\t\\tif(this.oldModuleString === moduleString)\\n\\t\\t\\treturn\\n\\n\\t\\tthis.oldModuleString = moduleString\\n\\n\\t\\tthis.modules = null\\n\\n\\t\\tlet splitted = moduleString.split(splitRule)\\n\\t\\t\\t.map(s => s.trim())\\n\\t\\t\\t.filter(s => s)\\n\\t\\t\\n\\t\\tcheckCardinality.call(this,splitted)\\n\\n\\t\\tif(this.cardinality === \\\"one\\\"){\\n\\t\\t\\tthis.modules = await loadModule.call(this,splitted[0])\\n\\t\\t}else{\\n\\t\\t\\tthis.modules = await Promise.all(splitted.map(loadModule.bind(this)))\\n\\t\\t}\\n\\n\\t\\treturn this.modules\\n\\n\\t}\\n}\\n\\nconst splitRule = /(?:\\\\n\\\\r?|,|;)+/\\n\\n\\n\\nvar checkCardinality = function(splitted){\\n\\tif(this.cardinality === \\\"one\\\" && splitted.length > 1){\\n\\t\\tthrow new Error(\\\"Invalid module set \\\"+this.name+\\\" : [\\\"+splitted.join()+\\\"], only one allowed.\\\")\\n\\t}\\n}\\n\\nvar initExternal = function(externalsOwner,externalName){\\n\\t\\n\\n\\tif(!externalsOwner[externalName])\\n\\t\\texternalsOwner[externalName] = new Proxy(priv(externalsOwner),{set : addExternalModule})\\n}\\nvar loadModule = async function(moduleName){\\n\\t\\n\\tif(isPath(moduleName))\\n\\t\\treturn await import(moduleName)\\n\\tif(haveExeternal.call(this,moduleName))\\n\\t\\treturn this.externals[moduleName]\\n\\tif(this.defaults && moduleName in this.defaults)\\n\\t\\treturn this.defaults[moduleName]\\n\\n\\treturn waitForExternal.call(this,moduleName)\\n}\\n\\nvar isPath = function(str){\\n\\treturn str.includes(\\\"/\\\")\\n}\\n\\nvar haveExeternal =function(name){\\n\\treturn this.externals[name] && this.externals[name] !== \\\"function\\\"\\n}\\nvar waitForExternal = async function (moduleName) {\\n\\tlet updateKey  = this.updateKey \\n\\n\\tlet p\\n\\tif(this.externals[moduleName])\\n\\t\\tp = this.externals[moduleName].promise\\n\\n\\tp = new Promise(res => this.externals[moduleName] = res)\\n\\tthis.externals[moduleName].promise = p\\n\\n\\tlet res = await p\\n\\n\\tif(updateKey != this.updateKey)\\n\\t\\tthrow new ExternalLoadCanceled()\\n\\n\\treturn res\\n}\\n\\nvar addExternalModule = function (obj,name,value){\\n\\tif(typeof obj[name] === \\\"function\\\"){\\n\\t\\tlet callback = obj[name]\\n\\t\\tobj[name] = value\\n\\t\\tcallback(value)\\n\\t}\\n\\telse{\\n\\t\\tif(obj[name])\\n\\t\\t\\tthrow new Error(this.name+\\\" already have a module \\\"+name)\\n\\t\\tobj[name] = value\\n\\t}\\n\\n\\treturn true\\n}\\n\\n\\n//\\n// Thrown when the handler was waiting for some external but the set of module\\n// to change have changed, and so this update process should be aborted.\\n//\\n// @class      ExternalLoadCanceled \\n//\\nclass ExternalLoadCanceled extends Error{\\n\\tconstructor(){\\n\\t\\tthis.isCancelation = true\\n\\t}\\n}\\n\\n// Private values. Weakmap key and value can be GCed if they are not stored anywhere else.\\n{\\n\\tlet map = new WeakMap()\\n\\n\\tvar priv = function(key) {\\n\\t\\tlet p = map.get(key)\\n\\t\\tif(!p){\\n\\t\\t\\tp = {}\\n\\t\\t\\tmap.set(key,p)\\n\\t\\t}\\n\\t\\treturn p\\n\\t\\t\\n\\t}\\n\\n\\tvar _ = function(key) {\\n\\t\\treturn map.get(key)\\n\\t}\\n}\",\"\\nlet {String,Number,Boolean} = window\\n\\nexport {String as string}\\nexport {Number as number}\\nexport function int(v){\\n\\treturn Math.floor(v)\\n}\\nexport {Boolean as boolean}\\nexport function array(v) {\\n\\treturn Array.from(v)\\n}\\nexport function set(v) {\\n\\treturn new Set(...v)\\n}\\nexport function date(v) {\\n\\treturn new Date(v)\\n}\\nfunction func(v) {\\n\\tif(typeof v !== \\\"function\\\")\\n\\t\\tthrow new Error(\\\"A function was expected, got : \\\"+v)\\n\\treturn v\\n} \\nexport {func as function}\\n\\n\",\"import Serializer from \\\"./Serializer.js\\\"\\nimport EventHandler from \\\"./EventHandler.js\\\"\\nimport ModuleHandler from \\\"./ModuleHandler.js\\\"\\nimport  * as Coercer from \\\"./Coercer.js\\\"\\n/**\\n @classdesc Base class for component, provide useful methods to get data by attribute and emit data by events.\\n\\n @class      ComponentBase\\n\\n*/\\nclass ComponentBase extends HTMLElement{\\n\\t/**\\n\\t * Constructs the ComponentBase,\\n\\t * Do not call, its meant for the DOM.\\n\\t * Remember that as this object is a web component, it's possible to have some attribute already assigned by other pieces of code before the constructor call.\\n\\t */\\n\\tconstructor(){\\n\\t\\tsuper()\\n\\t\\tpriv(this)\\n\\n\\t\\t_(this).isNew = true\\n\\t\\t_(this).destroyed = false\\n\\n\\t\\t\\n\\n\\t\\t_(this).attributesReaction = {}\\n\\n\\t\\t_(this).uid = makeUID.call(this)\\n\\n\\t\\tlet shmod = getChildShadowMode.call(this,)\\n\\t\\tif(shmod != \\\"none\\\"){\\n\\t\\t\\t/**\\n\\t\\t\\t * Shadow dom. Open by default\\n\\t\\t\\t * @type ShadowRoot?\\n\\t\\t\\t * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot}\\n\\t\\t\\t */\\n\\t\\t\\tthis.shadow = this.attachShadow({mode : shmod}); \\n\\n\\t\\t\\tappendTemplate.call(this)\\n\\t\\t\\tappendStyles.call(this)\\n\\t\\t}\\n\\t\\t\\n\\n\\t\\tinitStaticEventHandler.call(this)\\n\\n\\t}\\n\\n\\t/**\\n\\t * Event called when the custom component have been properly instantiated and added in the DOM.\\n\\t * \\n\\t * Methods defined in the class may not be available before this event is fired.\\n\\t *\\n\\t * @event      ComponentBase#ready\\n\\t * @type {object}\\n\\t */\\n\\n \\t/**\\n  \\t * function called by the dom when the component if inserted in the dom and ready to be used.\\n\\t * \\n\\t * You may want to override this one but must call super.connectedCallback() so that the ready event is properly fired.\\n \\t * @fires ComponentBase#ready\\n  \\t */\\n\\tconnectedCallback(){\\n\\n\\t\\tlet rect\\n\\t\\t\\n\\t\\tif(!this.ready){\\n\\t\\t\\t/**\\n\\t\\t\\t * Gets the getBoundingClientRect. This method may return a buffered value of the client rect.\\n\\t\\t\\t * The buffered value is erased when the widow is resized or when {@link resetBox} is called.\\n\\t\\t\\t *\\n\\t\\t\\t * @return     {DOMRect}  The bounding box of this object.\\n\\t\\t\\t */\\n\\t\\t\\tthis.getBox = () => {\\n\\t\\t\\t\\tif(!rect)\\n\\t\\t\\t\\t\\t rect = this.getBoundingClientRect()\\n\\t\\t\\t\\treturn rect\\n\\t\\t\\t}\\n\\t\\t\\t\\n\\t\\t\\t/**\\n\\t\\t\\t * Reset the buffered dom rect, forcing {@link getBox} to recompute it the next time it's called.\\n\\t\\t\\t *\\n\\t\\t\\t */\\n\\t\\t\\tthis.resetBox = () => {\\n\\t\\t\\t\\trect = null\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.constructed = true\\n\\t\\t\\t\\n\\t\\t\\twindow.addEventListener(\\\"resize\\\",()=>this.resetBox())\\n\\n\\t\\t\\t\\n\\t\\t\\tlet attribs = serializedAttributes.call(this.constructor)\\n\\t\\t\\treactiveAttributes.call(this,attribs,true)\\n\\n\\t\\t\\tlet exposed = exposedAttributes.call(this.constructor)\\n\\t\\t\\treactiveAttributes.call(this,exposed,false)\\n\\n\\t\\t\\t/**\\n\\t\\t\\t *\\n\\t\\t\\t * True if this component have been initialized and its custom methods are available.\\n\\t\\t\\t *  \\n\\t\\t\\t * @type {boolean?} \\n\\t\\t\\t * \\n\\t\\t\\t * @name ready \\n\\t\\t\\t * \\n\\t\\t\\t * @readonly\\n\\t\\t\\t * @public\\n\\t\\t\\t * @memberof ComponentBase.prototype\\n\\t\\t\\t * \\n\\t\\t\\t */\\n\\t\\t\\tObject.defineProperty(this,\\\"ready\\\",{writable: false,value:true})\\n\\t\\t}\\n\\t\\telse\\n\\t\\t\\tthis.resetBox()\\n\\n\\t\\tthis.dispatchEvent(new CustomEvent(\\\"ready\\\"))\\n\\t\\t\\n\\t}\\n\\n\\t/**\\n\\t * Life cycle callback. Will cause the element to  be destroyed.\\n\\t */\\n\\tdisconnectedCallback() {\\n\\t\\tthis.destroy()\\n\\t}\\n\\n\\tattributeChangedCallback(name,oldValue,newValue){\\n\\t\\tif(_(this).attributesReaction[name]){\\n\\t\\t\\t_(this).attributesReaction[name].call(this,oldValue,newValue)\\n\\t\\t}\\n\\t}\\n\\n\\tstatic get observedAttributes(){\\n\\t\\treturn Object.keys(serializedAttributes.call(this))\\n\\t}\\n\\t/**\\n\\t * Custom override of add an event listener.\\n\\t * \\n\\t * Behave as the normal one for all events, with the exception of the \\\"ready\\\" one.\\n\\t * \\n\\t * The ready event is fired immediately on all added callback. \\n\\t *\\n\\t * @param      {string}  key     The event name\\n\\t * @param      {function(CustomEvent)}  func    The callback function\\n\\t */\\n\\taddEventListener(key,func){\\n\\t\\t\\n\\t\\tif(key === \\\"ready\\\" && this.constructed){\\n\\t\\t\\tlet evt = new CustomEvent(\\\"ready\\\")\\n\\n\\t\\t\\t// Call it in timeout so that it's async in both case.\\n\\t\\t\\tsetTimeout(func.bind(this),0,evt)\\n\\t\\t}else{\\n\\t\\t\\tsuper.addEventListener.apply(this,arguments)\\n\\t\\t}\\n\\t}\\n\\n\\t\\n\\t/**\\n\\t * Shorter event listener declaration. The argument of the callback will directly be the event detail and this will be this component\\n\\t *\\n\\t * @param      {DOMString}  key     The key\\n\\t * @param      {function(this:ComponentBase, *)}  func    The  callback function\\n\\t */\\n\\ton(key,func){\\n\\t\\tthis.addEventListener(key,evt => func.call(this,evt.detail))\\n\\t}\\n\\n\\n\\t/**\\n\\t * Sets the style by adding a <link> or <style> tags in the shadow dom. If\\n\\t * no identifier provided overwrite any  <link> or <style> tags present\\n\\t * directly in the root of the shadow dom. Otherwise only delete the one\\n\\t * with the same id.\\n\\t *\\n\\t * If the chosen tag is <link>, set the href in a timeout 0 so that the code\\n\\t * using the value returned by this function execute before the link start\\n\\t * loading.\\n\\t * \\n\\t * If styleStr is anything falsy, just proceed to expected deletion without creating any new element.\\n\\t *\\n\\t * @param      {string?}  styleStr  The style string, either plain css of the\\n\\t *                                 path to a css to be linked with a <link>\\n\\t * @param      {Object}  opt_id    The option identifier\\n\\t * @param      {string?}  id      optional identifier. If on provided, the create\\n\\t *                                element will have the id `cb-style-${id}`\\n\\t *                                \\n\\t * @return {HTMLElement?} The created element.\\n\\t * \\n\\t * @deprecated use the css label instead\\n\\t */\\n\\tsetStyle(styleStr,opt_id){\\n\\t\\tvar useID = arguments.length > 1\\n\\t\\t\\n\\t\\tclearStyles.call(this,opt_id)\\n\\t\\tsetStyle.call(this,styleStr,useID,opt_id)\\n\\t}\\n\\n\\t\\n\\t/**\\n\\t * Define the mode the shadow dom should be created with.\\n\\t * \\n\\t * If you inherit ComponentBase, you may override this **static** method.\\n\\t * The meaning of the value is as follow : \\n\\t *  * **open**  Elements of the shadow root are accessible from JavaScript outside the root, for example using Element.shadowRoot.\\n\\t *  * **closed** Denies access to the node(s) of a closed shadow root from JavaScript outside it. \\n\\t *  * **none** Do not create a shadow root. Methods that interact with the shadow root will probably not work. Make sens if the component is not visible.\\n\\t * @readonly\\n\\t * @default 'open'\\n\\t * @type {('open'|'closed'|'none')}\\n\\t */\\n\\tstatic get shadowMode(){\\n\\t\\treturn \\\"open\\\"\\n\\t}\\n\\n\\t/**\\n\\t * Prevent the component to fire any other event by using _dispatch. Also destroy the static event handler.\\n\\t * \\n\\t * It recommended for subclasses of ComponentBase to overwrite this method with their own destructor. \\n\\t * This destructor should call ```super.destroy()``` to be sure that each of the parent class have properly cleaned all the references to themselves they created.\\n\\t */\\n\\tdestroy(){\\n\\t\\tif(_(this).handler){\\n\\t\\t\\t_(this).handler.destroy()\\n\\t\\t}\\n\\t\\t_(this).destroyed = true\\n\\t}\\n\\t\\n\\t/**\\n\\t * Determines if the component have been destroyed.\\n\\t *\\n\\t * @return     {boolean}  True if destroyed, False otherwise.\\n\\t */\\n\\tisDestroyed(){\\n\\t\\treturn _(this).destroyed\\n\\t}\\n\\n\\t/**\\n\\t * The unique id of this component. Extremely likely to be unique among all\\n\\t * the id of the application.\\n\\t *\\n\\t * The id is made as follow :\\n\\t *\\n\\t * ```JavaScript \\n\\t * ${name}-${epoch}-${random} \\n\\t * ``` \\n\\t * \\n\\t * Where name is the name of the class of the component, epoch is the date of creation of the component given in ms since the unix epoch and random1\\n\\t * and random is a random integer (about 1e16). The date and random int are encoded on base 16.\\n\\t *\\n\\t * @readonly\\n\\t *\\n\\t * @type       {string}\\n\\t *\\n\\t */\\n\\tget uid() {\\n\\t\\treturn _(this).uid\\n\\t}\\n\\t/**\\n\\t * Short for this.dispatchEvent(new CustomEvent(evtType,{detail:payload}))\\n\\t * Also check if destroy have been called and cancel the event in this case.\\n\\t * @protected \\n\\t * @param      {string}  evtType  The event type\\n\\t * @param      payload  The event detail\\n\\t */\\n\\t_dispatch(evtType,payload){\\n\\n\\t\\tif(_(this).destroyed)\\n\\t\\t\\tthrow new Error(`Cannot dispatch ${evtType} on component ${this.tagName}. The component have been destroyed.`)\\n\\t\\telse\\n\\t\\t\\tthis.dispatchEvent(new CustomEvent(evtType,{detail:payload}))\\n\\t}\\n\\n\\n\\t/**\\n\\t * An html string. If provided, this template will be used\\n\\t * to initialize the content of the shadow root during the first connected\\n\\t * callback.\\n\\t *\\n\\t * @abstract\\n\\t * @readonly\\n\\t * @type       {string}\\n\\t */\\n\\tstatic get shadowTemplate(){\\n\\n\\t}\\n\\n\\t/**\\n\\t * A collection of properties name and their types this component should expose both as js property and serialize as html attribute.\\n\\t * Those properties are inherited from parents and can be overloaded.\\n\\t * Attach triggers to the properties and the attributes , also check if some value have been set before the constructor was called.\\n\\t * \\n\\t * @abstract\\n\\t * @readonly\\n\\t * @type {Object}\\n\\t */\\n\\tstatic get serialize() {\\n\\n\\t}\\n\\n\\n\\t/**\\n\\t * A collection of properties name and their types this component should expose both as js property.\\n\\t * Those properties are inherited from parents and can be overloaded.\\n\\t * Attach triggers to the attributes, also check if some value have been set before the constructor was called.\\n\\t * \\n\\t * @abstract\\n\\t * @readonly\\n\\t * @type {String[]}\\n\\t */\\n\\tstatic get expose() {\\n\\n\\t}\\n\\n\\t/**\\n\\t * A label function to define the default styles used by a component.\\n\\t *\\n\\t * ### Do not call this function directly, use it as Template literals\\n\\t * tag.\\n\\t *\\n\\t * In order to allow specific override, style can have an id. The value of\\n\\t * the first placeholder is used as the id if this first placeholder is also\\n\\t * the first element of the template string. Template literals without\\n\\t * placeholder or where the first element is not a placeholder will result\\n\\t * in style without id.\\n\\t *\\n\\t * Placeholders that are not the id can also be function, in which case\\n\\t * their first argument will be an instance of the component class. These\\n\\t * function are evaluated only once in the component life cycle : during \\n\\t * the first connectedCallback, just before the ready event is sent.\\n\\t *\\n\\t * The style string can either be plain css or some URL.\\n\\t *\\n\\t * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#Tagged_templates\\n\\t *\\n\\t * @example   \\n\\t *\\n\\t * // Style without id. This style cannot be overloaded without removing all the inner styles. \\n\\t * MyComponent.css` :host { display : block; } ` \\n\\t * \\n\\t * // Style  with id, can be overloaded later. \\n\\t * MyComponent.css`${\\\"colors\\\"} .redThing {background : red; }`\\n\\t *\\n\\t * `// Style with id, and an url.\\n\\t * MyComponent.css`${\\\"layout\\\"}/css/myComponent.css`\\n\\t */\\n\\tstatic css (lines, ...args) {\\n\\t\\tlet id = \\\"\\\"\\n\\t\\tif(lines[0] === \\\"\\\" && args.length){\\n\\t\\t\\tid = args[0]\\n\\t\\t\\tlines = lines.slice(1)\\n\\t\\t\\targs = args.slice(1)\\n\\t\\t}\\n\\t\\taddStaticCss.call(this,id,lines,args)\\n\\t\\t\\n\\t}\\n\\n\\t/**\\n\\t * A tag function to define the default html content of a component.\\n\\t * \\n\\t *  \\n\\t * ### Do not call this function directly, use it as a template literal tag.\\n\\t * \\n\\t * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#Tagged_templates\\n\\t * \\n\\t * @example\\n\\t * class MyComponent extends ComponentBase {\\n\\t * \\t// class code ...\\n\\t * }\\n\\t * \\n\\t * MyComponent.html`\\n\\t * <div class=\\\"wrapper\\\">\\n\\t * \\t<span class=\\\"redThing\\\">${e => e.text}</span>\\n\\t * </div>\\n\\t * `\\n\\t */\\n\\tstatic html (slices, ...args) {\\n\\t\\taddStaticTemplate.call(this,slices,args)\\n\\t}\\n\\t/*\\n\\t * Placeholders can  also be function, in which case their first argument\\n\\t * will be an instance of the component class. These function are evaluated\\n\\t * only once in the component life cycle : during the first\\n\\t * connectedCallback, just before the ready event is sent.\\n\\t *\\n\\t * But I fear such feature encourage bad practices (ie. ignoring attributes\\n\\t * changes) So i don't put it in the doc and recommend to not use this\\n\\t * feature for now.\\n\\t */\\n}\\n\\n\\nconst loadedTemplate = {}\\n\\n\\n\\nvar getChildShadowMode = function(){\\n\\tlet c = this.constructor\\n\\twhile(!c.shadowMode){\\n\\t\\tc = getPrototypeOf(c)\\n\\t}\\n\\treturn c.shadowMode\\n}\\n\\n/**\\n * Define a getter and a setter name name and bind them with the dom\\n * attribute with the same name for all element of the static function observedAttributes. If, at the moment where _reactiveAttribute\\n * is called the object provide a method named on{$Name}Changed, where\\n * {$Name} if the value of name with the first character as Uppercase, then this\\n * method will be invoked each time the attribute or the setter are\\n * modified.\\n */\\nvar reactiveAttributes = function(attribs,serialize){\\n\\t\\n\\t\\n\\n\\tlet childrenOwnInits\\n\\tif(Array.isArray(attribs))\\n\\t\\tchildrenOwnInits = attribs.map (attr => {\\n\\t\\t\\treturn reactiveAttribute.call(this,attr.toLowerCase(),null,serialize)\\n\\t\\t})\\n\\telse {\\n\\t\\tchildrenOwnInits = []\\n\\t\\tfor(let attr in attribs){\\n\\t\\t\\tlet type = attribs[attr] || \\\"\\\"\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tchildrenOwnInits.push(reactiveAttribute.call(this,attr,type,serialize))\\n\\t\\t\\t}catch(e) {\\n\\t\\t\\t\\tconsole.error(e)\\n\\t\\t\\t}\\n\\t\\t\\t\\n\\t\\t}\\n\\t}\\n\\n\\tchildrenOwnInits.forEach(i => {\\n\\t\\tif(i) {\\n\\t\\t\\ti()\\n\\t\\t}\\n\\t})\\n}\\n\\n\\n\\nvar reactiveAttribute = function(name,type,serialize){\\n\\n\\tlet build = attributeBuild.call(this,name,type,serialize)\\t\\n\\n\\t\\n\\tif(build.typeString === \\\"module\\\"){\\n\\t\\t\\n\\t\\treturn moduleAttribute.call(this,name,build)\\n\\n\\t}\\n\\t\\n\\tlet childInit = null\\n\\t\\n\\n\\tif(build.serializable){\\n\\t\\taddSerializedAcessors.call(this,name,build)\\n\\t\\t\\n\\t} else {\\n\\t\\taddUnserializedAcessors.call(this,name,build)\\n\\t}\\n\\n\\tsetDefaultValue.call(this,name,build)\\n\\n\\tObject.defineProperty(this, name, { \\n\\t\\tset: build.set,\\n\\t\\tget: build.get\\n\\t});\\n\\n\\t\\n\\t\\t\\t\\n\\treturn setupChangeReaction.call(this,name,build)\\n\\t\\n}\\nvar addSerializedAcessors = function(name,build) {\\n\\t\\n\\tbindParseFunction.call(this,\\\"write\\\",build)\\n\\tbindParseFunction.call(this,\\\"read\\\",build)\\n\\t\\n\\n\\tlet {read,write} = build\\n\\n\\tlet provideWrite = !!write\\n\\n\\n\\tbuild.set =  provideWrite \\n\\t\\t? function(x) {\\n\\t\\t\\tthis.setAttribute(name,write(x))\\n\\t\\t} \\n\\t\\t: function(x) {\\n\\t\\t\\tthis.setAttribute(name,x)\\n\\t\\t}\\n\\t\\n\\n\\tlet provideRead = !!read\\n\\n\\tbuild.get = provideRead \\n\\t\\t? function() {\\n\\t\\t\\treturn read(this.getAttribute(name))\\n\\t\\t} \\n\\t\\t: function(x) {\\n\\t\\t\\treturn this.getAttribute(name)\\n\\t\\t}\\n\\t\\n}\\nvar addUnserializedAcessors = function(name,build) {\\n\\tif(!(\\\"exposed\\\" in _(this))) {\\n\\t\\t_(this).exposed = {}\\n\\t}\\n\\n\\tif(name in _(this).exposed) {\\n\\t\\tthrow new Error(name + \\\" is either a reserved attribute or is already in use.\\\")\\n\\t}\\n\\n\\tbuild.get = function(){return _(this).exposed[name]}\\n\\n\\tconst useCoertion = !!build.typeString\\n\\tconst coertion = Coercer[build.typeString]\\n\\tif(typeof coertion !== \\\"function\\\")\\n\\t\\tthrow new Error(\\\"Invalid type for exposed property \\\"+name+\\\" : \\\"+build.typeString)\\n\\n\\tlet setBody = `\\n\\t\\t${build.onChange ? \\\"const old = priv[name]\\\":\\\"\\\"}\\n\\t\\t${useCoertion ? \\\"v = coerce(v)\\\" : \\\"\\\"}\\n\\t\\tpriv[name]=v\\n\\t\\t${build.onChange? \\\"onChange.call(this,old,v)\\\" : \\\"\\\"}\\n` \\n\\tlet scopedArgsName = [\\\"priv\\\",\\\"name\\\"] \\n\\tlet scopedArgs = [_(this).exposed,name]\\n\\n\\tif(useCoertion){\\n\\t\\tscopedArgsName.push(\\\"coerce\\\")\\n\\t\\tscopedArgs.push(coertion)\\n\\t}\\n\\tif(build.onChange){\\n\\t\\tscopedArgsName.push(\\\"onChange\\\")\\n\\t\\tscopedArgs.push(build.onChange)\\n\\t}\\n\\n\\n\\tlet scopingBody = `\\treturn function(v){${setBody}}`\\n\\tlet scopingFunction = new Function(...scopedArgsName,scopingBody)\\n\\n\\tbuild.useCoertion = useCoertion\\n\\tbuild.coertion = coertion\\n\\n\\tbuild.set = scopingFunction.apply(null,scopedArgs)\\n\\n}\\n\\nvar setDefaultValue = function (name,build) {\\n\\tif(!build.oldValueExist)\\n\\t\\treturn\\n\\tlet initValue = build.initValue\\n\\n\\tif(build.serializable) {\\n\\t\\tif(!build.isSerialized) {\\n\\t\\t\\tinitValue = build.write.call(this,initValue)\\n\\t\\t}\\n\\t\\tthis.setAttribute(name,initValue)\\n\\t}\\n\\telse {\\n\\t\\ttry {\\n\\t\\t\\tif(build.useCoertion){\\n\\t\\t\\t\\tinitValue = build.coertion(initValue)\\n\\t\\t\\t}\\n\\t\\t\\t_(this).exposed[name] = initValue\\n\\t\\t}catch(e) {\\n\\t\\t\\t// We don't set any initial value\\n\\t\\t\\tconsole.error(e)\\n\\t\\t}\\n\\t}\\n}\\n\\nvar setupChangeReaction = function (name,build) {\\n\\tlet init\\n\\t\\n\\tlet read = build.read\\n\\n\\tif(typeof build.onChange === \\\"function\\\" ){\\n\\n\\t\\tif(build.oldValueExist){\\n\\n\\t\\t\\tlet oldDeserial = build.isSerialized && read\\n\\t\\t\\t\\t? read(build.initValue)\\n\\t\\t\\t\\t: build.initValue\\n\\t\\t\\t// Return the change callback so that the initialization of other attributes can complete before reaction starts.\\n\\t\\t\\t// Avoid issue when reaction read other attributes.\\n\\t\\t\\tinit = build.onChange.bind(this,null,oldDeserial)\\n\\t\\t\\t\\n\\t\\t\\t\\n\\t\\t}\\n\\t\\t\\n\\t\\tif(build.serializable){\\n\\t\\t\\t_(this).attributesReaction[name] = build.read \\n\\t\\t\\t\\t? function(old,newv) { build.onChange.call(this,read(old),read(newv)) }\\n\\t\\t\\t\\t: build.onChange \\n\\t\\t}\\n\\t\\t\\n\\t}\\n\\treturn init\\n}\\nvar bindParseFunction = function(funcName,build) {\\n\\tif(typeof build[funcName] === \\\"function\\\"){\\n\\t\\tbuild[funcName] = build[funcName].bind(this)\\n\\t}\\n\\telse {\\n\\t\\tlet serializer = build.serializer()\\n\\t\\tif(serializer && serializer[funcName] ){\\n\\t\\t\\tbuild[funcName] = serializer[funcName].bind(this)\\n\\t\\t}\\n\\t}\\n\\t\\n}\\nvar attributeBuild = function (name,type,serializable) {\\n\\tlet upper_0 = name.charAt(0).toUpperCase() + name.slice(1) \\n\\tlet reactionName = \\\"on\\\"+upper_0;\\n\\tlet readName = \\\"stringTo\\\"+upper_0\\n\\tlet writeName = name+\\\"ToString\\\"\\n\\tlet serializer\\n\\n\\tlet oldValueExist = name in this || serializable && this.hasAttribute(name)\\n\\t\\n\\n\\tlet initValue = serializable && this.getAttribute(name) || this[name]\\n\\t\\n\\tlet isSerialized = serializable && (typeof initValue === \\\"string\\\" ^ type === \\\"string\\\") \\n\\n\\tlet typeString, \\n\\t\\toptions\\n\\n\\tlet useTypeObject = false\\n\\tif(typeof type === \\\"string\\\") {\\n\\t\\ttypeString = type\\n\\t}else {\\n\\t\\ttypeString = type.type\\n\\t\\tuseTypeObject = true\\n\\t\\toptions = type\\n\\t\\tif(!oldValueExist && \\\"v0\\\" in type){\\n\\t\\t\\toldValueExist = true\\n\\t\\t\\tinitValue = type.v0\\n\\t\\t}\\n\\t}\\n\\ttypeString = typeString.toLowerCase()\\n\\treturn {\\n\\t\\tread : this[readName],\\n\\t\\twrite : this[writeName],\\n\\t\\tonChange : this[reactionName],\\n\\t\\tserializer : ()=> serializer || (serializer = Serializer(typeString,this,name)),\\n\\t\\tserializable,\\n\\t\\toldValueExist,\\n\\t\\tinitValue,\\n\\t\\tisSerialized,\\n\\t\\ttypeString,\\n\\t\\tuseTypeObject,\\n\\t\\toptions\\n\\t}\\n}\\n\\n\\nvar moduleAttribute = function(name,typeBuilder){\\n\\n\\tlet {initValue,options} = typeBuilder\\n\\n\\tlet handler = new ModuleHandler(name,options)\\n\\t\\n\\tlet upper_0 = name.charAt(0).toUpperCase() + name.slice(1) \\n\\tlet reactionName = \\\"on\\\"+upper_0;\\n\\n\\tObject.defineProperty(this, name, { \\n\\t\\tset: v => this.setAttribute(name,v),\\n\\t\\tget : ()=> handler.modules\\n\\t});\\n\\n\\t_(this).attributesReaction[name] = async (oldModulesS,newModulesS) => {\\n\\n\\t\\tlet oldModules = handler.modules\\n\\t\\ttry{\\n\\t\\t\\tlet newModules = await handler.update(newModulesS)\\n\\n\\t\\t\\tif(this[reactionName]){\\n\\t\\t\\t\\tthis[reactionName](oldModules,newModules)\\n\\t\\t\\t}\\n\\t\\t}catch(e){\\n\\t\\t\\tif(!e.isCancelation)\\n\\t\\t\\t\\tthrow e\\n\\t\\t}\\n\\t\\t\\n\\t}\\n\\tthis[name] = initValue\\n\\n}\\n\\nvar isLinkAttribute = function(name) {\\n\\tlet list  = this.constructor.elementLinks\\n\\tif(!list || !list.length)\\n\\t\\treturn false\\n\\treturn list.includes(name)\\n}\\nvar setupAttributeLink = function(name){\\n\\tlet upper_0 = name.charAt(0).toUpperCase() + name.slice(1) \\n\\tlet readName = \\\"stringTo\\\"+upper_0\\n\\n\\tlet element = null\\n\\tthis[readName] = function (str) {\\n\\t\\t// Will query element each time on browser that do not provide isConnected\\n\\t\\t\\n\\t\\tif(!(element && element.isConnected))\\n\\t\\t\\telement = document.querySelector(str)\\n\\t\\treturn element\\n\\t}\\n\\t\\n\\n\\tlet writeName = name+\\\"ToString\\\"\\n\\tthis[writeName] = (elem) => {\\n\\t\\tvar id = typeof elem === \\\"string\\\" ? elem : elem.id\\n\\t\\tif(!id)\\n\\t\\t\\tthrow new Error(\\\"Cannot link \\\"+elem+\\\" to \\\"+this.tagName+ \\\" the provided element have no defined id.\\\")\\n\\t\\treturn \\\"#\\\"+id\\n\\t}\\n}\\n\\n\\nvar serializedAttributes = function(){\\n\\treturn touchInheritableObj.call(this,\\\"serialize\\\")\\n}\\n\\nvar exposedAttributes = function(){\\n\\tlet expose = priv(this).expose\\n\\tif(!expose) {\\n\\t\\texpose = buildInheritableObj.call(this,\\\"expose\\\")\\n\\t\\tlet serial = serializedAttributes.call(this)\\n\\t\\tfor(let key in serial) {\\n\\t\\t\\tdelete expose[key]\\n\\t\\t}\\n\\t\\tpriv(this).expose = expose\\n\\t}\\n\\treturn expose\\n}\\n\\nvar touchInheritableObj = function(name) {\\n\\treturn priv(this)[name] || (priv(this)[name] = buildInheritableObj.call(this,name))\\n}\\nvar buildInheritableObj = function(name){\\n\\tlet serz = []\\n\\tlet prot = this\\n\\tdo{\\n\\t\\tlet attributes = prot[name]\\n\\t\\tif(attributes){\\n\\t\\t\\tif(Array.isArray(attributes)) {\\n\\t\\t\\t\\tlet map = {}\\n\\t\\t\\t\\tattributes.forEach(a => map[a] = undefined)\\n\\t\\t\\t\\tattributes = map\\n\\t\\t\\t}\\n\\t\\t\\tserz.push(attributes)\\n\\t\\t}\\n\\t\\tprot = Object.getPrototypeOf(prot)\\n\\t}while(prot && prot !== ComponentBase)\\n\\n\\tserz.reverse()\\n\\n\\tif(!serz.length)\\n\\t\\treturn {}\\n\\n\\treturn Object.assign.apply(null,serz)\\n}\\nvar initStaticEventHandler = function(){\\n\\tlet hCode = this.getAttribute(\\\"handlers\\\")\\n\\tif(hCode){\\n\\t\\ttry{\\n\\t\\t\\tlet h = new EventHandler(this)\\n\\n\\t\\t\\t_(this).handler = h\\n\\n\\t\\t\\th.setCode(hCode)\\n\\n\\t\\t}catch(e){\\n\\t\\t\\tconsole.error(\\\"Failed to parse static event handler, cause : \\\")\\n\\t\\t\\tconsole.error(e)\\n\\n\\t\\t\\tif(_(this).handler){\\n\\t\\t\\t\\t_(this).handler.destroy()\\n\\t\\t\\t\\t_(this).handler = null\\n\\t\\t\\t}\\n\\t\\t\\t\\n\\t\\t}\\n\\t\\t\\n\\t}\\n\\n}\\n\\nvar appendTemplate = function(){\\n\\tlet {template} = priv(this.constructor)\\n\\n\\tif(template){\\n\\t\\t\\n\\t\\tthis.shadow.innerHTML += template(this)\\n\\t}\\n}\\nvar appendStyles = function(){\\n\\tconst {shadowStyles} = priv(this.constructor)\\n\\tif(shadowStyles){\\n\\t\\tfor(let key in shadowStyles) {\\n\\t\\t\\tsetStyle.call(this,shadowStyles[key](this),key !== \\\"\\\", key)\\n\\t\\t\\t\\n\\t\\t}\\n\\t}\\n}\\n\\nconst clearStyles = function(id) {\\n\\tvar rmSelector = id ? `#cb-style-${id}` : `link[type=\\\"text/css\\\"],style`\\n\\tlet toRemove = this.shadow.querySelectorAll(rmSelector)\\n\\n\\tfor(var r of toRemove){\\n\\t\\tr.remove()\\n\\t}\\n}\\n\\nconst setStyle = function setStyle(styleStr,useID,id){\\n\\t\\tlet isFileRef = styleStr.match(/^\\\\.?\\\\//g)\\n\\t\\tvar styleElem\\n\\n\\t\\t\\n\\t\\tvar rmSelector = useID ? `#cb-style-${id}` : `link[type=\\\"text/css\\\"],style`\\n\\t\\tlet toRemove = this.shadow.querySelectorAll(rmSelector)\\n\\n\\t\\tfor(var r of toRemove){\\n\\t\\t\\tr.remove()\\n\\t\\t}\\n\\n\\t\\tif(!styleStr){\\n\\t\\t\\treturn\\n\\t\\t}\\n\\n\\t\\tif(isFileRef){\\n\\t\\t\\tstyleElem = document.createElement('link');\\n\\t\\t\\tstyleElem.setAttribute(\\\"rel\\\",\\\"stylesheet\\\")\\n\\t\\t\\tstyleElem.setAttribute(\\\"type\\\",\\\"text/css\\\")\\n\\n\\t\\t\\t// Set the href in a timeout so that calling method may listen to\\n\\t\\t\\t// event of style sheet of set additional parameter before the  load\\n\\t\\t\\t// start\\n\\t\\t\\tsetTimeout(()=> styleElem.setAttribute(\\\"href\\\",styleStr), 0);\\n\\t\\t\\t\\n\\t\\t}\\n\\t\\telse{\\n\\t\\t\\tstyleElem = document.createElement('style');\\n\\t\\t\\tstyleElem.innerHTML = styleStr.replace(/\\\\s+/g,\\\" \\\")\\n\\t\\t}\\n\\t\\t\\n\\t\\tif(useID)\\n\\t\\t\\tstyleElem.id = `cb-style-${id}`\\n\\n\\t\\tthis.shadow.appendChild(styleElem)\\n\\n\\t\\treturn styleElem\\n\\t}\\n// ****************************************************************************\\n// *                              Static Private                              *\\n// ****************************************************************************\\n\\nvar addStaticTemplate = function(slices, args) {\\n\\n\\tlet template = priv(this).template\\n\\t\\n\\tif(template)\\n\\t\\treturn template\\n\\t\\n\\t\\n\\ttemplate =  parseTemplate(slices, args)\\n\\tpriv(this).template = template\\n\\n}\\n\\nconst addStaticCss = function(name,cssSlices, args) {\\n\\tlet shadowStyles = priv(this).shadowStyles\\n\\tif(!shadowStyles) {\\n\\t\\tshadowStyles = {}\\n\\t\\tpriv(this).shadowStyles = shadowStyles\\n\\t}\\n\\n\\tif(name in shadowStyles){\\n\\t\\tthrow new Error(\\\"Class \\\"+this.name+\\\" already have a static style \\\"+name)\\n\\t}\\n\\tshadowStyles[name] = parseTemplate(cssSlices, args)\\n\\t\\n}\\n\\nvar makeUID = function (){\\n\\tlet n = this.constructor.name\\n\\tlet d = Date.now().toString(16)\\n\\tlet r = (Math.round(Math.random()*1e16)).toString(16)\\n\\n\\treturn `${n}-${d}-${r}`\\n\\n}\\n\\n\\n\\n\\n\\n\\nconst checkHTMLLines = function(lines) {\\n\\tif(lines.length > 1) {\\n\\t\\tthrow new Error(\\\"The html template string do not allows parameters\\\")\\n\\t}\\n\\n\\n}\\n\\nconst parseTemplate = function(slices,values) {\\n\\tconst evalv = (index,instance) => \\n\\t\\tindex >= values.length\\n\\t\\t? \\\"\\\"\\n\\t\\t: typeof values[index] === \\\"function\\\" \\n\\t\\t\\t? values[index](instance)\\n\\t\\t\\t: String(values[index])\\n\\treturn instance => {\\n\\t\\treturn slices.map((s,i) => s+evalv(i,instance)).join(\\\"\\\")\\n\\t} \\n}\\n\\n // Private values. Weakmap key and value can be GCed if they are not stored anywhere else.\\n{\\n\\tlet map = new WeakMap()\\n\\n\\tvar priv = function(key) {\\n\\t\\tlet v = map.get(key)\\n\\t\\tif(!v) {\\n\\t\\t\\tv = {}\\n\\t\\t\\tmap.set(key,v)\\n\\t\\t}\\n\\t\\treturn v\\n\\t}\\n\\n\\tvar _ = function(key) {\\n\\t\\treturn map.get(key)\\n\\t}\\n}\\n\\nexport default ComponentBase\\n\",\"/**\\n * @classdesc\\n * \\n * Base class to wrap the interfaces provided by a few map solution in a common interface.\\n * \\n * Mostly exist as support for documentation \\n *\\n * @class MapAdapter \\n * \\n */\\nclass MapAdapter {\\n\\n\\t\\n\\tconstructor(mapComponent){\\n\\n\\t}\\n\\n\\t/**\\n\\t * Sets the center center of the view port.\\n\\t *\\n\\t * @param      {MapAdapter~LatLng}  latLngCenter  The coordinate of the center \\n\\t * \\n\\t * @abstract\\n\\t */\\n\\tsetCenter(latLngCenter) {\\n\\t\\tnoImpl(this,\\\"setCenter\\\")\\n\\t}\\n\\n\\t/**\\n\\t * Return the coordinate of the point at the center of the map.\\n\\t *\\n\\t * \\n\\t * @abstract\\n\\t * \\n\\t * @return {MapAdapter~LatLng} The coordinate of the point at the center of the map.\\n\\t */\\n\\tgetCenter() {\\n\\t\\tnoImpl(this,\\\"getCenter\\\")\\n\\t}\\n\\n\\t/**\\n\\t * Sets the zoom on the map\\n\\t * @abstract\\n\\t * @param      {number}  z       The amount of zoom of the map, should be approximately as [open street map zoom levels](https://wiki.openstreetmap.org/wiki/Zoom_levels) \\n\\t */\\n\\tsetZoom(z) {\\n\\t\\tnoImpl(this,\\\"setZoom\\\")\\n\\t}\\n\\n\\t/**\\n\\t * Gets the zoom.\\n\\t * @abstract\\n\\t * @return {number} The zoom\\n\\t */\\n\\tgetZoom(){\\n\\t\\tnoImpl(this,\\\"getZoom\\\")\\n\\t}\\n\\n\\t/**\\n\\t * \\n\\t * @typedef {string} MapAdapter~StandardEventType\\n\\t * \\n\\t * A standardized way to designate event across library. Can take the following values\\n\\t * \\n\\t * #### map_drag\\n\\t * Event fired when the map center position is changed by user interaction (and not programmaticaly) through mean provided by the library, \\n\\t * such as by dragging the map. \\n\\t * \\n\\t * This event should **not** be fired when the map center is modified through setCenter of the adapter.\\n\\t * \\n\\t * #### map_dragend\\n\\t * Event fired when the map center position have changed by user through mean provided by the library,\\n\\t * but that the user action causing this change have stopped.\\n\\t * \\n\\t * This event should **not** be fired when the map center is modified through setCenter of the adapter.\\n\\t * \\n\\t * #### map_dragstart\\n\\t * Event fired when the user start interacting with the map in way that change the center position.\\n\\t * \\n\\t * This event should **not** be fired when the map center is modified through setCenter of the adapter.\\n\\t * \\n\\t * #### map_idle\\n\\t * \\n\\t * This event is fired when the map becomes idle after panning or zooming.\\n\\t * \\n\\t * #### map_user_zoom\\n\\t * \\n\\t * The user changed the zoom  by user interaction (and not programmaticaly) through mean provided by the library, \\n\\t * such as by dragging the map\\n\\t */\\n\\n\\n\\t/**\\n\\t * Bind a event listener to the equivalent of the standard event type in the\\n\\t * map. This method is called to create bridge between inner event and outer\\n\\t * event. When implementing this method, developer can assume that this\\n\\t * method is called at most once for any given eventStandardName since the\\n\\t * creation of the object or since the last call to removeMapEvent with the\\n\\t * same eventStandardName. (ie. with this method, anevent will be bound to a\\n\\t * unique callback)\\n\\t *\\n\\t * @param      {MapAdapter~StandardEventType}  eventStandardName  The event standard name\\n\\t * @param      {Function(Event)}               callback           The\\n\\t *                                                                callback\\n\\t *                                                                handling\\n\\t *                                                                the event.\\n\\t *                                                                Expect\\n\\t *                                                                either a\\n\\t *                                                                [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent)\\n\\t *                                                                or a\\n\\t *                                                                standard\\n\\t *                                                                dom event.\\n\\t *\\n\\t * @abstract\\n\\t */\\n\\taddMapEvent(eventStandardName,callback) {\\n\\t\\tnoImpl(this,\\\"addMapEvent\\\")\\n\\t}\\n\\n\\t/**\\n\\t * Removes a map event.\\n\\t *\\n\\t * @param      {MapAdapter~StandardEventType}  eventStandardName  The event\\n\\t *                                                                standard\\n\\t *                                                                name under\\n\\t *                                                                which the\\n\\t *                                                                callback\\n\\t *                                                                was\\n\\t *                                                                registered.\\n\\t * @param      {Function}                      callback           The\\n\\t *                                                                function\\n\\t *                                                                to remove\\n\\t *\\n\\t * @abstract\\n\\t */\\n\\tremoveMapEvent(eventStandardName,callback) {\\n\\t\\tnoImpl(this,\\\"addMapEvent\\\")\\n\\t}\\n\\n\\t/**\\n\\t * Convert the coordinate of a point in the world to pixel coordinate inside\\n\\t * the MapComponent. Can also specify a reference location and a zoom do do the transformation.\\n\\t * If omitted use the one of the map.\\n\\t *\\n\\t * @abstract\\n\\t *\\n\\t * @param      {MapComponent~LatLng}  latLng  The location in world space.\\n\\t * @param      {MapComponent~LatLng}  [center]  The reference location of the map.\\n\\t *                                              Use the current location of the map\\n\\t *                                              if omitted.\\n\\t * @param      {number}               [zoom]    The reference zoom of the map.  Use\\n\\t *                                              the current zoom of the map if\\n\\t *                                              omitted.\\n\\t */\\n\\tlatLngToComponentPx(latLng){\\n\\t\\tnoImpl(this,\\\"latLngToComponentPx\\\")\\n\\t}\\n\\n\\t/**\\n\\t * Convert the coordinate of a point on the screen inside the MapComponent to a location in the world.\\n\\t * \\n\\t *\\n\\t * @param      {MapComponent~PxCoord}  px    The location in screen space.\\n\\t * \\n\\t * @return {MapComponent~LatLng}  \\n\\t */\\n\\tcomponentPxToLatLng(px){\\n\\t\\tnoImpl(this,\\\"latLngToComponentPx\\\")\\n\\t}\\n\\n\\t/**\\n\\t * The object representing the map in the logic of the adapted library.\\n\\t * \\n\\t * @type {*}\\n\\t */\\n\\tget mapObject(){\\n\\t\\tnoImpl(this,\\\"get mapObject\\\")\\n\\t}\\n}\\n\\nvar noImpl = function(base,meth) {\\n\\tthrow new Error(\\\"No implementation of method \\\"+meth+\\\" in adapter class \\\"+base.constructor.name)\\n}\\n\\n\\n\\nexport default MapAdapter\",\"import MapAdapter from \\\"./MapAdapter.js\\\"\\n\\n/**\\n * @module GoogleMapAdapter\\n * \\n * @desc\\n * A map adapter allowing the map component to display a map powered by Google's API\\n * \\n * Implements the MapComponent~AddapterAddon interface. \\n * As one of the default adapter of the MapComponent, there is no need to declare it in the add-ons.\\n * \\n * Use it by setting the attribute poweredby to \\\"google\\\" on the map-component.\\n * \\n * This adapter also check the following html attributes on the map-component at initializations:\\n * \\n *  - **api-key** : This attibute is mandatory. It is used as key to load google api. \\n *  - **language** : Optional, if specified will load the api in this language.\\n * \\n * Changing the value of those attribute once google map API have been loaded have no effect.\\n * \\n * #### Example\\n * ```html\\n * <map-component poweredby=\\\"google\\\" api-key=\\\"ASnlnzapdpazPJDDZ65\\\" language=\\\"fr\\\" ... ></map-component>\\n * ``` \\n * @implements {MapComponent~AddapterAddon}\\n */\\n\\n/**\\n * \\n * @override\\n */\\nexport function createAdapter (mapComponent,featureModules){\\n\\treturn new GoogleAdapter(mapComponent)\\n}\\n/**\\n * \\n * @override\\n */\\nexport async function createMap(adapter,mapComponent,featureModules){\\n\\t\\n\\tlet key = mapComponent.getAttribute(\\\"api-key\\\")\\n\\tif(!key)\\n\\t\\tthrow new Error(\\\"The component \\\"+mapComponent.tagName+\\\" should have an attribute api-key containing the google's API key in order to work with google map.\\\")\\n\\t\\n\\n\\tawait loadAPI(mapComponent,key)\\n\\n\\n\\tlet mapDiv = document.createElement(\\\"div\\\")\\n\\tmapDiv.id = \\\"mapContainer\\\"\\n\\n\\tmapComponent.shadowRoot.append(mapDiv)\\n\\n\\tlet map = initMap(mapComponent,mapDiv)\\n\\n\\t// Need to wait the projection to be ready and usable.\\n\\tlet projectionReady = new Promise(res => \\n\\t\\tgoogle.maps.event.addListenerOnce(map, 'projection_changed', res)\\n\\t)\\n\\n\\tawait projectionReady\\n\\n\\t_(adapter).map = map\\n\\n\\treturn map\\n\\n\\t\\n}\\n/**\\n * \\n * @override\\n * @type {string}\\n */\\nexport const enabling = \\\"google\\\"\\n\\n\\n// ****************************************************************************\\n// *                                  Adapter                                 *\\n// ****************************************************************************\\n\\n/**\\n * An adapter class providing a facade for the most basic feature of the google map API.\\n *\\n * @class      GoogleAdapter\\n * @implements {MapAdapter}\\n */\\nclass GoogleAdapter extends MapAdapter {\\n\\n\\tconstructor(mapComponent) {\\n\\t\\t\\n\\t\\tsuper()\\n\\n\\t\\tpriv(this)\\n\\t\\t_(this).eventHandles = new WeakMap()\\n\\t\\t_(this).mapComponent = mapComponent\\n\\t}\\n\\n\\n\\t/**\\n\\t * @override\\n\\t */\\n\\tsetCenter(latLngCenter,olds) {\\n\\n\\t\\tlet latLng = toLatLng(latLngCenter)\\n\\t\\t\\n\\t\\tlet toNan = isNaN(latLngCenter.latitude+latLngCenter.longitude)\\n\\t\\tlet fromNan = isNaN(olds.latitude+olds.longitude)\\n\\n\\t\\t// We cannot want to go to NaN.\\n\\t\\tif(toNan)\\n\\t\\t\\treturn\\n\\t\\t\\n\\t\\t// Panning from NaN take a really long time to Google map.\\n\\t\\tif(isNaN(fromNan))\\n\\t\\t\\t_(this).map.setCenter(latLng)\\n\\t\\telse\\n\\t\\t\\t_(this).map.panTo(latLng)\\n\\t}\\n\\n\\t/**\\n\\t * @override\\n\\t */\\n\\tgetCenter(){\\n\\t\\tlet c = _(this).map.getCenter()\\n\\t\\treturn {latitude : c.lat(), longitude : c.lng()}\\n\\t}\\n\\n\\t/**\\n\\t * @override\\n\\t */\\n\\tsetZoom(z) {\\n\\t\\t_(this).notUserZoom = true\\n\\t\\t_(this).map.setZoom(z)\\n\\t\\t_(this).notUserZoom = false\\n\\t}\\n\\n\\t/**\\n\\t * @override\\n\\t */\\n\\tgetZoom(){\\n\\t\\treturn _(this).map.getZoom()\\n\\t}\\n\\n\\t/**\\n\\t * @override\\n\\t */\\n\\taddMapEvent(eventStandardName,callback) {\\n\\t\\tlet eventGoogleName = eventTranslation[eventStandardName]\\n\\t\\tif(eventStandardName === \\\"map_user_zoom\\\"){\\n\\t\\t\\tlet baseCB = callback\\n\\t\\t\\tlet that = this\\n\\t\\t\\t\\n\\t\\t\\tcallback = function(evt){\\n\\t\\t\\t\\tif(!_(that).notUserZoom)\\n\\t\\t\\t\\t\\tbaseCB.call(this,evt)\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\tlet handle = _(this).map.addListener(eventGoogleName,callback)\\n\\t\\t_(this).eventHandles.set(callback,handle)\\n\\t}\\n\\n\\t/**\\n\\t * @override\\n\\t */\\n\\tremoveMapEvent(eventStandardName,callback) {\\n\\t\\tlet handle = _(this).eventHandles.get(callback)\\n\\t\\t\\n\\t\\tgoogle.maps.event.removeListener(handle)\\n\\t}\\n\\n\\t/**\\n\\t * @override\\n\\t */\\n\\tlatLngToComponentPx(latLng,opt_centerref,opt_zoomref){\\n\\n\\t\\tlet position = toLatLng(latLng)\\n\\n\\t\\tlet zoom = arguments.length > 2 ? opt_zoomref : _(this).map.getZoom()\\n\\t\\tvar scale = 2 ** zoom;\\n\\t\\tvar proj = _(this).map.getProjection();\\n\\t\\tvar bounds = _(this).map.getBounds();\\n\\n\\t\\tvar ref = proj.fromLatLngToPoint(\\n\\t\\t\\targuments.length > 1 ?\\n\\t\\t\\t\\n\\t\\t\\t\\ttoLatLng(opt_centerref) :\\n\\n\\t\\t\\t\\tnew google.maps.LatLng(\\n\\t\\t\\t\\t\\tbounds.getNorthEast().lat(),\\n\\t\\t\\t\\t\\tbounds.getSouthWest().lng()\\n\\t\\t\\t\\t)\\n\\t\\t)\\n\\n\\n\\t\\tvar point = proj.fromLatLngToPoint(position);\\n\\n\\t\\tlet x = (point.x - ref.x) * scale\\n\\t\\tlet y = (point.y - ref.y) * scale\\n\\n\\t\\tif(arguments.length > 1 ){\\n\\t\\t\\tlet box = _(this).mapComponent.getBox()\\n\\t\\t\\tx += box.width / 2\\n\\t\\t\\ty += box.height / 2\\n\\t\\t}\\n\\t\\treturn new google.maps.Point(\\n\\t\\t\\tMath.floor(x),\\n\\t\\t\\tMath.floor(y)\\n\\t\\t);\\n\\t}\\n\\n\\t/**\\n\\t * @override\\n\\t */\\n\\tcomponentPxToLatLng(px){\\n\\t\\tvar scale = Math.pow(2, _(this).map.getZoom());\\n\\t\\tvar proj = _(this).map.getProjection();\\n\\t\\tvar bounds = _(this).map.getBounds();\\n\\n\\t\\tvar nw = proj.fromLatLngToPoint(\\n\\t\\tnew google.maps.LatLng(\\n\\t\\t  bounds.getNorthEast().lat(),\\n\\t\\t  bounds.getSouthWest().lng()\\n\\t\\t));\\n\\t\\tvar point = new google.maps.Point();\\n\\n\\t\\tpoint.x = px.x / scale + nw.x;\\n\\t\\tpoint.y = px.y / scale + nw.y;\\n\\n\\t\\tlet latLng =  proj.fromPointToLatLng(point);\\n\\n\\t\\treturn {latitude : latLng.lat(),longitude:latLng.lng()}\\n\\t}\\n\\n\\t/**\\n\\t * @override\\n\\t * \\n\\t * @type {external:google.maps.Map}\\n\\t */\\n\\tget mapObject(){\\n\\t\\treturn _(this).map\\n\\t}\\n} \\n\\n// ****************************************************************************\\n// *                              Class Privates                              *\\n// ****************************************************************************\\nconst  eventTranslation = {\\n\\n\\t\\\"map_drag\\\" : \\\"drag\\\",\\n\\t\\\"map_dragend\\\" : \\\"dragend\\\",\\n\\t\\\"map_dragstart\\\" : \\\"dragstart\\\",\\n\\t\\\"map_idle\\\" : \\\"idle\\\",\\n\\t\\\"map_zoom\\\" : \\\"zoom_changed\\\",\\n\\t\\\"map_user_zoom\\\" : \\\"zoom_changed\\\"\\n}\\n\\n\\n// ****************************************************************************\\n// *                              Module Privates                             *\\n// ****************************************************************************\\n\\n\\nconst apiUrlWithoutKey = \\\"https://maps.googleapis.com/maps/api/js?key=\\\"\\n\\nvar loadAPI = async function(mapComponent,key){\\n\\n\\tlet lib = document.createElement(\\\"script\\\")\\n\\tlib.setAttribute(\\\"type\\\",\\\"text/javascript\\\")\\n\\tlib.setAttribute(\\\"async\\\",\\\"true\\\")\\n\\n\\tlet callBackName = randomFunctionName ()\\n\\n\\tlet done = new Promise(res => window[callBackName] = res)\\n\\tlet lang = mapComponent.lang\\n\\t\\n\\tlet url = apiUrlWithoutKey+key+\\\"&callback=\\\"+callBackName\\n\\t\\n\\tif(lang)\\n\\t\\turl+= \\\"&language=\\\"+lang\\n\\n\\tlib.setAttribute(\\\"src\\\",url)\\n\\n\\tmapComponent.shadowRoot.append(lib)\\n\\n\\tawait done\\n\\n\\tdelete window[callBackName]\\n}  \\n\\nvar initMap = function(component,div){\\n\\t\\n\\tlet options = {\\n        fullscreenControl: false,\\n        zoom: isNaN(component.zoom) ? 14 : component.zoom ,\\n        center: toLatLng(component.location),\\n        mapTypeId: google.maps.MapTypeId.ROADMAP\\n    }\\n\\n\\treturn new google.maps.Map(div, options)\\n}\\n\\nvar toLatLng = function(componentLocation) {\\n\\t\\n\\tlet {latitude, longitude} = componentLocation\\n\\n\\treturn new google.maps.LatLng(+latitude, +longitude)\\n}\\n\\nfunction randomFunctionName (){\\n\\t// Prepend F to be sure that we don't start with a number.\\n\\treturn  \\\"F\\\"+Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15)\\n}\\n\\n\\n\\n\\n// Private values. WeakMap key and value can be GCed if they are not stored anywhere else.\\n// Acces any private field using _(this).anyOfyourPrivateField\\n{\\n\\tlet map = new WeakMap()\\n\\n\\tvar priv = function(key) {\\n\\t\\tmap.set(key,{})\\n\\t}\\n\\n\\tvar _ = function(key) {\\n\\t\\treturn map.get(key)\\n\\t}\\n}\",\"import TimedSwitch from \\\"./TimedSwitch.js\\\"\\n\\n/**\\n * @module LeafletAdapter\\n *\\n * A map adapter using Leaflet and by default openstreetmap tiles to render a map.\\n */\\n\\n/**\\n * \\n * @override\\n */\\nexport function createAdapter (mapComponent,featureModules){\\n\\treturn new LeafletAdapter(mapComponent)\\n}\\n\\n/**\\n * @override\\n */\\nexport async function createMap(adapter,mapComponent,featureModules) {\\n\\n\\tawait loadStyle(mapComponent)\\n\\n\\tawait loadLib(mapComponent)\\n\\t\\n\\tlet mapDiv = document.createElement(\\\"div\\\")\\n\\tmapDiv.id = \\\"mapContainer\\\"\\n\\tmapComponent.shadowRoot.append(mapDiv)\\n\\n\\treturn initMap(mapDiv,adapter,mapComponent)\\n\\t\\n}\\n\\n/**\\n * \\n * @override\\n * @type {string}\\n */\\nexport const enabling = \\\"leaflet\\\"\\n\\nclass LeafletAdapter {\\n\\tconstructor(mapComponent){\\n\\t\\tpriv(this)\\n\\t\\t_(this).mapComponent = mapComponent\\n\\t\\t_(this).handlers = {}\\n\\n\\n\\t}\\n\\n\\t/**\\n\\t * @override\\n\\t */\\n\\tsetCenter(latLngCenter,olds) {\\n\\t\\tlet toNan = isNaN(latLngCenter.latitude+latLngCenter.longitude)\\n\\t\\tlet fromNan = !olds || isNaN(olds.latitude+olds.longitude)\\n\\n\\t\\t// We cannot want to go to NaN.\\n\\t\\tif(toNan)\\n\\t\\t\\treturn\\n\\t\\t\\n\\t\\tlet latLng = toLatLng(latLngCenter)\\n\\n\\t\\t_(this).canBeUser = false \\n\\t\\t\\n\\n\\t\\tlet opt = fromNan ? {noMoveStart:true} : {animate:true,noMoveStart:true}\\n\\t\\t_(this).map.panTo(latLng,opt)\\n\\t\\t\\n\\t\\n\\t\\t\\n\\t}\\n\\n\\t/**\\n\\t * @override\\n\\t */\\n\\tgetCenter(){\\n\\t\\tlet c = _(this).map.getCenter()\\n\\n\\t\\treturn {latitude:c.lat, longitude: c.lng}\\n\\t}\\n\\n\\t/**\\n\\t * @override\\n\\t */\\n\\tsetZoom(z) {\\n\\t\\t_(this).canBeUser = false \\n\\t\\t_(this).isAutoZoom = true \\n\\t\\t_(this).map.setZoom(z,{noMoveStart:true})\\n\\t}\\n\\n\\t/**\\n\\t * @override\\n\\t */\\n\\tgetZoom(){\\n\\t\\treturn _(this).map.getZoom()\\n\\t}\\n\\n\\t/**\\n\\t * @override\\n\\t */\\n\\taddMapEvent(eventStandardName,callback) {\\n\\t\\t\\n\\t\\tlet that = this\\n\\n\\t\\tlet handler = userEvent.has(eventStandardName) ? \\n\\t\\t\\tfunction(evt){\\n\\t\\t\\t\\tif(_(that).canBeUser && !(_(that).isAutoZoom)){\\n\\t\\t\\t\\t\\tcallback.call(this,evt)\\n\\t\\t\\t\\t}\\n\\t\\t\\t} : \\n\\t\\t\\tcallback\\n\\n\\t\\t_(this).handlers[eventStandardName] = handler\\n\\t\\t_(this).map.on(eventTranslationTable[eventStandardName], handler)\\n\\t}\\n\\n\\t/**\\n\\t * @override\\n\\t */\\n\\tremoveMapEvent(eventStandardName,callback) {\\n\\t\\tlet leafletName = eventTranslationTable[eventStandardName]\\n\\t\\tlet handler = _(this).handlers[eventStandardName] \\n\\t\\t_(this).map.off(leafletName, handler)\\n\\t\\tdelete _(this).handlers[eventStandardName] \\n\\t}\\n\\n\\t/**\\n\\t * @override\\n\\t */\\n\\tlatLngToComponentPx(latLng,opt_centerref,opt_zoomref){\\n\\t\\tlet latlng = toLatLng(latLng)\\n\\n\\t\\tlet map = _(this).map\\n\\n\\t\\tif(arguments.length === 1){\\n\\t\\t\\treturn map.latLngToContainerPoint(latlng)\\n\\t\\t}\\n\\n\\t\\tlet zoom = arguments.length > 2 ? opt_zoomref : this.getZoom()\\n\\t\\n\\t\\tvar bounds = _(this).map.getBounds();\\n\\n\\t\\tvar ref = map.project(\\n\\t\\t\\targuments.length > 1 ?\\n\\t\\t\\t\\n\\t\\t\\t\\ttoLatLng(opt_centerref) :\\n\\n\\t\\t\\t\\tL.LatLng(\\n\\t\\t\\t\\t\\tbounds.getNorth(),\\n\\t\\t\\t\\t\\tbounds.getWest()\\n\\t\\t\\t\\t)\\n\\t\\t\\t,\\n\\t\\t\\tzoom\\n\\t\\t)\\n\\n\\n\\t\\tvar point = map.project(latlng,zoom);\\n\\n\\t\\tlet x = (point.x - ref.x) \\n\\t\\tlet y = (point.y - ref.y) \\n\\t\\n\\t\\tif(arguments.length > 1 ){\\n\\t\\t\\tlet box = _(this).mapComponent.getBox()\\n\\t\\t\\tx += box.width / 2\\n\\t\\t\\ty += box.height / 2\\n\\t\\t}\\n\\t\\treturn L.Point(\\n\\t\\t\\tMath.floor(x),\\n\\t\\t\\tMath.floor(y)\\n\\t\\t);\\n\\t}\\n\\n\\t/**\\n\\t * @override\\n\\t */\\n\\tcomponentPxToLatLng(px){\\n\\t\\t\\n\\t\\tlet map = _(this).map\\n\\n\\t\\tlet {lat,lng} =  map.containerPointToLatLng(px)\\n\\t\\treturn {latitude:lat,longitude:lng}\\n\\t}\\n\\n\\t/**\\n\\t * @override\\n\\t * \\n\\t */\\n\\tget mapObject(){\\n\\t\\treturn _(this).map\\n\\t}\\n}\\n\\n// ****************************************************************************\\n// *                                 Privates                                 *\\n// ****************************************************************************\\n\\nconst eventTranslationTable = {\\n\\t\\\"map_drag\\\" : \\\"move\\\",\\n\\t\\\"map_dragend\\\" : \\\"moveend\\\",\\n\\t\\\"map_dragstart\\\" : \\\"movestart\\\",\\n\\t\\\"map_idle\\\" : \\\"load moveend viewreset zoomend\\\",\\n\\t\\\"map_zoom\\\" : \\\"zoom\\\",\\n\\t\\\"map_user_zoom\\\" : \\\"zoom\\\"\\n}\\n\\nconst userEvent = new Set([\\\"map_drag\\\" , \\\"map_dragend\\\", \\\"map_dragstart\\\",\\\"map_user_zoom\\\"])\\n\\nvar loadStyle = function(mapComponent){\\n\\tlet styleLink = mapComponent.getAttribute(\\\"leaflet-style\\\") || DEFAULT_STYLE_URL\\n\\n\\tlet style = mapComponent.setStyle(styleLink,\\\"leaflet\\\")\\n\\n\\tlet styleChecksum = mapComponent.getAttribute(\\\"style-integrity\\\") || DEFAULT_STYLE_CHECK\\n\\tstyle.setAttribute(\\\"integrity\\\",styleChecksum)\\n\\t\\n\\tstyle.setAttribute(\\\"crossorigin\\\",\\\"\\\")\\n\\n\\treturn new Promise(res => style.addEventListener(\\\"load\\\", res))\\n}\\n\\nvar loadLib = function(mapComponent){\\n\\tif(! (\\\"L\\\" in window)) {\\n\\t\\tlet script = document.createElement(\\\"script\\\")\\n\\t\\t\\n\\t\\tlet scriptChecksum = mapComponent.getAttribute(\\\"script-integrity\\\") || DEFAULT_LIB_CHECK\\n\\t\\t\\n\\t\\tscript.setAttribute(\\\"integrity\\\",scriptChecksum)\\n\\t\\tscript.setAttribute(\\\"crossorigin\\\",\\\"\\\")\\n\\n\\t\\tlet done = new Promise(res => script.addEventListener(\\\"load\\\", res))\\n\\n\\t\\tscript.src = mapComponent.getAttribute(\\\"leaflet-src\\\") || DEFAULT_LIB_URL\\n\\n\\t\\tdocument.head.append(script)\\n\\n\\t\\treturn done\\n\\t}\\n\\n\\treturn Promise.resolve()\\n}\\n\\nvar initMap = async function(mapDiv, adapter,mapComponent){\\n\\n\\tlet map = L.map(mapDiv)\\n\\n\\tlet done = new Promise(res => map.whenReady(res))\\n\\n\\tlet tileLayer = mapComponent.getAttribute(\\\"tiles-src\\\") || DEFAULT_TILE_URL\\n\\tlet attribution = mapComponent.getAttribute(\\\"tiles-attribution\\\") || tileLayer === DEFAULT_TILE_URL && DEFAULT_TILE_ATTRIBUTION\\n\\n\\tlet layer = attribution ?\\n\\t\\tL.tileLayer(tileLayer, {attribution}) : \\n\\t\\tL.tileLayer(tileLayer)\\n\\tlayer.addTo(map)\\n\\n\\t_(adapter).map = map\\n\\n\\tlet p0 = mapComponent.location\\n\\n\\t_(adapter).discardEvent = true\\n\\tmap.setView([p0.latitude, p0.longitude], mapComponent.zoom)\\n\\t_(adapter).discardEvent = false\\n\\n\\tsetupIsUserCheck.call(adapter)\\n\\t\\n\\tawait done\\n\\n\\treturn map\\n}\\nvar toLatLng = function(componentLocation) {\\n\\t\\n\\tlet {latitude, longitude} = componentLocation\\n\\n\\treturn L.latLng(+latitude, +longitude)\\n}\\n\\nvar setupIsUserCheck = function () {\\n\\tlet mapObj = this.mapObject\\n\\tmapObj.on(\\\"movestart\\\",()=>{\\n\\n\\t\\t_(this).canBeUser = true\\n\\t\\t\\n\\t})\\n\\tmapObj.on(\\\"zoomend\\\",()=>{\\n\\t\\tsetTimeout(()=>_(this).isAutoZoom = false, 100)\\n\\t\\t\\n\\t\\t\\n\\t})\\n}\\n\\nconst DEFAULT_LIB_URL = \\\"https://unpkg.com/leaflet@1.5.1/dist/leaflet.js\\\"\\nconst DEFAULT_LIB_CHECK =  \\\"sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og==\\\"\\n\\nconst DEFAULT_STYLE_URL = \\\"https://unpkg.com/leaflet@1.5.1/dist/leaflet.css\\\"\\nconst DEFAULT_STYLE_CHECK = \\\"sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==\\\"\\n\\nconst DEFAULT_TILE_URL = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\\nconst DEFAULT_TILE_ATTRIBUTION = '&copy; <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors'\\n\\n\\n\\n// Private values. WeakMap key and value can be GCed if they are not stored anywhere else.\\n// Acces any private field using _(this).anyOfyourPrivateField\\n{\\n\\tlet map = new WeakMap()\\n\\n\\tvar priv = function(key) {\\n\\t\\tmap.set(key,{})\\n\\t}\\n\\n\\tvar _ = function(key) {\\n\\t\\treturn map.get(key)\\n\\t}\\n}\",\"\\nimport ComponentsBase from \\\"/node_modules/componentBase/index.js\\\"\\n\\n/**\\n * A web component wrapper for some common map library. \\n * Can be upgraded with an addons system.\\n *\\n * #### Fires\\n *  - *addons_loaded* : The component finished loading and initializing all the add-ons and its own adapter.\\n *  \\n *  - *map_center* : The map center position was changed\\n *  \\n *  - *map_drag* :  The map center position was changed by user interaction (and not programmaticaly) through mean provided by the library, \\n\\t  such as by dragging the map\\n *  \\n *  - *map_dragend* : The map center position have changed by user through mean provided by the library,\\n * \\t  but the user action causing this change have stopped.\\n *  \\n *  - *map_dragstart* : The user start interacting with the map in way that change the center position.\\n *  \\n *  - *map_idle* : The map have become idle after panning or zooming\\n *  \\n *  - *map_zoom* : The user changed the zoom or the function setZoom is called\\n *  \\n *  - *map_user_zoom* : The user changed the zoom  by user interaction (and not programmaticaly) through mean provided by the library, \\n\\t  such as by dragging the map\\n *   \\n * @class      MapComponent\\n *\\n * @property   {MapComponent~LatLng|Object}  location   A location object.\\n *                                                      Either a literal LatLng\\n *                                                      or anything else\\n *                                                      meaningful for the\\n *                                                      adapter. Note that this\\n *                                                      object must be\\n *                                                      serializable.\\n *\\n * @property   {number}                      zoom       The amount of zoom of\\n *                                                      the map, should be\\n *                                                      approximately as [open\\n *                                                      street map zoom\\n *                                                      levels](https://wiki.openstreetmap.org/wiki/Zoom_levels)\\n *\\n * @property   {string}                      poweredby  The library actually\\n *                                                      running the map. The map\\n *                                                      must have an adapter for\\n *                                                      this library either in\\n *                                                      the default adapters or\\n *                                                      among its add-ons.\\n *                                                      Setting it through\\n *                                                      javascript will start\\n *                                                      the initialization\\n *                                                      process, including the\\n *                                                      loading of declared\\n *                                                      add-ons immediately.\\n *\\n * @property   {string[]}                    addons     A list of path to {@link\\n *                                                      MapComponent~Addon}\\n *                                                      modules to add to the\\n *                                                      map. This attribute can\\n *                                                      be set only once.\\n */\\nclass MapComponent extends ComponentsBase{\\n\\tconstructor(){\\n\\t\\tsuper()\\n\\t\\tpriv(this)\\n\\t\\t_(this).enabledAddons = []\\n\\t\\t_(this).eventBidges = []\\n\\t\\t_(this).mapReady = false\\n\\t}\\n\\n\\tconnectedCallback(){\\n\\t\\tif(!this.ready){\\n\\n\\t\\t\\tthis.addons = this.addons || []\\n\\t\\t\\tthis.zoom = isNaN(this.zoom)? 14 : this.zoom\\n\\t\\t\\tthis.location = this.location || {latitude : Math.random()*180-90, longitude : Math.random()*180-90}\\n\\n\\t\\t\\tthis.setStyle(mapBaseStyle)\\n\\t\\t\\tthis.setStyle(defaultMapContainerStyle,\\\"mapContainer\\\")\\n\\t\\t}\\n\\t\\t\\n\\t\\tsuper.connectedCallback()\\n\\t}\\n\\n\\n// ****************************************************************************\\n// *                                  Publics                                 *\\n// ****************************************************************************\\n\\t\\n\\t/**\\n\\t * True if the map and all its add-ons have been loaded and created.\\n\\t *\\n\\t * @type     {Boolean} \\n\\t */\\n\\tget mapReady() {\\n\\t\\treturn _(this).mapReady\\n\\t}\\n\\n\\tget adapter(){\\n\\t\\treturn _(this).adapter\\n\\t}\\n// ****************************************************************************\\n// *                      ComponentsBase Static Settings                      *\\n// ****************************************************************************\\n\\n\\tstatic get serialize(){\\n\\t\\treturn {\\n\\t\\t\\tlocation : \\\"map\\\",\\n\\t\\t\\tzoom : \\\"number\\\",\\n\\t\\t\\tpoweredby : \\\"string\\\",\\n\\t\\t\\taddons : \\\"array<string>\\\"\\n\\t\\t}\\n\\t}\\n\\t\\n\\tstatic get shadowMod(){\\n\\t\\treturn \\\"open\\\"\\n\\t}\\n\\n\\t\\n// ****************************************************************************\\n// *                         Attribute Change Handler                         *\\n// ****************************************************************************\\n\\n\\tonAddons(old,newadon) {\\n\\n\\t\\tif(old && old.length) {\\n\\t\\t\\tthis.setAttribute(\\\"errored\\\", \\\"true\\\")\\n\\t\\t\\tthrow new Error(\\\"Map addons can only be set once\\\")\\n\\t\\t}\\n\\n\\t}\\n\\n\\tonPoweredby(old,newpow) {\\n\\n\\t\\tif(old && old.length ) {\\n\\t\\t\\tthis.setAttribute(\\\"errored\\\", \\\"true\\\")\\n\\t\\t\\tthrow new Error(\\\"Map engine can only be set once\\\")\\n\\t\\t}\\n\\n\\t\\ttryInit.call(this)\\n\\t}\\n\\n\\tonLocation(oldL,newL) {\\n\\t\\t\\n\\n\\t\\t// Check if different as the adapter may sometime set the location itself\\n\\t\\t// In such case, its better not setting back the adapter location.\\n\\t\\tif(_(this).adapter ){\\n\\n\\t\\t\\tlet {latitude,longitude} = _(this).adapter.getCenter()\\n\\t\\t\\tif(newL.latitude !== latitude || newL.longitude !== longitude){\\n\\t\\t\\t\\t_(this).adapter.setCenter(newL,oldL)\\n\\t\\t\\t\\t\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\t\\t\\n\\t\\tthis._dispatch(\\\"map_center\\\",newL)\\n\\t}\\n\\n\\tonZoom(oldZ,newZ) {\\n\\t\\t// Check if different as the adapter may sometime set the zoom itself\\n\\t\\t// In such case, its better not setting back the adapter zoom.\\n\\t\\tif( _(this).adapter && _(this).adapter.getZoom() !== newZ){\\n\\t\\t\\t\\t_(this).adapter.setZoom(newZ,oldZ)\\n\\t\\t}\\n\\t\\t\\n\\t\\tthis._dispatch(\\\"zoom\\\",newZ)\\n\\t}\\n\\n\\tdestroy(){\\n\\t\\t_(this).eventBidges.forEach(b => {\\n\\t\\t\\t_(this).adapter.removeMapEvent(b.eventType,b)\\n\\t\\t})\\n\\t\\t_(this).eventBidges = []\\n\\t\\t_(this).enabledAddons.forEach(a => a.destroy(this[a.nameSpace]))\\n\\t\\t_(this).adapter.destroy()\\n\\t\\tsuper.destroy()\\n\\n\\t}\\n}\\n\\n\\n\\n// ****************************************************************************\\n// *                              Additional Doc                              *\\n// ****************************************************************************\\n\\n/**\\n * @typedef    {(MapComponent~AddapterAddon | MapComponent~FeatureAddon)}  MapComponent~Addon\\n *\\n * Add-on are es6 modules expanding the capability of the map component. The two\\n * kind of Add-ons are :\\n *  - {@link MapComponent~AddapterAddon} : an add on enabling this component to\\n *    use a specific map library.\\n *  - {@link MapComponent~FeatureAddon} : an add on expanding the capabilities of the\\n *    map.\\n *\\n * The MapComponent distinguish between the two kind of module by checking if\\n * they are exporting a truthy enabling property.\\n *\\n * A module exporting a truthy enabling property will be used as an\\n * AddapterAddon and any other as a FeatureAddon. A module cannot be used as\\n * both.\\n */\\n\\n\\n\\n/**\\n * @interface  MapComponent~AddapterAddon\\n *\\n * An es6 module or a name space providing methods and constant to enable the use\\n * of a map library for this component. {@link GoogleMapAdapter} is one example\\n * of such an Adapter.\\n * \\n */\\n\\t/**\\n\\t * @name MapComponent~AddapterAddon#enabling \\n\\t * \\n\\t * @desc\\n\\t *\\n\\t * A string identifying the adapter. For a given MapComponent, an Adapter\\n\\t * module will only be used if its enabling string match the poweredby\\n\\t * attribute of the component.\\n\\t * \\n\\t * @type   {string}   \\n\\t *  \\n\\t * \\n\\t * @readonly\\n\\t *\\n\\t */\\n\\t/**\\n\\t * @name       MapComponent~AddapterAddon#createAdapter\\n\\t *\\n\\t * @function  \\n\\t * @desc \\n\\t * Create a new instance of {@link MapAdapter} for the given\\n\\t * MapComponent\\n\\t *\\n\\t * @param      {MapComponent}                 mapComponent    The map\\n\\t *                                                            component\\n\\t *                                                            needing a new\\n\\t *                                                            adapter.\\n\\t *\\n\\t * @param      {MapComponent~FeatureAddon[]}  featureModules  The feature\\n\\t *                                                            add-on module\\n\\t *                                                            the the map will\\n\\t *                                                            use. At this\\n\\t *                                                            point those\\n\\t *                                                            add-on should\\n\\t *                                                            not yet be\\n\\t *                                                            installed on the\\n\\t *                                                            map.\\n\\t *                                                            \\n\\t * @return     {MapAdapter}                   A new MapAdapter\\n\\t */\\n\\t/**\\n\\t *\\n\\t * @async\\n\\t * @method      MapComponent~AddapterAddon#createMap\\n\\t * \\n\\t * \\n\\t * @description Create an object representing the map on js side in this\\n\\t *              adapter logic. Should also create an actual map UI in the\\n\\t *              shadow dom of the given map component.\\n\\t *\\n\\t * Eventual external dependencies are expected to be loaded during this\\n\\t * method call. The featureModules allow the module do decided to load some\\n\\t * additional library, or detect unsupported features.\\n\\t * \\n\\t * Map component define by default the following inner style rule : \\n\\t * \\n\\t * ```css\\n\\t * #mapContainer {\\n\\t *\\t\\tdisplay:block;\\n\\t *\\t\\theight:100%;\\n\\t *\\t\\twidth:100%;\\n\\t *\\t}\\n\\t * ```\\n\\t * \\n\\t * This rule is meant to be used by the top level element of the map solution\\n\\t *  to have proper dimension inside the map-component.\\n\\t *\\n\\t * @param       {MapComponent}                 mapComponent    The map\\n\\t *                                                             component\\n\\t *                                                             needing a new\\n\\t *                                                             adapter.\\n\\t *\\n\\t * @param       {MapAdapter}                   mapAdapter      an instance of\\n\\t *                                                             MapAdapter\\n\\t *                                                             created by\\n\\t *                                                             this same\\n\\t *                                                             module for the\\n\\t *                                                             give\\n\\t *                                                             MapComponent.\\n\\t *\\n\\t * @param       {MapComponent~FeatureAddon[]}  featureModules  The feature\\n\\t *                                                             add-on module\\n\\t *                                                             the the map\\n\\t *                                                             will use. At\\n\\t *                                                             this point\\n\\t *                                                             those add-on\\n\\t *                                                             should not yet\\n\\t *                                                             be installed\\n\\t *                                                             on the map.\\n\\t *\\n\\t * @return      {MapObject}                    Something representing the map\\n\\t *                                             on the js side in the logic of\\n\\t *                                             the adapted library.\\n\\t */\\n\\n\\n/**\\n * @interface  MapComponent~FeatureAddon\\n *\\n * An es6 module or a name space providing methods and constant to enable the use\\n * of a map library for this component. {@link GoogleMapAdapter} is one example\\n * of such an Adapter.\\n * \\n */\\n\\n\\t/**\\n\\t * @name        MapComponent~FeatureAddon#nameSpace\\n\\t * @description the name of the module, also the name of the MapComponent\\n\\t *              attribute that will bear the extension of the module. \\n\\t *              If this module is iteself an extension of an other module. \\n\\t *               \\n\\t * @type        {string}\\n\\t */\\n\\n\\t/**\\n\\t * @method     MapComponent~FeatureAddon#create\\n\\t *\\n\\t * @param      {MapAdapter}                            adapter       The map\\n\\t *                                                                   adapter\\n\\t *                                                                   used to\\n\\t *                                                                   display the\\n\\t *                                                                   map.\\n\\t * @param      {MapComponent}                          mapComponent  The\\n\\t *                                                                   MapComponent\\n\\t *                                                                   to add\\n\\t *                                                                   features\\n\\t *                                                                   to.\\n\\t * @param      {MapObject}                             mapObject     The map\\n\\t *                                                                   object\\n\\t *                                                                   returned by\\n\\t *                                                                   the\\n\\t *                                                                   MapAdapter.\\n\\t *\\n\\t * @return     {MapComponent~FeatureAddon~Extension}  an extension object that\\n\\t *                                                     will be added in the\\n\\t *                                                     attribute of the map with\\n\\t *                                                     the same name as this\\n\\t *                                                     nameSpace.\\n\\t *\\n\\t * @desc\\n\\t * Add new behaviors to a MapComponent may also return an object containing\\n\\t * methods interacting with the said map.\\n\\t */\\n\\t/**\\n\\t * @method     MapComponent~FeatureAddon#destroy\\n\\t *\\n\\t * @param      {MapComponent~FeatureAddon~Extension}  extension  The extension\\n\\t *                                                                object this\\n\\t *                                                                module created\\n\\t *                                                                for this map.\\n\\t *\\n\\t * Called when the destroy method is called. Should clear thing so that this\\n\\t * module won't prevent the map or any of its component to be garbage collected\\n\\t * or anything else created by this module and that could disturb the en of the\\n\\t * life cycle of the map.\\n\\t * \\n\\t * Calling this method may cause the FeatureAddon to not work properly anymore.\\n\\t */\\n\\n\\t/**\\n\\t * @typedef    {Object}  MapComponent~FeatureAddon~Extension\\n\\t *\\n\\t * An object containing methods and properties bound to a certain MapComponent.\\n\\t * {@link MapComponent~FeatureAddon} providing new methods to the map should use\\n\\t * such an object instead of directly adding thing in the MapMapComponent or in\\n\\t * its prototype.\\n\\t * \\n\\t */\\n\\n\\n\\n/**\\n * @typedef {object} MapComponent~LatLng\\n * \\n * An object describing a position on a sphere.\\n * \\n * @prop {number} latitude Latitude in decimal degree.\\n * @prop {number} longitude Longitude in decimal degree.\\n */\\n/**\\n * @typedef {object} MapComponent~PxCoord\\n * \\n * An object describing a position on the screen inside a MapComponent\\n * \\n * @prop {number} x Distance to the left in css pixel\\n * @prop {number} y Distance to the top in css pixel.\\n */\\n\\n// ****************************************************************************\\n// *                                 Privates                                 *\\n// ****************************************************************************\\n\\n\\nvar tryInit = async function(){\\n\\n\\n\\tif(!_(this).adapter) {\\n\\n\\t\\tlet engine = this.poweredby\\n\\t\\tlet add_ons = this.addons\\n\\n\\t\\tif(!engine)\\n\\t\\t\\treturn \\n\\n\\t\\tlet addons = await Promise.all(add_ons.map(\\n\\t\\t\\ts => \\n\\t\\t\\t\\timport(s).catch(\\n\\t\\t\\t\\t\\te=>{\\n\\t\\t\\t\\t\\t\\tconsole.error(\\\"Failed to load add-on \\\"+s+\\\", reason : \\\")\\n\\t\\t\\t\\t\\t\\tconsole.error(e)\\n\\t\\t\\t\\t\\t}\\t\\n\\t\\t\\t\\t)\\n\\t\\t))\\n\\n\\t\\tawait selectAdapter.call(this, addons, engine)\\n\\n\\t\\tlet addonsPromises = []\\n\\t\\taddons.filter(a => a && !a.enabling)\\n\\t\\t\\t.forEach(async (a) => {\\n\\t\\t\\t\\ttry{\\n\\t\\t\\t\\t\\tlet nameSpace = a.create(_(this).adapter,this,_(this).map)\\n\\n\\t\\t\\t\\t\\tif(nameSpace instanceof Promise){\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\tlet p = nameSpace.catch(e => {\\n\\t\\t\\t\\t\\t\\t\\tconsole.error(\\\"Failed to create feature add-on \\\"+a.nameSpace+\\\". Caused by :\\\" )\\n\\t\\t\\t\\t\\t\\t\\tconsole.error(e)\\n\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\taddonsPromises.push(nameSpace)\\n\\n\\t\\t\\t\\t\\t\\tnameSpace = await nameSpace\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t_(this).enabledAddons.push(a)\\n\\n\\t\\t\\t\\t\\tthis[a.nameSpace] = nameSpace\\n\\n\\t\\t\\t\\t}catch(e){\\n\\t\\t\\t\\t\\tconsole.error(e)\\n\\t\\t\\t\\t}\\n\\t\\t})\\n\\t\\t\\n\\t\\tawait Promise.all(addonsPromises)\\n\\n\\t\\tthis._dispatch(\\\"addons_loaded\\\")\\n\\t\\t_(this).mapReady = true\\n\\t}\\n}\\n\\nvar tryInitAdapterAlone = async function(engine,addons) {\\n\\n}\\n\\nvar selectAdapter = async function(addons,engineName) {\\n\\tlet adapter = addons.find(a => a.enabling === engineName)\\n\\tlet features = addons.filter(a => !a.enabling)\\n\\tif(!adapter)\\n\\t\\tadapter = defaultAdapters[engineName]\\n\\t\\n\\tif(!adapter)\\n\\t\\tthrow new Error(\\\"no default or add on adapter for map library \\\"+engineName)\\n\\t\\n\\t_(this).adapter = adapter.createAdapter(this,features)\\n\\n\\t_(this).map = await adapter.createMap(_(this).adapter, this,addons,features)\\n\\n\\tbridgedEvents.forEach(bridgeEvent.bind(this))\\n\\t\\n\\tsyncBackMapAttributes.call(this)\\n\\n}\\n\\n\\n\\nvar bridgeEvent = function(evtName) {\\n\\ttry {\\n\\t\\tlet bridge = createEventBridge.call(this,evtName)\\n\\n\\t\\t_(this).adapter.addMapEvent(evtName,createEventBridge.call(this,evtName))\\n\\n\\t\\t_(this).eventBidges.push(bridge)\\n\\t}catch(e){\\n\\t\\tconsole.error(e)\\n\\t}\\n}\\n\\nvar createEventBridge = function(name) {\\n\\tlet bridge = bridgeEventHandler.bind({eventTarget:this,eventType:name})\\n\\n\\tbridge.eventType = name\\n\\n\\treturn bridge\\n}\\n\\nvar bridgeEventHandler = function(evt) {\\n\\tlet cp = new CustomEvent(this.eventType)\\n\\t\\n\\tthis.eventTarget.dispatchEvent(cp)\\n}\\n\\nvar syncBackMapAttributes = function() {\\n\\tthis.addEventListener(\\\"map_zoom\\\",handleMapZoom)\\n\\tthis.addEventListener(\\\"map_drag\\\",handleMapDrag)\\n\\tthis.addEventListener(\\\"map_idle\\\",handleMapDrag)\\n}\\n\\nvar handleMapDrag = function (evt) {\\n\\tlet that = evt.target\\n\\tthat.location = _(that).adapter.getCenter()\\n}\\nvar handleMapZoom = function (evt) {\\n\\tlet that = evt.target\\n\\tthat.zoom = _(that).adapter.getZoom()\\n}\\n\\nconst mapBaseStyle  = `\\n\\t:host{\\n\\t\\tdisplay:block;\\n\\t}\\n`\\n\\nconst defaultMapContainerStyle = `\\n\\t\\n\\t#mapContainer{\\n\\t\\tdisplay:block;\\n\\t\\theight:100%;\\n\\t\\twidth:100%;\\n\\t}\\n\\n`\\nimport * as googleAdapter from \\\"./GoogleMapAdapter.js\\\"\\n\\nimport * as leafletAdapter from \\\"./LeafletAdapter.js\\\"\\n\\nvar defaultAdapters = {google:googleAdapter, leaflet: leafletAdapter}\\n\\nconst bridgedEvents = [\\n\\t\\\"map_drag\\\",\\n\\t\\\"map_dragend\\\",\\n\\t\\\"map_dragstart\\\",\\n\\t\\\"map_idle\\\",\\n\\t\\\"map_zoom\\\",\\n\\t\\\"map_user_zoom\\\"\\n]\\n\\n\\n\\n\\n\\n\\n// Private values. Weakmap key and value can be GCed if they are not stored anywhere else.\\n// Acces any private field using _(this).anyOfyourPrivateField\\n{\\n\\tlet map = new WeakMap()\\n\\n\\tvar priv = function(key) {\\n\\t\\tmap.set(key,{})\\n\\t}\\n\\n\\tvar _ = function(key) {\\n\\t\\treturn map.get(key)\\n\\t}\\n}\\n\\n\\nexport default MapComponent\",\"import ComponentsBase from \\\"/node_modules/componentBase/index.js\\\"\\n\\n\\n/**\\n * @abstract\\n *\\n * @class      MapElement\\n * \\n * @classdesc\\n * \\n * An abstract class that can be implemented by WebComponent contained in the map.\\n * Extending this class is not mandatory but may help.\\n */\\nclass MapElement extends ComponentsBase {\\n\\tconstructor(){\\n\\t\\tsuper()\\n\\t\\tpriv(this)\\n\\t}\\n\\n\\tconnectedCallback(){\\n\\t\\t_(this).mapComponent = findParentMap.call(this)\\n\\n\\t\\tconnectToMap.call(this,_(this).mapComponent)\\n\\n\\t\\tsuper.connectedCallback()\\n\\n\\n\\t}\\n\\n\\t/**\\n\\t * The last map component that had contained this element.\\n\\t * \\n\\t * null if this MapElement never had been added to any MapComponent\\n\\t *\\n\\t * @type     {MapComponent?} \\n\\t */\\n\\tget mapComponent (){\\n\\t\\treturn _(this).mapComponent\\n\\t}\\n\\n\\t\\n}\\n\\n/**\\n * @abstract\\n * \\n * @name MapElement#connectToMap\\n * \\n * @method     \\n *   \\n * @description Optional method, if defined will be called once, each time\\n *              the component is added to a MapComponent and that this map\\n *              component is ready and have finished to load all its add-on.\\n *\\n * @param       {MapComponent}  mapComponent  The MapComponent this element have been added to.\\n */\\n\\n/**\\n * @ignore\\n */\\nvar  findParentMap = function() {\\n\\treturn this.closest(\\\"map-component\\\"); \\n}\\n\\nvar connectToMap = function(mapComponent) {\\n\\tif(!this.connectToMap)\\n\\t\\treturn\\n\\n\\tlet elem = this\\n\\tvar onReady = function onReady(){\\n\\n\\t\\tmapComponent.removeEventListener(\\\"addons_loaded\\\", onReady)\\n\\t\\telem.connectToMap(mapComponent)\\n\\n\\t}\\n\\tif(mapComponent.mapReady){\\n\\t\\tonReady()\\n\\t}\\n\\telse\\n\\t\\tmapComponent.addEventListener(\\\"addons_loaded\\\", onReady)\\n}\\n\\n\\nexport {MapElement}\\n\\n// Private values. Weakmap key and value can be GCed if they are not stored anywhere else.\\n// Acces any private field using _(this).anyOfyourPrivateField\\n{\\n\\tlet map = new WeakMap()\\n\\n\\tvar priv = function(key) {\\n\\t\\tmap.set(key,{})\\n\\t}\\n\\n\\tvar _ = function(key) {\\n\\t\\treturn map.get(key)\\n\\t}\\n}\\n\",\"\\n\\timport MapComponent from \\\"./src/MapComponent.js\\\"\\n\\n\\tcustomElements.define(\\\"map-component\\\", MapComponent);\\n\\n\\texport {MapElement} from \\\"./src/MapElement.js\\\"\"]}","code":"!function(t){var e={};function n(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)n.d(s,r,function(e){return t[e]}.bind(null,r));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=2)}([function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error(\"Cannot find module '\"+t+\"'\");throw e.code=\"MODULE_NOT_FOUND\",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=0},function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error(\"Cannot find module '\"+t+\"'\");throw e.code=\"MODULE_NOT_FOUND\",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=1},function(t,e,n){\"use strict\";n.r(e);var s={};n.r(s),n.d(s,\"string\",function(){return Y}),n.d(s,\"number\",function(){return X}),n.d(s,\"int\",function(){return et}),n.d(s,\"boolean\",function(){return tt}),n.d(s,\"array\",function(){return nt}),n.d(s,\"set\",function(){return st}),n.d(s,\"date\",function(){return rt}),n.d(s,\"function\",function(){return ot});var r={};n.r(r),n.d(r,\"createAdapter\",function(){return zt}),n.d(r,\"createMap\",function(){return Nt}),n.d(r,\"enabling\",function(){return Bt});var o={};function i(t){if(!t)return[];if(!/^\\s*(?:'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|[^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*)\\s*(?:,\\s*(?:'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|[^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*)\\s*)*$/.test(t))return null;var e=[];return t.replace(/(?!\\s*$)\\s*(?:'([^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*)'|\"([^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*)\"|([^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*))\\s*(?:,|$)/g,function(t,n,s,r){return void 0!==n?e.push(n.replace(/\\\\'/g,\"'\")):void 0!==s?e.push(s.replace(/\\\\\"/g,'\"')):void 0!==r&&e.push(r),\"\"}),/,\\s*$/.test(t)&&e.push(\"\"),e}function a(t){return t.map(l).join(\", \")}function l(t){if(!t)return\"\";(t=t.toString()).toString().replace(/([\\\\'\"])/g,\"\\\\$1\");return t.includes(\" \")?'\"'+t+'\"':t}n.r(o),n.d(o,\"createAdapter\",function(){return Wt}),n.d(o,\"createMap\",function(){return It}),n.d(o,\"enabling\",function(){return Vt});const u={boolean:()=>({read:t=>t&&\"false\"!==t,write:t=>!!t}),number:()=>({read:t=>+t,write:t=>+t}),date:c.bind(null,t=>{let e=new Date(t);return+e?e:new Date(+t)},t=>new Date(t)),json:p,string:()=>({read:t=>t||\"\",write:t=>t||\"\"}),template:()=>{let t;return{read:function(e){return void 0===e?t:t=b(e)},write:function(e){if(\"string\"!=typeof e)throw new Error(\"template attribute are asymmetrical and can only be set to a string\");return void 0===e?t:t=b(e)},buffered:!0}},array:t=>h(f,a,t),array_csv:t=>h(i,a,t),array_lsv:t=>h(m,d,t),map:function(){return p.call(this,\"{\",\"}\")},domelement:()=>{let t,e;return{read:n=>n?(t&&n===e&&t.isConnected||(t=document.querySelector(n)),e=n,t):null,write:t=>{if(!t)return\"\";var n=\"string\"==typeof t?t:\"#\"+t.id;if(!n)throw new Error(\"Cannot link \"+t+\" to \"+(void 0).tagName+\" the provided element have no defined id.\");return e=n,n},buffered:!0}},\"\":()=>u.string()};function c(t,e){let n,s;return{read:e=>e===s?n:(s=e,n=t(e)),write:t=>(s=e(t),n=t,s||\"\"),buffered:!0}}function h(t,e,n){let s=n(),r=s.buffered,o=!!s.read,i=!!s.write;r&&(s=[]);let a=t=>e(t);if(i){let t=a;a=r?e=>(e.length!==s.length&&(s=g(s,e.length,n)),t(e.map((t,e)=>s[e].write(t)))):e=>t(e.map(t=>s.write(t)))}let l=e=>t(e);if(o){let t=l;l=r?e=>{let r=t(e);return r.length!==s.length&&(s=g(s,r.length,n)),r.map((t,e)=>s[e].read(t))}:e=>t(e).map(t=>s.read(t))}return c(l,a)}function p(t,e){return t||e?(t=t||\"\",e=e||\"\",c(n=>n?JSON.parse(t+n+e):{},n=>{if(!n)return\"\";let s=JSON.stringify(n);return s.slice(t.length,s.length-e.length)})):c(JSON.parse,JSON.stringify)}function f(t){return t?t.includes(\"\\n\")?m(t):i(t):[]}function d(t,e){return t&&t.length?(e=e||\"\",t.join(\"\\n\"+e)):\"\"}function m(t){return t?t.trim().split(/\\n\\r?\\s*/):[]}function b(t){let e,n=new Set,s=/\\${\\s*([^}]+)}/g;for(t=t.replace(/`/g,\"\");e=s.exec(t);)n.add(e[1]);let r=`let { ${Array.from(n).join(\",\")} } = arg`;return new Function(\"arg\",`${r}\\n${`return \\`${t}\\``}`)}function g(t,e,n){let s=t.slice(0,e);if(isNaN(e))throw new Error(\"Array cannot be adjusted to a length of \"+e);for(;s.length<e;)s.push(n());return s}var $=function t(e,n,s){if(!e)return null;if(\"function\"==typeof e)return e;if(\"string\"==typeof e){let{baseType:r,genericArg:o}=function(t){let e=/^\\s*([^<\\s]+)\\s*(?:<\\s*([^\\s]*)\\s*>)?\\s*$/g.exec(t);if(!e)throw new Error(\"could not parse type \"+t);return{baseType:e[1],genericArg:e[2]}}(e),i=u[r];if(!i)return;if(o)try{let r=t.bind(null,o,n,s);i=i.bind(null,r)}catch(t){throw new Error(\"Could not parse \"+e+\" : \\n\"+(t.message||t))}if(i.length>1)throw new Error(\"Missing generic \"+i.length+\" arguments for type \"+e);return i.call(n,s)}return()=>({read:e.read,write:e.wite})};function y(t){return t[0]}var v={Lexer:void 0,ParserRules:[{name:\"main\",symbols:[\"ws\",\"eventhandlers\",\"ws\"],postprocess:function(t){return t[1]}},{name:\"eventhandlers$ebnf$1\",symbols:[\"eventhanlderstail\"],postprocess:y},{name:\"eventhandlers$ebnf$1\",symbols:[],postprocess:function(t){return null}},{name:\"eventhandlers\",symbols:[\"eventhandler\",\"eventhandlers$ebnf$1\"],postprocess:function(t){return t[1]?[t[0]].concat(t[1]):[t[0]]}},{name:\"eventhanlderstail$ebnf$1$subexpression$1\",symbols:[\"sep\",\"eventhandler\"]},{name:\"eventhanlderstail$ebnf$1\",symbols:[\"eventhanlderstail$ebnf$1$subexpression$1\"]},{name:\"eventhanlderstail$ebnf$1$subexpression$2\",symbols:[\"sep\",\"eventhandler\"]},{name:\"eventhanlderstail$ebnf$1\",symbols:[\"eventhanlderstail$ebnf$1\",\"eventhanlderstail$ebnf$1$subexpression$2\"],postprocess:function(t){return t[0].concat([t[1]])}},{name:\"eventhanlderstail\",symbols:[\"eventhanlderstail$ebnf$1\"],postprocess:function(t){return t[0].map(t=>t[1])}},{name:\"eventhandler\",symbols:[\"name\",\"_\",{literal:\":\"},\"_\",\"handler\"],postprocess:function(t){return t[4].event=t[0],t[4]}},{name:\"handler$string$1\",symbols:[{literal:\"-\"},{literal:\">\"}],postprocess:function(t){return t.join(\"\")}},{name:\"handler\",symbols:[\"pointer\",\"_\",\"handler$string$1\",\"_\",\"snippet\"],postprocess:function(t){return{pointer:t[0][0],snippet:t[4][0]}}},{name:\"snippet$subexpression$1\",symbols:[\"assignsnippet\"]},{name:\"snippet$subexpression$1\",symbols:[\"callsnippet\"]},{name:\"snippet\",symbols:[\"snippet$subexpression$1\"],postprocess:function(t){return t[0]}},{name:\"assignsnippet\",symbols:[\"simplepath\",\"_\",{literal:\"=\"},\"_\",\"onearg\"],postprocess:function(t){return{type:\"assign\",path:t[0],args:t[4]}}},{name:\"callsnippet$ebnf$1\",symbols:[\"args\"],postprocess:y},{name:\"callsnippet$ebnf$1\",symbols:[],postprocess:function(t){return null}},{name:\"callsnippet\",symbols:[\"simplepath\",\"_\",{literal:\"(\"},\"_\",\"callsnippet$ebnf$1\",\"_\",{literal:\")\"}],postprocess:function(t){return{type:\"call\",path:t[0],args:t[4]||[]}}},{name:\"pointer\",symbols:[\"thisselector\"]},{name:\"pointer\",symbols:[\"windowselector\"]},{name:\"pointer\",symbols:[\"query\"]},{name:\"thisselector$ebnf$1$subexpression$1\",symbols:[\"thissubselector\"]},{name:\"thisselector$ebnf$1\",symbols:[\"thisselector$ebnf$1$subexpression$1\"],postprocess:y},{name:\"thisselector$ebnf$1\",symbols:[],postprocess:function(t){return null}},{name:\"thisselector\",symbols:[\"this\",\"thisselector$ebnf$1\"],postprocess:function(t){return{type:\"this\",query:t[1]&&t[1][0]}}},{name:\"windowselector$string$1\",symbols:[{literal:\"w\"},{literal:\"i\"},{literal:\"n\"},{literal:\"d\"},{literal:\"o\"},{literal:\"w\"}],postprocess:function(t){return t.join(\"\")}},{name:\"windowselector\",symbols:[\"windowselector$string$1\"],postprocess:function(t){return{type:\"window\"}}},{name:\"thissubselector\",symbols:[{literal:\"(\"},\"_\",\"query\",\"_\",{literal:\")\"}],postprocess:function(t){return t[2].query}},{name:\"this$string$1\",symbols:[{literal:\"t\"},{literal:\"h\"},{literal:\"i\"},{literal:\"s\"}],postprocess:function(t){return t.join(\"\")}},{name:\"this\",symbols:[\"this$string$1\"],postprocess:function(t){return{type:\"this\"}}},{name:\"query$ebnf$1\",symbols:[]},{name:\"query$ebnf$1\",symbols:[\"query$ebnf$1\",/[^>]/],postprocess:function(t){return t[0].concat([t[1]])}},{name:\"query\",symbols:[/[^\\s]/,\"query$ebnf$1\"],postprocess:function(t,e,n){var s=t[0]+t[1].join(\"\");return\"this\"===s||\"window\"===s?n:{type:\"query\",query:t[0]+t[1].join(\"\")}}},{name:\"args$ebnf$1$subexpression$1\",symbols:[\"argtail\"]},{name:\"args$ebnf$1\",symbols:[\"args$ebnf$1$subexpression$1\"],postprocess:y},{name:\"args$ebnf$1\",symbols:[],postprocess:function(t){return null}},{name:\"args\",symbols:[\"onearg\",\"_\",\"args$ebnf$1\"],postprocess:function(t){return t[2]?[t[0]].concat(t[2][0]):[t[0]]}},{name:\"argtail$ebnf$1$subexpression$1\",symbols:[{literal:\",\"},\"_\",\"onearg\"]},{name:\"argtail$ebnf$1\",symbols:[\"argtail$ebnf$1$subexpression$1\"]},{name:\"argtail$ebnf$1$subexpression$2\",symbols:[{literal:\",\"},\"_\",\"onearg\"]},{name:\"argtail$ebnf$1\",symbols:[\"argtail$ebnf$1\",\"argtail$ebnf$1$subexpression$2\"],postprocess:function(t){return t[0].concat([t[1]])}},{name:\"argtail\",symbols:[\"argtail$ebnf$1\"],postprocess:function(t){return t[0].map(t=>t[2])}},{name:\"onearg$subexpression$1\",symbols:[\"thispath\"]},{name:\"onearg$subexpression$1\",symbols:[\"pointedpath\"]},{name:\"onearg$subexpression$1\",symbols:[\"detailpath\"]},{name:\"onearg$subexpression$1\",symbols:[\"staticvalue\"]},{name:\"onearg$subexpression$1\",symbols:[\"eventpath\"]},{name:\"onearg\",symbols:[\"onearg$subexpression$1\"],postprocess:function(t){return t[0][0]}},{name:\"thispath$ebnf$1\",symbols:[\"pathtrail\"],postprocess:y},{name:\"thispath$ebnf$1\",symbols:[],postprocess:function(t){return null}},{name:\"thispath\",symbols:[\"this\",\"thispath$ebnf$1\"],postprocess:function(t){return{owner:\"this\",path:t[1]||\"\"}}},{name:\"pointedpath$string$1\",symbols:[{literal:\"p\"},{literal:\"o\"},{literal:\"i\"},{literal:\"n\"},{literal:\"t\"},{literal:\"e\"},{literal:\"d\"}],postprocess:function(t){return t.join(\"\")}},{name:\"pointedpath$ebnf$1\",symbols:[\"pathtrail\"],postprocess:y},{name:\"pointedpath$ebnf$1\",symbols:[],postprocess:function(t){return null}},{name:\"pointedpath\",symbols:[\"pointedpath$string$1\",\"pointedpath$ebnf$1\"],postprocess:function(t){return{owner:\"pointed\",path:t[1]||\"\"}}},{name:\"eventpath$string$1\",symbols:[{literal:\"e\"},{literal:\"v\"},{literal:\"e\"},{literal:\"n\"},{literal:\"t\"}],postprocess:function(t){return t.join(\"\")}},{name:\"eventpath$ebnf$1\",symbols:[\"pathtrail\"],postprocess:y},{name:\"eventpath$ebnf$1\",symbols:[],postprocess:function(t){return null}},{name:\"eventpath\",symbols:[\"eventpath$string$1\",\"eventpath$ebnf$1\"],postprocess:function(t){return{owner:\"event\",path:t[1]||\"\"}}},{name:\"detailpath$ebnf$1\",symbols:[\"pathtrail\"],postprocess:y},{name:\"detailpath$ebnf$1\",symbols:[],postprocess:function(t){return null}},{name:\"detailpath\",symbols:[\"name\",\"detailpath$ebnf$1\"],postprocess:function(t,e,n){return\"event\"===t[0]||\"this\"===t[0]?n:{owner:\"event.detail.\",path:t[0]+(t[1]||\"\")}}},{name:\"pathtrail$ebnf$1\",symbols:[]},{name:\"pathtrail$ebnf$1\",symbols:[\"pathtrail$ebnf$1\",/[^\\n\\r+\\-*^,;&|=><:\\(\\)\\{\\}]/],postprocess:function(t){return t[0].concat([t[1]])}},{name:\"pathtrail\",symbols:[/[.\\[]/,\"pathtrail$ebnf$1\"],postprocess:function(t){return t[0]+t[1].join(\"\")}},{name:\"staticvalue$subexpression$1\",symbols:[\"jsonfloat\"]},{name:\"staticvalue$subexpression$1\",symbols:[\"jsonstring\"]},{name:\"staticvalue\",symbols:[\"staticvalue$subexpression$1\"],postprocess:function(t){return{owner:\"\",path:t[0]}}},{name:\"simplepath$ebnf$1\",symbols:[\"pathtrail\"],postprocess:y},{name:\"simplepath$ebnf$1\",symbols:[],postprocess:function(t){return null}},{name:\"simplepath\",symbols:[\"name\",\"simplepath$ebnf$1\"],postprocess:function(t){return t[1]?t[0]+t[1]:t[0]}},{name:\"name$ebnf$1\",symbols:[]},{name:\"name$ebnf$1\",symbols:[\"name$ebnf$1\",/[^\\s.,;+\\-*^&|=><:\\(\\)\\[\\]\\{\\}]/],postprocess:function(t){return t[0].concat([t[1]])}},{name:\"name\",symbols:[/[a-zA-Z\\$_\\\\]/,\"name$ebnf$1\"],postprocess:function(t){return t[0]+t[1].join(\"\")}},{name:\"jsonfloat$ebnf$1\",symbols:[{literal:\"-\"}],postprocess:y},{name:\"jsonfloat$ebnf$1\",symbols:[],postprocess:function(t){return null}},{name:\"jsonfloat$ebnf$2\",symbols:[/[0-9]/]},{name:\"jsonfloat$ebnf$2\",symbols:[\"jsonfloat$ebnf$2\",/[0-9]/],postprocess:function(t){return t[0].concat([t[1]])}},{name:\"jsonfloat$ebnf$3$subexpression$1$ebnf$1\",symbols:[/[0-9]/]},{name:\"jsonfloat$ebnf$3$subexpression$1$ebnf$1\",symbols:[\"jsonfloat$ebnf$3$subexpression$1$ebnf$1\",/[0-9]/],postprocess:function(t){return t[0].concat([t[1]])}},{name:\"jsonfloat$ebnf$3$subexpression$1\",symbols:[{literal:\".\"},\"jsonfloat$ebnf$3$subexpression$1$ebnf$1\"]},{name:\"jsonfloat$ebnf$3\",symbols:[\"jsonfloat$ebnf$3$subexpression$1\"],postprocess:y},{name:\"jsonfloat$ebnf$3\",symbols:[],postprocess:function(t){return null}},{name:\"jsonfloat$ebnf$4$subexpression$1$ebnf$1\",symbols:[/[+-]/],postprocess:y},{name:\"jsonfloat$ebnf$4$subexpression$1$ebnf$1\",symbols:[],postprocess:function(t){return null}},{name:\"jsonfloat$ebnf$4$subexpression$1$ebnf$2\",symbols:[/[0-9]/]},{name:\"jsonfloat$ebnf$4$subexpression$1$ebnf$2\",symbols:[\"jsonfloat$ebnf$4$subexpression$1$ebnf$2\",/[0-9]/],postprocess:function(t){return t[0].concat([t[1]])}},{name:\"jsonfloat$ebnf$4$subexpression$1\",symbols:[/[eE]/,\"jsonfloat$ebnf$4$subexpression$1$ebnf$1\",\"jsonfloat$ebnf$4$subexpression$1$ebnf$2\"]},{name:\"jsonfloat$ebnf$4\",symbols:[\"jsonfloat$ebnf$4$subexpression$1\"],postprocess:y},{name:\"jsonfloat$ebnf$4\",symbols:[],postprocess:function(t){return null}},{name:\"jsonfloat\",symbols:[\"jsonfloat$ebnf$1\",\"jsonfloat$ebnf$2\",\"jsonfloat$ebnf$3\",\"jsonfloat$ebnf$4\"],postprocess:function(t){return parseFloat((t[0]||\"\")+t[1].join(\"\")+(t[2]?\".\"+t[2][1].join(\"\"):\"\")+(t[3]?\"e\"+(t[3][1]||\"+\")+t[3][2].join(\"\"):\"\"))}},{name:\"jsonstring$ebnf$1\",symbols:[]},{name:\"jsonstring$ebnf$1$subexpression$1\",symbols:[{literal:\"\\\\\"},/['bfnrt\\/\\\\]/]},{name:\"jsonstring$ebnf$1$subexpression$1$string$1\",symbols:[{literal:\"\\\\\"},{literal:\"u\"}],postprocess:function(t){return t.join(\"\")}},{name:\"jsonstring$ebnf$1$subexpression$1\",symbols:[\"jsonstring$ebnf$1$subexpression$1$string$1\",\"hex4\"]},{name:\"jsonstring$ebnf$1$subexpression$1\",symbols:[/[^'\\\\]/]},{name:\"jsonstring$ebnf$1\",symbols:[\"jsonstring$ebnf$1\",\"jsonstring$ebnf$1$subexpression$1\"],postprocess:function(t){return t[0].concat([t[1]])}},{name:\"jsonstring\",symbols:[{literal:\"'\"},\"jsonstring$ebnf$1\",{literal:\"'\"}],postprocess:function(t){return'\"'+t[1].join(\"\")+'\"'}},{name:\"hex4\",symbols:[\"hex1\",\"hex1\",\"hex1\",\"hex1\"],postprocess:function(t){return t.join(\"\")}},{name:\"hex1\",symbols:[/[a-fA-F0-9]/],postprocess:function(t){return t[0]}},{name:\"_$ebnf$1\",symbols:[]},{name:\"_$ebnf$1\",symbols:[\"_$ebnf$1\",/[ \\t]/],postprocess:function(t){return t[0].concat([t[1]])}},{name:\"_\",symbols:[\"_$ebnf$1\"]},{name:\"sep$ebnf$1\",symbols:[/[\\n;]/]},{name:\"sep$ebnf$1\",symbols:[\"sep$ebnf$1\",/[\\n;]/],postprocess:function(t){return t[0].concat([t[1]])}},{name:\"sep\",symbols:[\"_\",\"sep$ebnf$1\",\"_\"]},{name:\"ws$ebnf$1\",symbols:[]},{name:\"ws$ebnf$1\",symbols:[\"ws$ebnf$1\",/[\\s]/],postprocess:function(t){return t[0].concat([t[1]])}},{name:\"ws\",symbols:[\"ws$ebnf$1\"]}],ParserStart:\"main\"};function w(t,e,n){return this.id=++w.highestId,this.name=t,this.symbols=e,this.postprocess=n,this}function x(t,e,n,s){this.rule=t,this.dot=e,this.reference=n,this.data=[],this.wantedBy=s,this.isComplete=this.dot===t.symbols.length}function j(t,e){this.grammar=t,this.index=e,this.states=[],this.wants={},this.scannable=[],this.completed={}}function E(t,e){this.rules=t,this.start=e||this.rules[0].name;var n=this.byName={};this.rules.forEach(function(t){n.hasOwnProperty(t.name)||(n[t.name]=[]),n[t.name].push(t)})}function S(){this.reset(\"\")}function C(t,e,n){if(t instanceof E){var s=t;n=e}else s=E.fromCompiled(t,e);for(var r in this.grammar=s,this.options={keepHistory:!1,lexer:s.lexer||new S},n||{})this.options[r]=n[r];this.lexer=this.options.lexer,this.lexerState=void 0;var o=new j(s,0);this.table=[o];o.wants[s.start]=[],o.predict(s.start),o.process(),this.current=0}w.highestId=0,w.prototype.toString=function(t){function e(t){return t.literal?JSON.stringify(t.literal):t.type?\"%\"+t.type:t.toString()}var n=void 0===t?this.symbols.map(e).join(\" \"):this.symbols.slice(0,t).map(e).join(\" \")+\" ● \"+this.symbols.slice(t).map(e).join(\" \");return this.name+\" → \"+n},x.prototype.toString=function(){return\"{\"+this.rule.toString(this.dot)+\"}, from: \"+(this.reference||0)},x.prototype.nextState=function(t){var e=new x(this.rule,this.dot+1,this.reference,this.wantedBy);return e.left=this,e.right=t,e.isComplete&&(e.data=e.build()),e},x.prototype.build=function(){var t=[],e=this;do{t.push(e.right.data),e=e.left}while(e.left);return t.reverse(),t},x.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,C.fail))},j.prototype.process=function(t){for(var e=this.states,n=this.wants,s=this.completed,r=0;r<e.length;r++){var o=e[r];if(o.isComplete){if(o.finish(),o.data!==C.fail){for(var i=o.wantedBy,a=i.length;a--;){var l=i[a];this.complete(l,o)}if(o.reference===this.index){var u=o.rule.name;(this.completed[u]=this.completed[u]||[]).push(o)}}}else{if(\"string\"!=typeof(u=o.rule.symbols[o.dot])){this.scannable.push(o);continue}if(n[u]){if(n[u].push(o),s.hasOwnProperty(u)){var c=s[u];for(a=0;a<c.length;a++){var h=c[a];this.complete(o,h)}}}else n[u]=[o],this.predict(u)}}},j.prototype.predict=function(t){for(var e=this.grammar.byName[t]||[],n=0;n<e.length;n++){var s=e[n],r=this.wants[t],o=new x(s,0,this.index,r);this.states.push(o)}},j.prototype.complete=function(t,e){var n=t.nextState(e);this.states.push(n)},E.fromCompiled=function(t,e){var n=t.Lexer;t.ParserStart&&(e=t.ParserStart,t=t.ParserRules);var s=new E(t=t.map(function(t){return new w(t.name,t.symbols,t.postprocess)}),e);return s.lexer=n,s},S.prototype.reset=function(t,e){this.buffer=t,this.index=0,this.line=e?e.line:1,this.lastLineBreak=e?-e.col:0},S.prototype.next=function(){if(this.index<this.buffer.length){var t=this.buffer[this.index++];return\"\\n\"===t&&(this.line+=1,this.lastLineBreak=this.index),{value:t}}},S.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},S.prototype.formatError=function(t,e){var n=this.buffer;if(\"string\"==typeof n){var s=n.indexOf(\"\\n\",this.index);-1===s&&(s=n.length);var r=n.substring(this.lastLineBreak,s),o=this.index-this.lastLineBreak;return e+=\" at line \"+this.line+\" col \"+o+\":\\n\\n\",e+=\"  \"+r+\"\\n\",e+=\"  \"+Array(o).join(\" \")+\"^\"}return e+\" at index \"+(this.index-1)},C.fail={},C.prototype.feed=function(t){var e,n=this.lexer;for(n.reset(t,this.lexerState);e=n.next();){var s=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var r=this.current+1,o=new j(this.grammar,r);this.table.push(o);for(var i=void 0!==e.text?e.text:e.value,a=n.constructor===S?e.value:e,l=s.scannable,u=l.length;u--;){var c=l[u],h=c.rule.symbols[c.dot];if(h.test?h.test(a):h.type?h.type===e.type:h.literal===i){var p=c.nextState({data:a,token:e,isToken:!0,reference:r-1});o.states.push(p)}}if(o.process(),0===o.states.length){var f=this.lexer.formatError(e,\"invalid syntax\")+\"\\n\";f+=\"Unexpected \"+(e.type?e.type+\" token: \":\"\"),f+=JSON.stringify(void 0!==e.value?e.value:e)+\"\\n\";var d=new Error(f);throw d.offset=this.current,d.token=e,d}this.options.keepHistory&&(s.lexerState=n.save()),this.current++}return s&&(this.lexerState=n.save()),this.results=this.finish(),this},C.prototype.save=function(){var t=this.table[this.current];return t.lexerState=this.lexerState,t},C.prototype.restore=function(t){var e=t.index;this.current=e,this.table[e]=t,this.table.splice(e+1),this.lexerState=t.lexerState,this.results=this.finish()},C.prototype.rewind=function(t){if(!this.options.keepHistory)throw new Error(\"set option `keepHistory` to enable rewinding\");this.restore(this.table[t])},C.prototype.finish=function(){var t=[],e=this.grammar.start;return this.table[this.table.length-1].states.forEach(function(n){n.rule.name===e&&n.dot===n.rule.symbols.length&&0===n.reference&&n.data!==C.fail&&t.push(n)}),t.map(function(t){return t.data})};var _=C.bind(null,E.fromCompiled(v));const A=\"var target = event.target\";class M{constructor(t,e){this.invoke=()=>{},this.snippets=[],this.select=()=>null,this.evt=e,this.owner=t}updateSignature(t){this.signature=O(this.evt,t)}build(){let t=this.owner,e=['\"use strict\"',A].concat(this.snippets.map(k));this.invoke=new Function(\"event\",\"pointed\",e.join(\";\\n\")).bind(t)}setPointer(t){let e=this.owner,{type:n,query:s}=t;if(\"this\"===n)this.select=s?()=>e.querySelectorAll(s):()=>[e];else if(\"query\"===n)this.select=()=>document.querySelectorAll(s);else{if(\"window\"!==n)throw new Error(\"Unknown pointer type \"+n+\" (this is probably an issue withe the grammar definition) \");this.select=()=>[window]}this.updateSignature(t),this.enable()}enable(){this.callback||(this.callback=P.bind(this),this.owner.addEventListener(this.evt,this.callback))}destroy(){this.owner.removeEventListener(this.evt,this.callback)}toString(){return this.selector+\"-> \"+this.signature}}var P=function(t){let e=this.select();for(let n of e)try{this.invoke(t,n)}catch(t){console.error(t)}};M.fromString=function(t){let[e,n,s,r]=/(.+)->([^\\(]+)\\(([^\\)]*)\\)/g.exec(t);if(!e||!n||!s)throw new Error(\"could not parse \"+t+\" to a targeted event.\");return new M(n,s,r)};var k=function(t){let{type:e,path:n,args:s}=t;return\"call\"===e?`pointed.${n}(${s.map(T).join(\",\")})`:`pointed.${n}=${s.owner+s.path}`},T=function(t){let{owner:e,path:n}=t;return e+n},O=function(t,e){return t.trim()+\":\"+function(t){let{type:e,query:n}=t;return\"this\"===e?\"this\":\"query\"===e?t.query.trim().replace(/\\s+/g,\" \"):void 0}(e)},z=function(t){let{handlers:e}=Z(this);for(let n=0;n<e.length;n++){let{selector:s,methode:r,paramExtractor:o}=e[n];N.call(this,t,s,r,o)}},N=function(t,e,n,s){for(let r of this.scope.querySelectorAll(e))try{r[n].apply(r,s.call(r,t,t.detail))}catch(t){console.error(t)}};{let t=new WeakMap;var B=function(e){t.set(e,{})},Z=function(e){return t.get(e)}}var q=class{constructor(t){B(this),Z(this).onEvent=z.bind(this),Z(this).handlers=[],Z(this).owner=t,this.scope=document}clear(){let{handlers:t}=Z(this);for(let e of t)t.destroy();Z(this).handlers=[]}setCode(t){let e=new _;e.feed(t);let n=e.finish();this.setHandlers(n[0])}setHandlers(t){t.forEach(t=>this.pushHanlder(t))}pushHanlder(t){let{pointer:e,snippet:n,event:s}=t,r=O(s,e),o=Z(this).handlers,i=o.find(t=>t.signature===r);i||(i=new M(Z(this).owner,s)).setPointer(e),i.snippets.push(n),i.build(),o.push(i)}toString(){return Z(this).handlers?Z(this).handlers.join(\"; \"):\"\"}destroy(){this.clear()}};class H{constructor(t,e){let{defaults:n,externalsOwner:s,cardinality:r,externalName:o}=e;this.defaults=n,this.externalsOwner=s,this.externalName=o||\"external\"+t.charAt(0).toUpperCase()+t.slice(1),D(s,o),s[this.externalName]=new Proxy(this.externals,{set:J}),this.cardinality=r||\"one\",this.oldModuleString=\"\",this.modules=null,this.name=t}get externals(){return G(this.externalsOwner)}async update(t){if(this.updateKey=Math.random()+\"\"+Date.now(),this.oldModuleString===t)return;this.oldModuleString=t,this.modules=null;let e=t.split(R).map(t=>t.trim()).filter(t=>t);return U.call(this,e),\"one\"===this.cardinality?this.modules=await F.call(this,e[0]):this.modules=await Promise.all(e.map(F.bind(this))),this.modules}}const R=/(?:\\n\\r?|,|;)+/;var U=function(t){if(\"one\"===this.cardinality&&t.length>1)throw new Error(\"Invalid module set \"+this.name+\" : [\"+t.join()+\"], only one allowed.\")},D=function(t,e){t[e]||(t[e]=new Proxy(Q(t),{set:J}))},F=async function(t){return W(t)?await n(0)(t):I.call(this,t)?this.externals[t]:this.defaults&&t in this.defaults?this.defaults[t]:V.call(this,t)},W=function(t){return t.includes(\"/\")},I=function(t){return this.externals[t]&&\"function\"!==this.externals[t]},V=async function(t){let e,n=this.updateKey;this.externals[t]&&(e=this.externals[t].promise),e=new Promise(e=>this.externals[t]=e),this.externals[t].promise=e;let s=await e;if(n!=this.updateKey)throw new K;return s},J=function(t,e,n){if(\"function\"==typeof t[e]){let s=t[e];t[e]=n,s(n)}else{if(t[e])throw new Error(this.name+\" already have a module \"+e);t[e]=n}return!0};class K extends Error{constructor(){this.isCancelation=!0}}{let t=new WeakMap;var Q=function(e){let n=t.get(e);return n||(n={},t.set(e,n)),n},G=function(e){return t.get(e)}}let{String:Y,Number:X,Boolean:tt}=window;function et(t){return Math.floor(t)}function nt(t){return Array.from(t)}function st(t){return new Set(...t)}function rt(t){return new Date(t)}function ot(t){if(\"function\"!=typeof t)throw new Error(\"A function was expected, got : \"+t);return t}class it extends HTMLElement{constructor(){super(),Mt(this),Pt(this).isNew=!0,Pt(this).destroyed=!1,Pt(this).attributesReaction={},Pt(this).uid=_t.call(this);let t=at.call(this);\"none\"!=t&&(this.shadow=this.attachShadow({mode:t}),xt.call(this),jt.call(this)),wt.call(this)}connectedCallback(){let t;if(this.ready)this.resetBox();else{this.getBox=()=>(t||(t=this.getBoundingClientRect()),t),this.resetBox=()=>{t=null},this.constructed=!0,window.addEventListener(\"resize\",()=>this.resetBox());let e=gt.call(this.constructor);lt.call(this,e,!0);let n=$t.call(this.constructor);lt.call(this,n,!1),Object.defineProperty(this,\"ready\",{writable:!1,value:!0})}this.dispatchEvent(new CustomEvent(\"ready\"))}disconnectedCallback(){this.destroy()}attributeChangedCallback(t,e,n){Pt(this).attributesReaction[t]&&Pt(this).attributesReaction[t].call(this,e,n)}static get observedAttributes(){return Object.keys(gt.call(this))}addEventListener(t,e){if(\"ready\"===t&&this.constructed){let t=new CustomEvent(\"ready\");setTimeout(e.bind(this),0,t)}else super.addEventListener.apply(this,arguments)}on(t,e){this.addEventListener(t,t=>e.call(this,t.detail))}setStyle(t,e){var n=arguments.length>1;Et.call(this,e),St.call(this,t,n,e)}static get shadowMode(){return\"open\"}destroy(){Pt(this).handler&&Pt(this).handler.destroy(),Pt(this).destroyed=!0}isDestroyed(){return Pt(this).destroyed}get uid(){return Pt(this).uid}_dispatch(t,e){if(Pt(this).destroyed)throw new Error(`Cannot dispatch ${t} on component ${this.tagName}. The component have been destroyed.`);this.dispatchEvent(new CustomEvent(t,{detail:e}))}static get shadowTemplate(){}static get serialize(){}static get expose(){}static css(t,...e){let n=\"\";\"\"===t[0]&&e.length&&(n=e[0],t=t.slice(1),e=e.slice(1)),Lt.call(this,n,t,e)}static html(t,...e){Ct.call(this,t,e)}}var at=function(){let t=this.constructor;for(;!t.shadowMode;)t=getPrototypeOf(t);return t.shadowMode},lt=function(t,e){let n;if(Array.isArray(t))n=t.map(t=>ut.call(this,t.toLowerCase(),null,e));else{n=[];for(let s in t){let r=t[s]||\"\";try{n.push(ut.call(this,s,r,e))}catch(t){console.error(t)}}}n.forEach(t=>{t&&t()})},ut=function(t,e,n){let s=mt.call(this,t,e,n);if(\"module\"===s.typeString)return bt.call(this,t,s);return s.serializable?ct.call(this,t,s):ht.call(this,t,s),pt.call(this,t,s),Object.defineProperty(this,t,{set:s.set,get:s.get}),ft.call(this,t,s)},ct=function(t,e){dt.call(this,\"write\",e),dt.call(this,\"read\",e);let{read:n,write:s}=e,r=!!s;e.set=r?function(e){this.setAttribute(t,s(e))}:function(e){this.setAttribute(t,e)};let o=!!n;e.get=o?function(){return n(this.getAttribute(t))}:function(e){return this.getAttribute(t)}},ht=function(t,e){if(\"exposed\"in Pt(this)||(Pt(this).exposed={}),t in Pt(this).exposed)throw new Error(t+\" is either a reserved attribute or is already in use.\");e.get=function(){return Pt(this).exposed[t]};const n=!!e.typeString,r=s[e.typeString];if(\"function\"!=typeof r)throw new Error(\"Invalid type for exposed property \"+t+\" : \"+e.typeString);let o=`\\n\\t\\t${e.onChange?\"const old = priv[name]\":\"\"}\\n\\t\\t${n?\"v = coerce(v)\":\"\"}\\n\\t\\tpriv[name]=v\\n\\t\\t${e.onChange?\"onChange.call(this,old,v)\":\"\"}\\n`,i=[\"priv\",\"name\"],a=[Pt(this).exposed,t];n&&(i.push(\"coerce\"),a.push(r)),e.onChange&&(i.push(\"onChange\"),a.push(e.onChange));let l=`\\treturn function(v){${o}}`,u=new Function(...i,l);e.useCoertion=n,e.coertion=r,e.set=u.apply(null,a)},pt=function(t,e){if(!e.oldValueExist)return;let n=e.initValue;if(e.serializable)e.isSerialized||(n=e.write.call(this,n)),this.setAttribute(t,n);else try{e.useCoertion&&(n=e.coertion(n)),Pt(this).exposed[t]=n}catch(t){console.error(t)}},ft=function(t,e){let n,s=e.read;if(\"function\"==typeof e.onChange){if(e.oldValueExist){let t=e.isSerialized&&s?s(e.initValue):e.initValue;n=e.onChange.bind(this,null,t)}e.serializable&&(Pt(this).attributesReaction[t]=e.read?function(t,n){e.onChange.call(this,s(t),s(n))}:e.onChange)}return n},dt=function(t,e){if(\"function\"==typeof e[t])e[t]=e[t].bind(this);else{let n=e.serializer();n&&n[t]&&(e[t]=n[t].bind(this))}},mt=function(t,e,n){let s,r,o,i=t.charAt(0).toUpperCase()+t.slice(1),a=\"on\"+i,l=\"stringTo\"+i,u=t+\"ToString\",c=t in this||n&&this.hasAttribute(t),h=n&&this.getAttribute(t)||this[t],p=n&&\"string\"==typeof h^\"string\"===e,f=!1;return\"string\"==typeof e?r=e:(r=e.type,f=!0,o=e,!c&&\"v0\"in e&&(c=!0,h=e.v0)),r=r.toLowerCase(),{read:this[l],write:this[u],onChange:this[a],serializer:()=>s||(s=$(r,this,t)),serializable:n,oldValueExist:c,initValue:h,isSerialized:p,typeString:r,useTypeObject:f,options:o}},bt=function(t,e){let{initValue:n,options:s}=e,r=new H(t,s),o=\"on\"+(t.charAt(0).toUpperCase()+t.slice(1));Object.defineProperty(this,t,{set:e=>this.setAttribute(t,e),get:()=>r.modules}),Pt(this).attributesReaction[t]=async(t,e)=>{let n=r.modules;try{let t=await r.update(e);this[o]&&this[o](n,t)}catch(t){if(!t.isCancelation)throw t}},this[t]=n},gt=function(){return yt.call(this,\"serialize\")},$t=function(){let t=Mt(this).expose;if(!t){t=vt.call(this,\"expose\");let e=gt.call(this);for(let n in e)delete t[n];Mt(this).expose=t}return t},yt=function(t){return Mt(this)[t]||(Mt(this)[t]=vt.call(this,t))},vt=function(t){let e=[],n=this;do{let s=n[t];if(s){if(Array.isArray(s)){let t={};s.forEach(e=>t[e]=void 0),s=t}e.push(s)}n=Object.getPrototypeOf(n)}while(n&&n!==it);return e.reverse(),e.length?Object.assign.apply(null,e):{}},wt=function(){let t=this.getAttribute(\"handlers\");if(t)try{let e=new q(this);Pt(this).handler=e,e.setCode(t)}catch(t){console.error(\"Failed to parse static event handler, cause : \"),console.error(t),Pt(this).handler&&(Pt(this).handler.destroy(),Pt(this).handler=null)}},xt=function(){let{template:t}=Mt(this.constructor);t&&(this.shadow.innerHTML+=t(this))},jt=function(){const{shadowStyles:t}=Mt(this.constructor);if(t)for(let e in t)St.call(this,t[e](this),\"\"!==e,e)};const Et=function(t){var e=t?`#cb-style-${t}`:'link[type=\"text/css\"],style';let n=this.shadow.querySelectorAll(e);for(var s of n)s.remove()},St=function(t,e,n){let s=t.match(/^\\.?\\//g);var r,o=e?`#cb-style-${n}`:'link[type=\"text/css\"],style';let i=this.shadow.querySelectorAll(o);for(var a of i)a.remove();if(t)return s?((r=document.createElement(\"link\")).setAttribute(\"rel\",\"stylesheet\"),r.setAttribute(\"type\",\"text/css\"),setTimeout(()=>r.setAttribute(\"href\",t),0)):(r=document.createElement(\"style\")).innerHTML=t.replace(/\\s+/g,\" \"),e&&(r.id=`cb-style-${n}`),this.shadow.appendChild(r),r};var Ct=function(t,e){let n=Mt(this).template;if(n)return n;n=At(t,e),Mt(this).template=n};const Lt=function(t,e,n){let s=Mt(this).shadowStyles;if(s||(s={},Mt(this).shadowStyles=s),t in s)throw new Error(\"Class \"+this.name+\" already have a static style \"+t);s[t]=At(e,n)};var _t=function(){return`${this.constructor.name}-${Date.now().toString(16)}-${Math.round(1e16*Math.random()).toString(16)}`};const At=function(t,e){return n=>t.map((t,s)=>t+((t,n)=>t>=e.length?\"\":\"function\"==typeof e[t]?e[t](n):String(e[t]))(s,n)).join(\"\")};{let t=new WeakMap;var Mt=function(e){let n=t.get(e);return n||(n={},t.set(e,n)),n},Pt=function(e){return t.get(e)}}var kt=it;var Tt=function(t,e){throw new Error(\"No implementation of method \"+e+\" in adapter class \"+t.constructor.name)},Ot=class{constructor(t){}setCenter(t){Tt(this,\"setCenter\")}getCenter(){Tt(this,\"getCenter\")}setZoom(t){Tt(this,\"setZoom\")}getZoom(){Tt(this,\"getZoom\")}addMapEvent(t,e){Tt(this,\"addMapEvent\")}removeMapEvent(t,e){Tt(this,\"addMapEvent\")}latLngToComponentPx(t){Tt(this,\"latLngToComponentPx\")}componentPxToLatLng(t){Tt(this,\"latLngToComponentPx\")}get mapObject(){Tt(this,\"get mapObject\")}};function zt(t,e){return new Zt(t)}async function Nt(t,e,n){let s=e.getAttribute(\"api-key\");if(!s)throw new Error(\"The component \"+e.tagName+\" should have an attribute api-key containing the google's API key in order to work with google map.\");await Ht(e,s);let r=document.createElement(\"div\");r.id=\"mapContainer\",e.shadowRoot.append(r);let o=Rt(e,r),i=new Promise(t=>google.maps.event.addListenerOnce(o,\"projection_changed\",t));return await i,Ft(t).map=o,o}const Bt=\"google\";class Zt extends Ot{constructor(t){super(),Dt(this),Ft(this).eventHandles=new WeakMap,Ft(this).mapComponent=t}setCenter(t,e){let n=Ut(t),s=isNaN(t.latitude+t.longitude),r=isNaN(e.latitude+e.longitude);s||(isNaN(r)?Ft(this).map.setCenter(n):Ft(this).map.panTo(n))}getCenter(){let t=Ft(this).map.getCenter();return{latitude:t.lat(),longitude:t.lng()}}setZoom(t){Ft(this).notUserZoom=!0,Ft(this).map.setZoom(t),Ft(this).notUserZoom=!1}getZoom(){return Ft(this).map.getZoom()}addMapEvent(t,e){let n=qt[t];if(\"map_user_zoom\"===t){let t=e,n=this;e=function(e){Ft(n).notUserZoom||t.call(this,e)}}let s=Ft(this).map.addListener(n,e);Ft(this).eventHandles.set(e,s)}removeMapEvent(t,e){let n=Ft(this).eventHandles.get(e);google.maps.event.removeListener(n)}latLngToComponentPx(t,e,n){let s=Ut(t);var r=2**(arguments.length>2?n:Ft(this).map.getZoom()),o=Ft(this).map.getProjection(),i=Ft(this).map.getBounds(),a=o.fromLatLngToPoint(arguments.length>1?Ut(e):new google.maps.LatLng(i.getNorthEast().lat(),i.getSouthWest().lng())),l=o.fromLatLngToPoint(s);let u=(l.x-a.x)*r,c=(l.y-a.y)*r;if(arguments.length>1){let t=Ft(this).mapComponent.getBox();u+=t.width/2,c+=t.height/2}return new google.maps.Point(Math.floor(u),Math.floor(c))}componentPxToLatLng(t){var e=Math.pow(2,Ft(this).map.getZoom()),n=Ft(this).map.getProjection(),s=Ft(this).map.getBounds(),r=n.fromLatLngToPoint(new google.maps.LatLng(s.getNorthEast().lat(),s.getSouthWest().lng())),o=new google.maps.Point;o.x=t.x/e+r.x,o.y=t.y/e+r.y;let i=n.fromPointToLatLng(o);return{latitude:i.lat(),longitude:i.lng()}}get mapObject(){return Ft(this).map}}const qt={map_drag:\"drag\",map_dragend:\"dragend\",map_dragstart:\"dragstart\",map_idle:\"idle\",map_zoom:\"zoom_changed\",map_user_zoom:\"zoom_changed\"};var Ht=async function(t,e){let n=document.createElement(\"script\");n.setAttribute(\"type\",\"text/javascript\"),n.setAttribute(\"async\",\"true\");let s=\"F\"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),r=new Promise(t=>window[s]=t),o=t.lang,i=\"https://maps.googleapis.com/maps/api/js?key=\"+e+\"&callback=\"+s;o&&(i+=\"&language=\"+o),n.setAttribute(\"src\",i),t.shadowRoot.append(n),await r,delete window[s]},Rt=function(t,e){let n={fullscreenControl:!1,zoom:isNaN(t.zoom)?14:t.zoom,center:Ut(t.location),mapTypeId:google.maps.MapTypeId.ROADMAP};return new google.maps.Map(e,n)},Ut=function(t){let{latitude:e,longitude:n}=t;return new google.maps.LatLng(+e,+n)};{let t=new WeakMap;var Dt=function(e){t.set(e,{})},Ft=function(e){return t.get(e)}}function Wt(t,e){return new Jt(t)}async function It(t,e,n){await Gt(e),await Yt(e);let s=document.createElement(\"div\");return s.id=\"mapContainer\",e.shadowRoot.append(s),Xt(s,t,e)}const Vt=\"leaflet\";class Jt{constructor(t){le(this),ue(this).mapComponent=t,ue(this).handlers={}}setCenter(t,e){let n=isNaN(t.latitude+t.longitude),s=!e||isNaN(e.latitude+e.longitude);if(n)return;let r=te(t);ue(this).canBeUser=!1;let o=s?{noMoveStart:!0}:{animate:!0,noMoveStart:!0};ue(this).map.panTo(r,o)}getCenter(){let t=ue(this).map.getCenter();return{latitude:t.lat,longitude:t.lng}}setZoom(t){ue(this).canBeUser=!1,ue(this).isAutoZoom=!0,ue(this).map.setZoom(t,{noMoveStart:!0})}getZoom(){return ue(this).map.getZoom()}addMapEvent(t,e){let n=this,s=Qt.has(t)?function(t){ue(n).canBeUser&&!ue(n).isAutoZoom&&e.call(this,t)}:e;ue(this).handlers[t]=s,ue(this).map.on(Kt[t],s)}removeMapEvent(t,e){let n=Kt[t],s=ue(this).handlers[t];ue(this).map.off(n,s),delete ue(this).handlers[t]}latLngToComponentPx(t,e,n){let s=te(t),r=ue(this).map;if(1===arguments.length)return r.latLngToContainerPoint(s);let o=arguments.length>2?n:this.getZoom();var i=ue(this).map.getBounds(),a=r.project(arguments.length>1?te(e):L.LatLng(i.getNorth(),i.getWest()),o),l=r.project(s,o);let u=l.x-a.x,c=l.y-a.y;if(arguments.length>1){let t=ue(this).mapComponent.getBox();u+=t.width/2,c+=t.height/2}return L.Point(Math.floor(u),Math.floor(c))}componentPxToLatLng(t){let e=ue(this).map,{lat:n,lng:s}=e.containerPointToLatLng(t);return{latitude:n,longitude:s}}get mapObject(){return ue(this).map}}const Kt={map_drag:\"move\",map_dragend:\"moveend\",map_dragstart:\"movestart\",map_idle:\"load moveend viewreset zoomend\",map_zoom:\"zoom\",map_user_zoom:\"zoom\"},Qt=new Set([\"map_drag\",\"map_dragend\",\"map_dragstart\",\"map_user_zoom\"]);var Gt=function(t){let e=t.getAttribute(\"leaflet-style\")||re,n=t.setStyle(e,\"leaflet\"),s=t.getAttribute(\"style-integrity\")||oe;return n.setAttribute(\"integrity\",s),n.setAttribute(\"crossorigin\",\"\"),new Promise(t=>n.addEventListener(\"load\",t))},Yt=function(t){if(!(\"L\"in window)){let e=document.createElement(\"script\"),n=t.getAttribute(\"script-integrity\")||se;e.setAttribute(\"integrity\",n),e.setAttribute(\"crossorigin\",\"\");let s=new Promise(t=>e.addEventListener(\"load\",t));return e.src=t.getAttribute(\"leaflet-src\")||ne,document.head.append(e),s}return Promise.resolve()},Xt=async function(t,e,n){let s=L.map(t),r=new Promise(t=>s.whenReady(t)),o=n.getAttribute(\"tiles-src\")||ie,i=n.getAttribute(\"tiles-attribution\")||o===ie&&ae;(i?L.tileLayer(o,{attribution:i}):L.tileLayer(o)).addTo(s),ue(e).map=s;let a=n.location;return ue(e).discardEvent=!0,s.setView([a.latitude,a.longitude],n.zoom),ue(e).discardEvent=!1,ee.call(e),await r,s},te=function(t){let{latitude:e,longitude:n}=t;return L.latLng(+e,+n)},ee=function(){let t=this.mapObject;t.on(\"movestart\",()=>{ue(this).canBeUser=!0}),t.on(\"zoomend\",()=>{setTimeout(()=>ue(this).isAutoZoom=!1,100)})};const ne=\"https://unpkg.com/leaflet@1.5.1/dist/leaflet.js\",se=\"sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og==\",re=\"https://unpkg.com/leaflet@1.5.1/dist/leaflet.css\",oe=\"sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==\",ie=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",ae='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors';{let t=new WeakMap;var le=function(e){t.set(e,{})},ue=function(e){return t.get(e)}}var ce=async function(){if(!je(this).adapter){let t=this.poweredby,e=this.addons;if(!t)return;let s=await Promise.all(e.map(t=>n(1)(t).catch(e=>{console.error(\"Failed to load add-on \"+t+\", reason : \"),console.error(e)})));await he.call(this,s,t);let r=[];s.filter(t=>t&&!t.enabling).forEach(async t=>{try{let e=t.create(je(this).adapter,this,je(this).map);if(e instanceof Promise){e.catch(e=>{console.error(\"Failed to create feature add-on \"+t.nameSpace+\". Caused by :\"),console.error(e)});r.push(e),e=await e}je(this).enabledAddons.push(t),this[t.nameSpace]=e}catch(t){console.error(t)}}),await Promise.all(r),this._dispatch(\"addons_loaded\"),je(this).mapReady=!0}},he=async function(t,e){let n=t.find(t=>t.enabling===e),s=t.filter(t=>!t.enabling);if(n||(n=ve[e]),!n)throw new Error(\"no default or add on adapter for map library \"+e);je(this).adapter=n.createAdapter(this,s),je(this).map=await n.createMap(je(this).adapter,this,t,s),we.forEach(pe.bind(this)),me.call(this)},pe=function(t){try{let e=fe.call(this,t);je(this).adapter.addMapEvent(t,fe.call(this,t)),je(this).eventBidges.push(e)}catch(t){console.error(t)}},fe=function(t){let e=de.bind({eventTarget:this,eventType:t});return e.eventType=t,e},de=function(t){let e=new CustomEvent(this.eventType);this.eventTarget.dispatchEvent(e)},me=function(){this.addEventListener(\"map_zoom\",ge),this.addEventListener(\"map_drag\",be),this.addEventListener(\"map_idle\",be)},be=function(t){let e=t.target;e.location=je(e).adapter.getCenter()},ge=function(t){let e=t.target;e.zoom=je(e).adapter.getZoom()};const $e=\"\\n\\t:host{\\n\\t\\tdisplay:block;\\n\\t}\\n\",ye=\"\\n\\t\\n\\t#mapContainer{\\n\\t\\tdisplay:block;\\n\\t\\theight:100%;\\n\\t\\twidth:100%;\\n\\t}\\n\\n\";var ve={google:r,leaflet:o};const we=[\"map_drag\",\"map_dragend\",\"map_dragstart\",\"map_idle\",\"map_zoom\",\"map_user_zoom\"];{let t=new WeakMap;var xe=function(e){t.set(e,{})},je=function(e){return t.get(e)}}var Ee=class extends kt{constructor(){super(),xe(this),je(this).enabledAddons=[],je(this).eventBidges=[],je(this).mapReady=!1}connectedCallback(){this.ready||(this.addons=this.addons||[],this.zoom=isNaN(this.zoom)?14:this.zoom,this.location=this.location||{latitude:180*Math.random()-90,longitude:180*Math.random()-90},this.setStyle($e),this.setStyle(ye,\"mapContainer\")),super.connectedCallback()}get mapReady(){return je(this).mapReady}get adapter(){return je(this).adapter}static get serialize(){return{location:\"map\",zoom:\"number\",poweredby:\"string\",addons:\"array<string>\"}}static get shadowMod(){return\"open\"}onAddons(t,e){if(t&&t.length)throw this.setAttribute(\"errored\",\"true\"),new Error(\"Map addons can only be set once\")}onPoweredby(t,e){if(t&&t.length)throw this.setAttribute(\"errored\",\"true\"),new Error(\"Map engine can only be set once\");ce.call(this)}onLocation(t,e){if(je(this).adapter){let{latitude:n,longitude:s}=je(this).adapter.getCenter();e.latitude===n&&e.longitude===s||je(this).adapter.setCenter(e,t)}this._dispatch(\"map_center\",e)}onZoom(t,e){je(this).adapter&&je(this).adapter.getZoom()!==e&&je(this).adapter.setZoom(e,t),this._dispatch(\"zoom\",e)}destroy(){je(this).eventBidges.forEach(t=>{je(this).adapter.removeMapEvent(t.eventType,t)}),je(this).eventBidges=[],je(this).enabledAddons.forEach(t=>t.destroy(this[t.nameSpace])),je(this).adapter.destroy(),super.destroy()}};new WeakMap;customElements.define(\"map-component\",Ee)}]);","extractedComments":[]}